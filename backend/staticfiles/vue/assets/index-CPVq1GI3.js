var $P=Object.defineProperty;var cA=s=>{throw TypeError(s)};var GP=(s,t,e)=>t in s?$P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var _t=(s,t,e)=>GP(s,typeof t!="symbol"?t+"":t,e),Vv=(s,t,e)=>t.has(s)||cA("Cannot "+e);var h=(s,t,e)=>(Vv(s,t,"read from private field"),e?e.call(s):t.get(s)),x=(s,t,e)=>t.has(s)?cA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),w=(s,t,e,n)=>(Vv(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),C=(s,t,e)=>(Vv(s,t,"access private method"),e);var rn=(s,t,e,n)=>({set _(i){w(s,t,i,e)},get _(){return h(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ps(s){const t=Object.create(null);for(const e of s.split(","))t[e]=1;return e=>e in t}const se={},zl=[],_s=()=>{},kc=()=>!1,Ia=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Um=s=>s.startsWith("onUpdate:"),re=Object.assign,Bm=(s,t)=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)},zP=Object.prototype.hasOwnProperty,ye=(s,t)=>zP.call(s,t),dt=Array.isArray,Xl=s=>fc(s)==="[object Map]",Ra=s=>fc(s)==="[object Set]",Ib=s=>fc(s)==="[object Date]",M1=s=>fc(s)==="[object RegExp]",Ot=s=>typeof s=="function",kt=s=>typeof s=="string",Sn=s=>typeof s=="symbol",Te=s=>s!==null&&typeof s=="object",jm=s=>(Te(s)||Ot(s))&&Ot(s.then)&&Ot(s.catch),OE=Object.prototype.toString,fc=s=>OE.call(s),N1=s=>fc(s).slice(8,-1),ep=s=>fc(s)==="[object Object]",Hm=s=>kt(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,mo=Ps(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D1=Ps("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Vm=s=>{const t=Object.create(null);return e=>t[e]||(t[e]=s(e))},XP=/-(\w)/g,Le=Vm(s=>s.replace(XP,(t,e)=>e?e.toUpperCase():"")),WP=/\B([A-Z])/g,Zs=Vm(s=>s.replace(WP,"-$1").toLowerCase()),Oa=Vm(s=>s.charAt(0).toUpperCase()+s.slice(1)),Wl=Vm(s=>s?`on${Oa(s)}`:""),qs=(s,t)=>!Object.is(s,t),Kl=(s,...t)=>{for(let e=0;e<s.length;e++)s[e](...t)},ME=(s,t,e,n=!1)=>{Object.defineProperty(s,t,{configurable:!0,enumerable:!1,writable:n,value:e})},dd=s=>{const t=parseFloat(s);return isNaN(t)?s:t},fd=s=>{const t=kt(s)?Number(s):NaN;return isNaN(t)?s:t};let uA;const sp=()=>uA||(uA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),KP=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function YP(s){return KP.test(s)?`__props.${s}`:`__props[${JSON.stringify(s)}]`}function qP(s,t){return s+JSON.stringify(t,(e,n)=>typeof n=="function"?n.toString():n)}const JP={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},QP={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},ZP={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},tI={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},eI={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},sI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",NE=Ps(sI),nI=NE,hA=2;function L1(s,t=0,e=s.length){if(t=Math.max(0,Math.min(t,s.length)),e=Math.max(0,Math.min(e,s.length)),t>e)return"";let n=s.split(/(\r?\n)/);const i=n.filter((a,l)=>l%2===1);n=n.filter((a,l)=>l%2===0);let r=0;const o=[];for(let a=0;a<n.length;a++)if(r+=n[a].length+(i[a]&&i[a].length||0),r>=t){for(let l=a-hA;l<=a+hA||e>r;l++){if(l<0||l>=n.length)continue;const c=l+1;o.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${n[l]}`);const u=n[l].length,d=i[l]&&i[l].length||0;if(l===a){const f=t-(r-(u+d)),p=Math.max(1,e>r?u-f:e-t);o.push("   |  "+" ".repeat(f)+"^".repeat(p))}else if(l>a){if(e>r){const f=Math.max(Math.min(e-r,u),1);o.push("   |  "+"^".repeat(f))}r+=u+d}}break}return o.join(`
`)}function Ao(s){if(dt(s)){const t={};for(let e=0;e<s.length;e++){const n=s[e],i=kt(n)?DE(n):Ao(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(kt(s)||Te(s))return s}const iI=/;(?![^(]*\))/g,rI=/:([^]+)/,oI=/\/\*[^]*?\*\//g;function DE(s){const t={};return s.replace(oI,"").split(iI).forEach(e=>{if(e){const n=e.split(rI);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function aI(s){if(!s)return"";if(kt(s))return s;let t="";for(const e in s){const n=s[e];if(kt(n)||typeof n=="number"){const i=e.startsWith("--")?e:Zs(e);t+=`${i}:${n};`}}return t}function vs(s){let t="";if(kt(s))t=s;else if(dt(s))for(let e=0;e<s.length;e++){const n=vs(s[e]);n&&(t+=n+" ")}else if(Te(s))for(const e in s)s[e]&&(t+=e+" ");return t.trim()}function k1(s){if(!s)return null;let{class:t,style:e}=s;return t&&!kt(t)&&(s.class=vs(t)),e&&(s.style=Ao(e)),s}const lI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",cI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",uI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",hI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",F1=Ps(lI),U1=Ps(cI),B1=Ps(uI),j1=Ps(hI),H1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V1=Ps(H1),dI=Ps(H1+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function LE(s){return!!s||s===""}const fI=/[>/="'\u0009\u000a\u000c\u0020]/,$v={};function pI(s){if($v.hasOwnProperty(s))return $v[s];const t=fI.test(s);return t&&console.error(`unsafe attribute name: ${s}`),$v[s]=!t}const gI={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},mI=Ps("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),vI=Ps("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),bI=Ps("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function yI(s){if(s==null)return!1;const t=typeof s;return t==="string"||t==="number"||t==="boolean"}const EI=/["'&<>]/;function SI(s){const t=""+s,e=EI.exec(t);if(!e)return t;let n="",i,r,o=0;for(r=e.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(n+=t.slice(o,r)),o=r+1,n+=i}return o!==r?n+t.slice(o,r):n}const AI=/^-?>|<!--|-->|--!>|<!-$/g;function wI(s){return s.replace(AI,"")}const $1=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function TI(s,t){return s.replace($1,e=>t?e==='"'?'\\\\\\"':`\\\\${e}`:`\\${e}`)}function CI(s,t){if(s.length!==t.length)return!1;let e=!0;for(let n=0;e&&n<s.length;n++)e=wo(s[n],t[n]);return e}function wo(s,t){if(s===t)return!0;let e=Ib(s),n=Ib(t);if(e||n)return e&&n?s.getTime()===t.getTime():!1;if(e=Sn(s),n=Sn(t),e||n)return s===t;if(e=dt(s),n=dt(t),e||n)return e&&n?CI(s,t):!1;if(e=Te(s),n=Te(t),e||n){if(!e||!n)return!1;const i=Object.keys(s).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in s){const a=s.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!wo(s[o],t[o]))return!1}}return String(s)===String(t)}function np(s,t){return s.findIndex(e=>wo(e,t))}const G1=s=>!!(s&&s.__v_isRef===!0),q=s=>kt(s)?s:s==null?"":dt(s)||Te(s)&&(s.toString===OE||!Ot(s.toString))?G1(s)?q(s.value):JSON.stringify(s,z1,2):String(s),z1=(s,t)=>G1(t)?z1(s,t.value):Xl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i],r)=>(e[Gv(n,r)+" =>"]=i,e),{})}:Ra(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Gv(e))}:Sn(t)?Gv(t):Te(t)&&!dt(t)&&!ep(t)?String(t):t,Gv=(s,t="")=>{var e;return Sn(s)?`Symbol(${(e=s.description)!=null?e:t})`:s},xI=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:zl,EMPTY_OBJ:se,NO:kc,NOOP:_s,PatchFlagNames:QP,PatchFlags:JP,ShapeFlags:ZP,SlotFlags:tI,camelize:Le,capitalize:Oa,cssVarNameEscapeSymbolsRE:$1,def:ME,escapeHtml:SI,escapeHtmlComment:wI,extend:re,genCacheKey:qP,genPropsAccessExp:YP,generateCodeFrame:L1,getEscapedCssVarName:TI,getGlobalThis:sp,hasChanged:qs,hasOwn:ye,hyphenate:Zs,includeBooleanAttr:LE,invokeArrayFns:Kl,isArray:dt,isBooleanAttr:dI,isBuiltInDirective:D1,isDate:Ib,isFunction:Ot,isGloballyAllowed:NE,isGloballyWhitelisted:nI,isHTMLTag:F1,isIntegerKey:Hm,isKnownHtmlAttr:mI,isKnownMathMLAttr:bI,isKnownSvgAttr:vI,isMap:Xl,isMathMLTag:B1,isModelListener:Um,isObject:Te,isOn:Ia,isPlainObject:ep,isPromise:jm,isRegExp:M1,isRenderableAttrValue:yI,isReservedProp:mo,isSSRSafeAttrName:pI,isSVGTag:U1,isSet:Ra,isSpecialBooleanAttr:V1,isString:kt,isSymbol:Sn,isVoidTag:j1,looseEqual:wo,looseIndexOf:np,looseToNumber:dd,makeMap:Ps,normalizeClass:vs,normalizeProps:k1,normalizeStyle:Ao,objectToString:OE,parseStringStyle:DE,propsToAttrMap:gI,remove:Bm,slotFlagsText:eI,stringifyStyle:aI,toDisplayString:q,toHandlerKey:Wl,toNumber:fd,toRawType:N1,toTypeString:fc},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let dn;class kE{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=dn,!t&&dn&&(this.index=(dn.scopes||(dn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=dn;try{return dn=this,t()}finally{dn=e}}}on(){dn=this}off(){dn=this.parent}stop(t){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function FE(s){return new kE(s)}function UE(){return dn}function X1(s,t=!1){dn&&dn.cleanups.push(s)}let De;const zv=new WeakSet;class pd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,dn&&dn.active&&dn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zv.has(this)&&(zv.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||K1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dA(this),Y1(this);const t=De,e=Wi;De=this,Wi=!0;try{return this.fn()}finally{q1(this),De=t,Wi=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)HE(t);this.deps=this.depsTail=void 0,dA(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zv.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Rb(this)&&this.run()}get dirty(){return Rb(this)}}let W1=0,Yh,qh;function K1(s,t=!1){if(s.flags|=8,t){s.next=qh,qh=s;return}s.next=Yh,Yh=s}function BE(){W1++}function jE(){if(--W1>0)return;if(qh){let t=qh;for(qh=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let s;for(;Yh;){let t=Yh;for(Yh=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){s||(s=n)}t=e}}if(s)throw s}function Y1(s){for(let t=s.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function q1(s){let t,e=s.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),HE(n),_I(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}s.deps=t,s.depsTail=e}function Rb(s){for(let t=s.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(J1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!s._dirty}function J1(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===gd))return;s.globalVersion=gd;const t=s.dep;if(s.flags|=2,t.version>0&&!s.isSSR&&s.deps&&!Rb(s)){s.flags&=-3;return}const e=De,n=Wi;De=s,Wi=!0;try{Y1(s);const i=s.fn(s._value);(t.version===0||qs(i,s._value))&&(s._value=i,t.version++)}catch(i){throw t.version++,i}finally{De=e,Wi=n,q1(s),s.flags&=-3}}function HE(s,t=!1){const{dep:e,prevSub:n,nextSub:i}=s;if(n&&(n.nextSub=i,s.prevSub=void 0),i&&(i.prevSub=n,s.nextSub=void 0),e.subs===s&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)HE(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function _I(s){const{prevDep:t,nextDep:e}=s;t&&(t.nextDep=e,s.prevDep=void 0),e&&(e.prevDep=t,s.nextDep=void 0)}function PI(s,t){s.effect instanceof pd&&(s=s.effect.fn);const e=new pd(s);t&&re(e,t);try{e.run()}catch(i){throw e.stop(),i}const n=e.run.bind(e);return n.effect=e,n}function II(s){s.effect.stop()}let Wi=!0;const Q1=[];function Ma(){Q1.push(Wi),Wi=!1}function Na(){const s=Q1.pop();Wi=s===void 0?!0:s}function dA(s){const{cleanup:t}=s;if(s.cleanup=void 0,t){const e=De;De=void 0;try{t()}finally{De=e}}}let gd=0;class RI{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $m{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!De||!Wi||De===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==De)e=this.activeLink=new RI(De,this),De.deps?(e.prevDep=De.depsTail,De.depsTail.nextDep=e,De.depsTail=e):De.deps=De.depsTail=e,Z1(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=De.depsTail,e.nextDep=void 0,De.depsTail.nextDep=e,De.depsTail=e,De.deps===e&&(De.deps=n)}return e}trigger(t){this.version++,gd++,this.notify(t)}notify(t){BE();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{jE()}}}function Z1(s){if(s.dep.sc++,s.sub.flags&4){const t=s.dep.computed;if(t&&!s.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Z1(n)}const e=s.dep.subs;e!==s&&(s.prevSub=e,e&&(e.nextSub=s)),s.dep.subs=s}}const Bg=new WeakMap,Yl=Symbol(""),Ob=Symbol(""),md=Symbol("");function Js(s,t,e){if(Wi&&De){let n=Bg.get(s);n||Bg.set(s,n=new Map);let i=n.get(e);i||(n.set(e,i=new $m),i.map=n,i.key=e),i.track()}}function uo(s,t,e,n,i,r){const o=Bg.get(s);if(!o){gd++;return}const a=l=>{l&&l.trigger()};if(BE(),t==="clear")o.forEach(a);else{const l=dt(s),c=l&&Hm(e);if(l&&e==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===md||!Sn(f)&&f>=u)&&a(d)})}else switch((e!==void 0||o.has(void 0))&&a(o.get(e)),c&&a(o.get(md)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Yl)),Xl(s)&&a(o.get(Ob)));break;case"delete":l||(a(o.get(Yl)),Xl(s)&&a(o.get(Ob)));break;case"set":Xl(s)&&a(o.get(Yl));break}}jE()}function OI(s,t){const e=Bg.get(s);return e&&e.get(t)}function bc(s){const t=ue(s);return t===s?t:(Js(t,"iterate",md),ti(s)?t:t.map(Qs))}function Gm(s){return Js(s=ue(s),"iterate",md),s}const MI={__proto__:null,[Symbol.iterator](){return Xv(this,Symbol.iterator,Qs)},concat(...s){return bc(this).concat(...s.map(t=>dt(t)?bc(t):t))},entries(){return Xv(this,"entries",s=>(s[1]=Qs(s[1]),s))},every(s,t){return Or(this,"every",s,t,void 0,arguments)},filter(s,t){return Or(this,"filter",s,t,e=>e.map(Qs),arguments)},find(s,t){return Or(this,"find",s,t,Qs,arguments)},findIndex(s,t){return Or(this,"findIndex",s,t,void 0,arguments)},findLast(s,t){return Or(this,"findLast",s,t,Qs,arguments)},findLastIndex(s,t){return Or(this,"findLastIndex",s,t,void 0,arguments)},forEach(s,t){return Or(this,"forEach",s,t,void 0,arguments)},includes(...s){return Wv(this,"includes",s)},indexOf(...s){return Wv(this,"indexOf",s)},join(s){return bc(this).join(s)},lastIndexOf(...s){return Wv(this,"lastIndexOf",s)},map(s,t){return Or(this,"map",s,t,void 0,arguments)},pop(){return mh(this,"pop")},push(...s){return mh(this,"push",s)},reduce(s,...t){return fA(this,"reduce",s,t)},reduceRight(s,...t){return fA(this,"reduceRight",s,t)},shift(){return mh(this,"shift")},some(s,t){return Or(this,"some",s,t,void 0,arguments)},splice(...s){return mh(this,"splice",s)},toReversed(){return bc(this).toReversed()},toSorted(s){return bc(this).toSorted(s)},toSpliced(...s){return bc(this).toSpliced(...s)},unshift(...s){return mh(this,"unshift",s)},values(){return Xv(this,"values",Qs)}};function Xv(s,t,e){const n=Gm(s),i=n[t]();return n!==s&&!ti(s)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=e(r.value)),r}),i}const NI=Array.prototype;function Or(s,t,e,n,i,r){const o=Gm(s),a=o!==s&&!ti(s),l=o[t];if(l!==NI[t]){const d=l.apply(s,r);return a?Qs(d):d}let c=e;o!==s&&(a?c=function(d,f){return e.call(this,Qs(d),f,s)}:e.length>2&&(c=function(d,f){return e.call(this,d,f,s)}));const u=l.call(o,c,n);return a&&i?i(u):u}function fA(s,t,e,n){const i=Gm(s);let r=e;return i!==s&&(ti(s)?e.length>3&&(r=function(o,a,l){return e.call(this,o,a,l,s)}):r=function(o,a,l){return e.call(this,o,Qs(a),l,s)}),i[t](r,...n)}function Wv(s,t,e){const n=ue(s);Js(n,"iterate",md);const i=n[t](...e);return(i===-1||i===!1)&&Wm(e[0])?(e[0]=ue(e[0]),n[t](...e)):i}function mh(s,t,e=[]){Ma(),BE();const n=ue(s)[t].apply(s,e);return jE(),Na(),n}const DI=Ps("__proto__,__v_isRef,__isVue"),tw=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Sn));function LI(s){Sn(s)||(s=String(s));const t=ue(this);return Js(t,"has",s),t.hasOwnProperty(s)}class ew{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return r;if(e==="__v_raw")return n===(i?r?aw:ow:r?rw:iw).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=dt(t);if(!i){let l;if(o&&(l=MI[e]))return l;if(e==="hasOwnProperty")return LI}const a=Reflect.get(t,e,Ke(t)?t:n);return(Sn(e)?tw.has(e):DI(e))||(i||Js(t,"get",e),r)?a:Ke(a)?o&&Hm(e)?a:a.value:Te(a)?i?$E(a):ch(a):a}}class sw extends ew{constructor(t=!1){super(!1,t)}set(t,e,n,i){let r=t[e];if(!this._isShallow){const l=wa(r);if(!ti(n)&&!wa(n)&&(r=ue(r),n=ue(n)),!dt(t)&&Ke(r)&&!Ke(n))return l?!1:(r.value=n,!0)}const o=dt(t)&&Hm(e)?Number(e)<t.length:ye(t,e),a=Reflect.set(t,e,n,Ke(t)?t:i);return t===ue(i)&&(o?qs(n,r)&&uo(t,"set",e,n):uo(t,"add",e,n)),a}deleteProperty(t,e){const n=ye(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&uo(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return(!Sn(e)||!tw.has(e))&&Js(t,"has",e),n}ownKeys(t){return Js(t,"iterate",dt(t)?"length":Yl),Reflect.ownKeys(t)}}class nw extends ew{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const kI=new sw,FI=new nw,UI=new sw(!0),BI=new nw(!0),Mb=s=>s,Ap=s=>Reflect.getPrototypeOf(s);function jI(s,t,e){return function(...n){const i=this.__v_raw,r=ue(i),o=Xl(r),a=s==="entries"||s===Symbol.iterator&&o,l=s==="keys"&&o,c=i[s](...n),u=e?Mb:t?Nb:Qs;return!t&&Js(r,"iterate",l?Ob:Yl),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function wp(s){return function(...t){return s==="delete"?!1:s==="clear"?void 0:this}}function HI(s,t){const e={get(i){const r=this.__v_raw,o=ue(r),a=ue(i);s||(qs(i,a)&&Js(o,"get",i),Js(o,"get",a));const{has:l}=Ap(o),c=t?Mb:s?Nb:Qs;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!s&&Js(ue(i),"iterate",Yl),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=ue(r),a=ue(i);return s||(qs(i,a)&&Js(o,"has",i),Js(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ue(a),c=t?Mb:s?Nb:Qs;return!s&&Js(l,"iterate",Yl),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return re(e,s?{add:wp("add"),set:wp("set"),delete:wp("delete"),clear:wp("clear")}:{add(i){!t&&!ti(i)&&!wa(i)&&(i=ue(i));const r=ue(this);return Ap(r).has.call(r,i)||(r.add(i),uo(r,"add",i,i)),this},set(i,r){!t&&!ti(r)&&!wa(r)&&(r=ue(r));const o=ue(this),{has:a,get:l}=Ap(o);let c=a.call(o,i);c||(i=ue(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?qs(r,u)&&uo(o,"set",i,r):uo(o,"add",i,r),this},delete(i){const r=ue(this),{has:o,get:a}=Ap(r);let l=o.call(r,i);l||(i=ue(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&uo(r,"delete",i,void 0),c},clear(){const i=ue(this),r=i.size!==0,o=i.clear();return r&&uo(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=jI(i,s,t)}),e}function zm(s,t){const e=HI(s,t);return(n,i,r)=>i==="__v_isReactive"?!s:i==="__v_isReadonly"?s:i==="__v_raw"?n:Reflect.get(ye(e,i)&&i in n?e:n,i,r)}const VI={get:zm(!1,!1)},$I={get:zm(!1,!0)},GI={get:zm(!0,!1)},zI={get:zm(!0,!0)},iw=new WeakMap,rw=new WeakMap,ow=new WeakMap,aw=new WeakMap;function XI(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function WI(s){return s.__v_skip||!Object.isExtensible(s)?0:XI(N1(s))}function ch(s){return wa(s)?s:Xm(s,!1,kI,VI,iw)}function VE(s){return Xm(s,!1,UI,$I,rw)}function $E(s){return Xm(s,!0,FI,GI,ow)}function KI(s){return Xm(s,!0,BI,zI,aw)}function Xm(s,t,e,n,i){if(!Te(s)||s.__v_raw&&!(t&&s.__v_isReactive))return s;const r=i.get(s);if(r)return r;const o=WI(s);if(o===0)return s;const a=new Proxy(s,o===2?n:e);return i.set(s,a),a}function Tr(s){return wa(s)?Tr(s.__v_raw):!!(s&&s.__v_isReactive)}function wa(s){return!!(s&&s.__v_isReadonly)}function ti(s){return!!(s&&s.__v_isShallow)}function Wm(s){return s?!!s.__v_raw:!1}function ue(s){const t=s&&s.__v_raw;return t?ue(t):s}function Km(s){return!ye(s,"__v_skip")&&Object.isExtensible(s)&&ME(s,"__v_skip",!0),s}const Qs=s=>Te(s)?ch(s):s,Nb=s=>Te(s)?$E(s):s;function Ke(s){return s?s.__v_isRef===!0:!1}function bi(s){return lw(s,!1)}function GE(s){return lw(s,!0)}function lw(s,t){return Ke(s)?s:new YI(s,t)}class YI{constructor(t,e){this.dep=new $m,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ue(t),this._value=e?t:Qs(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||ti(t)||wa(t);t=n?t:ue(t),qs(t,e)&&(this._rawValue=t,this._value=n?t:Qs(t),this.dep.trigger())}}function qI(s){s.dep&&s.dep.trigger()}function Cr(s){return Ke(s)?s.value:s}function JI(s){return Ot(s)?s():Cr(s)}const QI={get:(s,t,e)=>t==="__v_raw"?s:Cr(Reflect.get(s,t,e)),set:(s,t,e,n)=>{const i=s[t];return Ke(i)&&!Ke(e)?(i.value=e,!0):Reflect.set(s,t,e,n)}};function zE(s){return Tr(s)?s:new Proxy(s,QI)}class ZI{constructor(t){this.__v_isRef=!0,this._value=void 0;const e=this.dep=new $m,{get:n,set:i}=t(e.track.bind(e),e.trigger.bind(e));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function cw(s){return new ZI(s)}function uw(s){const t=dt(s)?new Array(s.length):{};for(const e in s)t[e]=hw(s,e);return t}class tR{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return OI(ue(this._object),this._key)}}class eR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function sR(s,t,e){return Ke(s)?s:Ot(s)?new eR(s):Te(s)&&arguments.length>1?hw(s,t,e):bi(s)}function hw(s,t,e){const n=s[t];return Ke(n)?n:new tR(s,t,e)}class nR{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new $m(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return K1(this,!0),!0}get value(){const t=this.dep.track();return J1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function iR(s,t,e=!1){let n,i;return Ot(s)?n=s:(n=s.get,i=s.set),new nR(n,i,e)}const rR={GET:"get",HAS:"has",ITERATE:"iterate"},oR={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Tp={},jg=new WeakMap;let Lo;function aR(){return Lo}function dw(s,t=!1,e=Lo){if(e){let n=jg.get(e);n||jg.set(e,n=[]),n.push(s)}}function lR(s,t,e=se){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=e,c=A=>i?A:ti(A)||i===!1||i===0?ho(A,1):ho(A);let u,d,f,p,g=!1,m=!1;if(Ke(s)?(d=()=>s.value,g=ti(s)):Tr(s)?(d=()=>c(s),g=!0):dt(s)?(m=!0,g=s.some(A=>Tr(A)||ti(A)),d=()=>s.map(A=>{if(Ke(A))return A.value;if(Tr(A))return c(A);if(Ot(A))return l?l(A,2):A()})):Ot(s)?t?d=l?()=>l(s,2):s:d=()=>{if(f){Ma();try{f()}finally{Na()}}const A=Lo;Lo=u;try{return l?l(s,3,[p]):s(p)}finally{Lo=A}}:d=_s,t&&i){const A=d,T=i===!0?1/0:i;d=()=>ho(A(),T)}const v=UE(),b=()=>{u.stop(),v&&v.active&&Bm(v.effects,u)};if(r&&t){const A=t;t=(...T)=>{A(...T),b()}}let S=m?new Array(s.length).fill(Tp):Tp;const E=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(t){const T=u.run();if(i||g||(m?T.some((P,R)=>qs(P,S[R])):qs(T,S))){f&&f();const P=Lo;Lo=u;try{const R=[T,S===Tp?void 0:m&&S[0]===Tp?[]:S,p];l?l(t,3,R):t(...R),S=T}finally{Lo=P}}}else u.run()};return a&&a(E),u=new pd(d),u.scheduler=o?()=>o(E,!1):E,p=A=>dw(A,!1,u),f=u.onStop=()=>{const A=jg.get(u);if(A){if(l)l(A,4);else for(const T of A)T();jg.delete(u)}},t?n?E(!0):S=u.run():o?o(E.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function ho(s,t=1/0,e){if(t<=0||!Te(s)||s.__v_skip||(e=e||new Set,e.has(s)))return s;if(e.add(s),t--,Ke(s))ho(s.value,t,e);else if(dt(s))for(let n=0;n<s.length;n++)ho(s[n],t,e);else if(Ra(s)||Xl(s))s.forEach(n=>{ho(n,t,e)});else if(ep(s)){for(const n in s)ho(s[n],t,e);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&ho(s[n],t,e)}return s}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fw=[];function cR(s){fw.push(s)}function uR(){fw.pop()}function hR(s,t){}const dR={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},fR={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function uh(s,t,e,n){try{return n?s(...n):s()}catch(i){pc(i,t,e)}}function Ai(s,t,e,n){if(Ot(s)){const i=uh(s,t,e,n);return i&&jm(i)&&i.catch(r=>{pc(r,t,e)}),i}if(dt(s)){const i=[];for(let r=0;r<s.length;r++)i.push(Ai(s[r],t,e,n));return i}}function pc(s,t,e,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||se;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](s,l,c)===!1)return}a=a.parent}if(r){Ma(),uh(r,null,10,[s,l,c]),Na();return}}pR(s,e,i,n,o)}function pR(s,t,e,n=!0,i=!1){if(i)throw s;console.error(s)}const fn=[];let nr=-1;const Hc=[];let ko=null,Cc=0;const pw=Promise.resolve();let Hg=null;function gc(s){const t=Hg||pw;return s?t.then(this?s.bind(this):s):t}function gR(s){let t=nr+1,e=fn.length;for(;t<e;){const n=t+e>>>1,i=fn[n],r=bd(i);r<s||r===s&&i.flags&2?t=n+1:e=n}return t}function XE(s){if(!(s.flags&1)){const t=bd(s),e=fn[fn.length-1];!e||!(s.flags&2)&&t>=bd(e)?fn.push(s):fn.splice(gR(t),0,s),s.flags|=1,gw()}}function gw(){Hg||(Hg=pw.then(mw))}function vd(s){dt(s)?Hc.push(...s):ko&&s.id===-1?ko.splice(Cc+1,0,s):s.flags&1||(Hc.push(s),s.flags|=1),gw()}function pA(s,t,e=nr+1){for(;e<fn.length;e++){const n=fn[e];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;fn.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Vg(s){if(Hc.length){const t=[...new Set(Hc)].sort((e,n)=>bd(e)-bd(n));if(Hc.length=0,ko){ko.push(...t);return}for(ko=t,Cc=0;Cc<ko.length;Cc++){const e=ko[Cc];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}ko=null,Cc=0}}const bd=s=>s.id==null?s.flags&2?-1:1/0:s.id;function mw(s){try{for(nr=0;nr<fn.length;nr++){const t=fn[nr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),uh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nr<fn.length;nr++){const t=fn[nr];t&&(t.flags&=-2)}nr=-1,fn.length=0,Vg(),Hg=null,(fn.length||Hc.length)&&mw()}}let xc,Cp=[];function vw(s,t){var e,n;xc=s,xc?(xc.enabled=!0,Cp.forEach(({event:i,args:r})=>xc.emit(i,...r)),Cp=[]):typeof window<"u"&&window.HTMLElement&&!((n=(e=window.navigator)==null?void 0:e.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{vw(r,t)}),setTimeout(()=>{xc||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Cp=[])},3e3)):Cp=[]}let ys=null,Ym=null;function yd(s){const t=ys;return ys=s,Ym=s&&s.type.__scopeId||null,t}function mR(s){Ym=s}function vR(){Ym=null}const bR=s=>gn;function gn(s,t=ys,e){if(!t||s._n)return s;const n=(...i)=>{n._d&&Hb(-1);const r=yd(t);let o;try{o=s(...i)}finally{yd(r),n._d&&Hb(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Gt(s,t){if(ys===null)return s;const e=ap(ys),n=s.dirs||(s.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=se]=t[i];r&&(Ot(r)&&(r={mounted:r,updated:r}),r.deep&&ho(o),n.push({dir:r,instance:e,value:o,oldValue:void 0,arg:a,modifiers:l}))}return s}function ir(s,t,e,n){const i=s.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(Ma(),Ai(l,e,8,[s.el,a,s,t]),Na())}}const bw=Symbol("_vte"),yw=s=>s.__isTeleport,Jh=s=>s&&(s.disabled||s.disabled===""),gA=s=>s&&(s.defer||s.defer===""),mA=s=>typeof SVGElement<"u"&&s instanceof SVGElement,vA=s=>typeof MathMLElement=="function"&&s instanceof MathMLElement,Db=(s,t)=>{const e=s&&s.to;return kt(e)?t?t(e):null:e},Ew={name:"Teleport",__isTeleport:!0,process(s,t,e,n,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:g,createText:m,createComment:v}}=c,b=Jh(t.props);let{shapeFlag:S,children:E,dynamicChildren:A}=t;if(s==null){const T=t.el=m(""),P=t.anchor=m("");p(T,e,n),p(P,e,n);const R=(_,N)=>{S&16&&(i&&i.isCE&&(i.ce._teleportTarget=_),u(E,_,N,i,r,o,a,l))},O=()=>{const _=t.target=Db(t.props,g),N=Sw(_,t,m,p);_&&(o!=="svg"&&mA(_)?o="svg":o!=="mathml"&&vA(_)&&(o="mathml"),b||(R(_,N),Xp(t,!1)))};b&&(R(e,P),Xp(t,!0)),gA(t.props)?ms(()=>{O(),t.el.__isMounted=!0},r):O()}else{if(gA(t.props)&&!s.el.__isMounted){ms(()=>{Ew.process(s,t,e,n,i,r,o,a,l,c),delete s.el.__isMounted},r);return}t.el=s.el,t.targetStart=s.targetStart;const T=t.anchor=s.anchor,P=t.target=s.target,R=t.targetAnchor=s.targetAnchor,O=Jh(s.props),_=O?e:P,N=O?T:R;if(o==="svg"||mA(P)?o="svg":(o==="mathml"||vA(P))&&(o="mathml"),A?(f(s.dynamicChildren,A,_,i,r,o,a),sS(s,t,!0)):l||d(s,t,_,N,i,r,o,a,!1),b)O?t.props&&s.props&&t.props.to!==s.props.to&&(t.props.to=s.props.to):xp(t,e,T,c,1);else if((t.props&&t.props.to)!==(s.props&&s.props.to)){const L=t.target=Db(t.props,g);L&&xp(t,L,null,c,0)}else O&&xp(t,P,R,c,1);Xp(t,b)}},remove(s,t,e,{um:n,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=s;if(d&&(i(c),i(u)),r&&i(l),o&16){const p=r||!Jh(f);for(let g=0;g<a.length;g++){const m=a[g];n(m,t,e,p,!!m.dynamicChildren)}}},move:xp,hydrate:yR};function xp(s,t,e,{o:{insert:n},m:i},r=2){r===0&&n(s.targetAnchor,t,e);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=s,d=r===2;if(d&&n(o,t,e),(!d||Jh(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,e,2);d&&n(a,t,e)}function yR(s,t,e,n,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=t.target=Db(t.props,l);if(f){const p=Jh(t.props),g=f._lpa||f.firstChild;if(t.shapeFlag&16)if(p)t.anchor=d(o(s),t,a(s),e,n,i,r),t.targetStart=g,t.targetAnchor=g&&o(g);else{t.anchor=o(s);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}m=o(m)}t.targetAnchor||Sw(f,t,u,c),d(g&&o(g),t,f,e,n,i,r)}Xp(t,p)}return t.anchor&&o(t.anchor)}const ER=Ew;function Xp(s,t){const e=s.ctx;if(e&&e.ut){let n,i;for(t?(n=s.el,i=s.anchor):(n=s.targetStart,i=s.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function Sw(s,t,e,n){const i=t.targetStart=e(""),r=t.targetAnchor=e("");return i[bw]=r,s&&(n(i,s),n(r,s)),r}const Fo=Symbol("_leaveCb"),_p=Symbol("_enterCb");function WE(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hh(()=>{s.isMounted=!0}),Zm(()=>{s.isUnmounting=!0}),s}const ni=[Function,Array],KE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ni,onEnter:ni,onAfterEnter:ni,onEnterCancelled:ni,onBeforeLeave:ni,onLeave:ni,onAfterLeave:ni,onLeaveCancelled:ni,onBeforeAppear:ni,onAppear:ni,onAfterAppear:ni,onAppearCancelled:ni},Aw=s=>{const t=s.subTree;return t.component?Aw(t.component):t},SR={name:"BaseTransition",props:KE,setup(s,{slots:t}){const e=Ti(),n=WE();return()=>{const i=t.default&&qm(t.default(),!0);if(!i||!i.length)return;const r=ww(i),o=ue(s),{mode:a}=o;if(n.isLeaving)return Kv(r);const l=bA(r);if(!l)return Kv(r);let c=qu(l,o,n,e,d=>c=d);l.type!==cs&&To(l,c);let u=e.subTree&&bA(e.subTree);if(u&&u.type!==cs&&!Gi(l,u)&&Aw(e).type!==cs){let d=qu(u,o,n,e);if(To(u,d),a==="out-in"&&l.type!==cs)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,e.job.flags&8||e.update(),delete d.afterLeave,u=void 0},Kv(r);a==="in-out"&&l.type!==cs?d.delayLeave=(f,p,g)=>{const m=Cw(n,u);m[String(u.key)]=u,f[Fo]=()=>{p(),f[Fo]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function ww(s){let t=s[0];if(s.length>1){for(const e of s)if(e.type!==cs){t=e;break}}return t}const Tw=SR;function Cw(s,t){const{leavingVNodes:e}=s;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function qu(s,t,e,n,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:S,onAppearCancelled:E}=t,A=String(s.key),T=Cw(e,s),P=(_,N)=>{_&&Ai(_,n,9,N)},R=(_,N)=>{const L=N[1];P(_,N),dt(_)?_.every(F=>F.length<=1)&&L():_.length<=1&&L()},O={mode:o,persisted:a,beforeEnter(_){let N=l;if(!e.isMounted)if(r)N=v||l;else return;_[Fo]&&_[Fo](!0);const L=T[A];L&&Gi(s,L)&&L.el[Fo]&&L.el[Fo](),P(N,[_])},enter(_){let N=c,L=u,F=d;if(!e.isMounted)if(r)N=b||c,L=S||u,F=E||d;else return;let U=!1;const V=_[_p]=J=>{U||(U=!0,J?P(F,[_]):P(L,[_]),O.delayedLeave&&O.delayedLeave(),_[_p]=void 0)};N?R(N,[_,V]):V()},leave(_,N){const L=String(s.key);if(_[_p]&&_[_p](!0),e.isUnmounting)return N();P(f,[_]);let F=!1;const U=_[Fo]=V=>{F||(F=!0,N(),V?P(m,[_]):P(g,[_]),_[Fo]=void 0,T[L]===s&&delete T[L])};T[L]=s,p?R(p,[_,U]):U()},clone(_){const N=qu(_,t,e,n,i);return i&&i(N),N}};return O}function Kv(s){if(rp(s))return s=Pr(s),s.children=null,s}function bA(s){if(!rp(s))return yw(s.type)&&s.children?ww(s.children):s;const{shapeFlag:t,children:e}=s;if(e){if(t&16)return e[0];if(t&32&&Ot(e.default))return e.default()}}function To(s,t){s.shapeFlag&6&&s.component?(s.transition=t,To(s.component.subTree,t)):s.shapeFlag&128?(s.ssContent.transition=t.clone(s.ssContent),s.ssFallback.transition=t.clone(s.ssFallback)):s.transition=t}function qm(s,t=!1,e){let n=[],i=0;for(let r=0;r<s.length;r++){let o=s[r];const a=e==null?o.key:String(e)+String(o.key!=null?o.key:r);o.type===yt?(o.patchFlag&128&&i++,n=n.concat(qm(o.children,t,a))):(t||o.type!==cs)&&n.push(a!=null?Pr(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ip(s,t){return Ot(s)?re({name:s.name},t,{setup:s}):s}function AR(){const s=Ti();return s?(s.appContext.config.idPrefix||"v")+"-"+s.ids[0]+s.ids[1]++:""}function YE(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function wR(s){const t=Ti(),e=GE(null);if(t){const i=t.refs===se?t.refs={}:t.refs;Object.defineProperty(i,s,{enumerable:!0,get:()=>e.value,set:r=>e.value=r})}return e}function Ed(s,t,e,n,i=!1){if(dt(s)){s.forEach((g,m)=>Ed(g,t&&(dt(t)?t[m]:t),e,n,i));return}if(ya(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Ed(s,t,e,n.component.subTree);return}const r=n.shapeFlag&4?ap(n.component):n.el,o=i?null:r,{i:a,r:l}=s,c=t&&t.r,u=a.refs===se?a.refs={}:a.refs,d=a.setupState,f=ue(d),p=d===se?()=>!1:g=>ye(f,g);if(c!=null&&c!==l&&(kt(c)?(u[c]=null,p(c)&&(d[c]=null)):Ke(c)&&(c.value=null)),Ot(l))uh(l,a,12,[o,u]);else{const g=kt(l),m=Ke(l);if(g||m){const v=()=>{if(s.f){const b=g?p(l)?d[l]:u[l]:l.value;i?dt(b)&&Bm(b,r):dt(b)?b.includes(r)||b.push(r):g?(u[l]=[r],p(l)&&(d[l]=u[l])):(l.value=[r],s.k&&(u[s.k]=l.value))}else g?(u[l]=o,p(l)&&(d[l]=o)):m&&(l.value=o,s.k&&(u[s.k]=o))};o?(v.id=-1,ms(v,e)):v()}}}let yA=!1;const yc=()=>{yA||(console.error("Hydration completed but contains mismatches."),yA=!0)},TR=s=>s.namespaceURI.includes("svg")&&s.tagName!=="foreignObject",CR=s=>s.namespaceURI.includes("MathML"),Pp=s=>{if(s.nodeType===1){if(TR(s))return"svg";if(CR(s))return"mathml"}},Fc=s=>s.nodeType===8;function xR(s){const{mt:t,p:e,o:{patchProp:n,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=s,u=(E,A)=>{if(!A.hasChildNodes()){e(null,E,A),Vg(),A._vnode=E;return}d(A.firstChild,E,null,null,null),Vg(),A._vnode=E},d=(E,A,T,P,R,O=!1)=>{O=O||!!A.dynamicChildren;const _=Fc(E)&&E.data==="[",N=()=>m(E,A,T,P,R,_),{type:L,ref:F,shapeFlag:U,patchFlag:V}=A;let J=E.nodeType;A.el=E,V===-2&&(O=!1,A.dynamicChildren=null);let j=null;switch(L){case Ea:J!==3?A.children===""?(l(A.el=i(""),o(E),E),j=E):j=N():(E.data!==A.children&&(yc(),E.data=A.children),j=r(E));break;case cs:S(E)?(j=r(E),b(A.el=E.content.firstChild,E,T)):J!==8||_?j=N():j=r(E);break;case Jl:if(_&&(E=r(E),J=E.nodeType),J===1||J===3){j=E;const H=!A.children.length;for(let W=0;W<A.staticCount;W++)H&&(A.children+=j.nodeType===1?j.outerHTML:j.data),W===A.staticCount-1&&(A.anchor=j),j=r(j);return _?r(j):j}else N();break;case yt:_?j=g(E,A,T,P,R,O):j=N();break;default:if(U&1)(J!==1||A.type.toLowerCase()!==E.tagName.toLowerCase())&&!S(E)?j=N():j=f(E,A,T,P,R,O);else if(U&6){A.slotScopeIds=R;const H=o(E);if(_?j=v(E):Fc(E)&&E.data==="teleport start"?j=v(E,E.data,"teleport end"):j=r(E),t(A,H,null,T,P,Pp(H),O),ya(A)&&!A.type.__asyncResolved){let W;_?(W=Ut(yt),W.anchor=j?j.previousSibling:H.lastChild):W=E.nodeType===3?bt(""):Ut("div"),W.el=E,A.component.subTree=W}}else U&64?J!==8?j=N():j=A.type.hydrate(E,A,T,P,R,O,s,p):U&128&&(j=A.type.hydrate(E,A,T,P,Pp(o(E)),R,O,s,d))}return F!=null&&Ed(F,null,P,A),j},f=(E,A,T,P,R,O)=>{O=O||!!A.dynamicChildren;const{type:_,props:N,patchFlag:L,shapeFlag:F,dirs:U,transition:V}=A,J=_==="input"||_==="option";if(J||L!==-1){U&&ir(A,null,T,"created");let j=!1;if(S(E)){j=Jw(null,V)&&T&&T.vnode.props&&T.vnode.props.appear;const W=E.content.firstChild;j&&V.beforeEnter(W),b(W,E,T),A.el=E=W}if(F&16&&!(N&&(N.innerHTML||N.textContent))){let W=p(E.firstChild,A,E,T,P,R,O);for(;W;){Ip(E,1)||yc();const At=W;W=W.nextSibling,a(At)}}else if(F&8){let W=A.children;W[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(W=W.slice(1)),E.textContent!==W&&(Ip(E,0)||yc(),E.textContent=A.children)}if(N){if(J||!O||L&48){const W=E.tagName.includes("-");for(const At in N)(J&&(At.endsWith("value")||At==="indeterminate")||Ia(At)&&!mo(At)||At[0]==="."||W)&&n(E,At,null,N[At],void 0,T)}else if(N.onClick)n(E,"onClick",null,N.onClick,void 0,T);else if(L&4&&Tr(N.style))for(const W in N.style)N.style[W]}let H;(H=N&&N.onVnodeBeforeMount)&&Mn(H,T,A),U&&ir(A,null,T,"beforeMount"),((H=N&&N.onVnodeMounted)||U||j)&&oT(()=>{H&&Mn(H,T,A),j&&V.enter(E),U&&ir(A,null,T,"mounted")},P)}return E.nextSibling},p=(E,A,T,P,R,O,_)=>{_=_||!!A.dynamicChildren;const N=A.children,L=N.length;for(let F=0;F<L;F++){const U=_?N[F]:N[F]=Dn(N[F]),V=U.type===Ea;E?(V&&!_&&F+1<L&&Dn(N[F+1]).type===Ea&&(l(i(E.data.slice(U.children.length)),T,r(E)),E.data=U.children),E=d(E,U,P,R,O,_)):V&&!U.children?l(U.el=i(""),T):(Ip(T,1)||yc(),e(null,U,T,null,P,R,Pp(T),O))}return E},g=(E,A,T,P,R,O)=>{const{slotScopeIds:_}=A;_&&(R=R?R.concat(_):_);const N=o(E),L=p(r(E),A,N,T,P,R,O);return L&&Fc(L)&&L.data==="]"?r(A.anchor=L):(yc(),l(A.anchor=c("]"),N,L),L)},m=(E,A,T,P,R,O)=>{if(Ip(E.parentElement,1)||yc(),A.el=null,O){const L=v(E);for(;;){const F=r(E);if(F&&F!==L)a(F);else break}}const _=r(E),N=o(E);return a(E),e(null,A,N,_,T,P,Pp(N),R),T&&(T.vnode.el=A.el,sv(T,A.el)),_},v=(E,A="[",T="]")=>{let P=0;for(;E;)if(E=r(E),E&&Fc(E)&&(E.data===A&&P++,E.data===T)){if(P===0)return r(E);P--}return E},b=(E,A,T)=>{const P=A.parentNode;P&&P.replaceChild(E,A);let R=T;for(;R;)R.vnode.el===A&&(R.vnode.el=R.subTree.el=E),R=R.parent},S=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[u,d]}const EA="data-allow-mismatch",_R={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ip(s,t){if(t===0||t===1)for(;s&&!s.hasAttribute(EA);)s=s.parentElement;const e=s&&s.getAttribute(EA);if(e==null)return!1;if(e==="")return!0;{const n=e.split(",");return t===0&&n.includes("children")?!0:e.split(",").includes(_R[t])}}const PR=sp().requestIdleCallback||(s=>setTimeout(s,1)),IR=sp().cancelIdleCallback||(s=>clearTimeout(s)),RR=(s=1e4)=>t=>{const e=PR(t,{timeout:s});return()=>IR(e)};function OR(s){const{top:t,left:e,bottom:n,right:i}=s.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return(t>0&&t<r||n>0&&n<r)&&(e>0&&e<o||i>0&&i<o)}const MR=s=>(t,e)=>{const n=new IntersectionObserver(i=>{for(const r of i)if(r.isIntersecting){n.disconnect(),t();break}},s);return e(i=>{if(i instanceof Element){if(OR(i))return t(),n.disconnect(),!1;n.observe(i)}}),()=>n.disconnect()},NR=s=>t=>{if(s){const e=matchMedia(s);if(e.matches)t();else return e.addEventListener("change",t,{once:!0}),()=>e.removeEventListener("change",t)}},DR=(s=[])=>(t,e)=>{kt(s)&&(s=[s]);let n=!1;const i=o=>{n||(n=!0,r(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},r=()=>{e(o=>{for(const a of s)o.removeEventListener(a,i)})};return e(o=>{for(const a of s)o.addEventListener(a,i,{once:!0})}),r};function LR(s,t){if(Fc(s)&&s.data==="["){let e=1,n=s.nextSibling;for(;n;){if(n.nodeType===1){if(t(n)===!1)break}else if(Fc(n))if(n.data==="]"){if(--e===0)break}else n.data==="["&&e++;n=n.nextSibling}}else t(s)}const ya=s=>!!s.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function kR(s){Ot(s)&&(s={loader:s});const{loader:t,loadingComponent:e,errorComponent:n,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:l}=s;let c=null,u,d=0;const f=()=>(d++,c=null,p()),p=()=>{let g;return c||(g=c=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((v,b)=>{l(m,()=>v(f()),()=>b(m),d+1)});throw m}).then(m=>g!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return ip({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,m,v){const b=r?()=>{const S=r(v,E=>LR(g,E));S&&(m.bum||(m.bum=[])).push(S)}:v;u?b():p().then(()=>!m.isUnmounted&&b())},get __asyncResolved(){return u},setup(){const g=bs;if(YE(g),u)return()=>Yv(u,g);const m=E=>{c=null,pc(E,g,13,!n)};if(a&&g.suspense||Ju)return p().then(E=>()=>Yv(E,g)).catch(E=>(m(E),()=>n?Ut(n,{error:E}):null));const v=bi(!1),b=bi(),S=bi(!!i);return i&&setTimeout(()=>{S.value=!1},i),o!=null&&setTimeout(()=>{if(!v.value&&!b.value){const E=new Error(`Async component timed out after ${o}ms.`);m(E),b.value=E}},o),p().then(()=>{v.value=!0,g.parent&&rp(g.parent.vnode)&&g.parent.update()}).catch(E=>{m(E),b.value=E}),()=>{if(v.value&&u)return Yv(u,g);if(b.value&&n)return Ut(n,{error:b.value});if(e&&!S.value)return Ut(e)}}})}function Yv(s,t){const{ref:e,props:n,children:i,ce:r}=t.vnode,o=Ut(s,n,i);return o.ref=e,o.ce=r,delete t.vnode.ce,o}const rp=s=>s.type.__isKeepAlive,FR={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(s,{slots:t}){const e=Ti(),n=e.ctx;if(!n.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const i=new Map,r=new Set;let o=null;const a=e.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=n,f=d("div");n.activate=(S,E,A,T,P)=>{const R=S.component;c(S,E,A,0,a),l(R.vnode,S,E,A,R,a,T,S.slotScopeIds,P),ms(()=>{R.isDeactivated=!1,R.a&&Kl(R.a);const O=S.props&&S.props.onVnodeMounted;O&&Mn(O,R.parent,S)},a)},n.deactivate=S=>{const E=S.component;Gg(E.m),Gg(E.a),c(S,f,null,1,a),ms(()=>{E.da&&Kl(E.da);const A=S.props&&S.props.onVnodeUnmounted;A&&Mn(A,E.parent,S),E.isDeactivated=!0},a)};function p(S){qv(S),u(S,e,a,!0)}function g(S){i.forEach((E,A)=>{const T=Xb(E.type);T&&!S(T)&&m(A)})}function m(S){const E=i.get(S);E&&(!o||!Gi(E,o))?p(E):o&&qv(o),i.delete(S),r.delete(S)}xr(()=>[s.include,s.exclude],([S,E])=>{S&&g(A=>_h(S,A)),E&&g(A=>!_h(E,A))},{flush:"post",deep:!0});let v=null;const b=()=>{v!=null&&(zg(e.subTree.type)?ms(()=>{i.set(v,Rp(e.subTree))},e.subTree.suspense):i.set(v,Rp(e.subTree)))};return hh(b),Qm(b),Zm(()=>{i.forEach(S=>{const{subTree:E,suspense:A}=e,T=Rp(E);if(S.type===T.type&&S.key===T.key){qv(T);const P=T.component.da;P&&ms(P,A);return}p(S)})}),()=>{if(v=null,!t.default)return o=null;const S=t.default(),E=S[0];if(S.length>1)return o=null,S;if(!Co(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let A=Rp(E);if(A.type===cs)return o=null,A;const T=A.type,P=Xb(ya(A)?A.type.__asyncResolved||{}:T),{include:R,exclude:O,max:_}=s;if(R&&(!P||!_h(R,P))||O&&P&&_h(O,P))return A.shapeFlag&=-257,o=A,E;const N=A.key==null?T:A.key,L=i.get(N);return A.el&&(A=Pr(A),E.shapeFlag&128&&(E.ssContent=A)),v=N,L?(A.el=L.el,A.component=L.component,A.transition&&To(A,A.transition),A.shapeFlag|=512,r.delete(N),r.add(N)):(r.add(N),_&&r.size>parseInt(_,10)&&m(r.values().next().value)),A.shapeFlag|=256,o=A,zg(E.type)?E:A}}},UR=FR;function _h(s,t){return dt(s)?s.some(e=>_h(e,t)):kt(s)?s.split(",").includes(t):M1(s)?(s.lastIndex=0,s.test(t)):!1}function xw(s,t){Pw(s,"a",t)}function _w(s,t){Pw(s,"da",t)}function Pw(s,t,e=bs){const n=s.__wdc||(s.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return s()});if(Jm(t,n,e),e){let i=e.parent;for(;i&&i.parent;)rp(i.parent.vnode)&&BR(n,t,e,i),i=i.parent}}function BR(s,t,e,n){const i=Jm(t,s,n,!0);tv(()=>{Bm(n[t],i)},e)}function qv(s){s.shapeFlag&=-257,s.shapeFlag&=-513}function Rp(s){return s.shapeFlag&128?s.ssContent:s}function Jm(s,t,e=bs,n=!1){if(e){const i=e[s]||(e[s]=[]),r=t.__weh||(t.__weh=(...o)=>{Ma();const a=nc(e),l=Ai(t,e,s,o);return a(),Na(),l});return n?i.unshift(r):i.push(r),r}}const _o=s=>(t,e=bs)=>{(!Ju||s==="sp")&&Jm(s,(...n)=>t(...n),e)},Iw=_o("bm"),hh=_o("m"),qE=_o("bu"),Qm=_o("u"),Zm=_o("bum"),tv=_o("um"),Rw=_o("sp"),Ow=_o("rtg"),Mw=_o("rtc");function Nw(s,t=bs){Jm("ec",s,t)}const JE="components",jR="directives";function Us(s,t){return QE(JE,s,!0,t)||s}const Dw=Symbol.for("v-ndc");function HR(s){return kt(s)?QE(JE,s,!1)||s:s||Dw}function VR(s){return QE(jR,s)}function QE(s,t,e=!0,n=!1){const i=ys||bs;if(i){const r=i.type;if(s===JE){const a=Xb(r,!1);if(a&&(a===t||a===Le(t)||a===Oa(Le(t))))return r}const o=SA(i[s]||r[s],t)||SA(i.appContext[s],t);return!o&&n?r:o}}function SA(s,t){return s&&(s[t]||s[Le(t)]||s[Oa(Le(t))])}function Ae(s,t,e,n){let i;const r=e&&e[n],o=dt(s);if(o||kt(s)){const a=o&&Tr(s);let l=!1;a&&(l=!ti(s),s=Gm(s)),i=new Array(s.length);for(let c=0,u=s.length;c<u;c++)i[c]=t(l?Qs(s[c]):s[c],c,void 0,r&&r[c])}else if(typeof s=="number"){i=new Array(s);for(let a=0;a<s;a++)i[a]=t(a+1,a,void 0,r&&r[a])}else if(Te(s))if(s[Symbol.iterator])i=Array.from(s,(a,l)=>t(a,l,void 0,r&&r[l]));else{const a=Object.keys(s);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(s[u],u,l,r&&r[l])}}else i=[];return e&&(e[n]=i),i}function $R(s,t){for(let e=0;e<t.length;e++){const n=t[e];if(dt(n))for(let i=0;i<n.length;i++)s[n[i].name]=n[i].fn;else n&&(s[n.name]=n.key?(...i)=>{const r=n.fn(...i);return r&&(r.key=n.key),r}:n.fn)}return s}function GR(s,t,e={},n,i){if(ys.ce||ys.parent&&ya(ys.parent)&&ys.parent.ce)return t!=="default"&&(e.name=t),D(),sc(yt,null,[Ut("slot",e,n&&n())],64);let r=s[t];r&&r._c&&(r._d=!1),D();const o=r&&ZE(r(e)),a=e.key||o&&o.key,l=sc(yt,{key:(a&&!Sn(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&s._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function ZE(s){return s.some(t=>Co(t)?!(t.type===cs||t.type===yt&&!ZE(t.children)):!0)?s:null}function zR(s,t){const e={};for(const n in s)e[t&&/[A-Z]/.test(n)?`on:${n}`:Wl(n)]=s[n];return e}const Lb=s=>s?pT(s)?ap(s):Lb(s.parent):null,Qh=re(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Lb(s.parent),$root:s=>Lb(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>tS(s),$forceUpdate:s=>s.f||(s.f=()=>{XE(s.update)}),$nextTick:s=>s.n||(s.n=gc.bind(s.proxy)),$watch:s=>AO.bind(s)}),Jv=(s,t)=>s!==se&&!s.__isScriptSetup&&ye(s,t),kb={get({_:s},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=s;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return r[t]}else{if(Jv(n,t))return o[t]=1,n[t];if(i!==se&&ye(i,t))return o[t]=2,i[t];if((c=s.propsOptions[0])&&ye(c,t))return o[t]=3,r[t];if(e!==se&&ye(e,t))return o[t]=4,e[t];Fb&&(o[t]=0)}}const u=Qh[t];let d,f;if(u)return t==="$attrs"&&Js(s.attrs,"get",""),u(s);if((d=a.__cssModules)&&(d=d[t]))return d;if(e!==se&&ye(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,ye(f,t))return f[t]},set({_:s},t,e){const{data:n,setupState:i,ctx:r}=s;return Jv(i,t)?(i[t]=e,!0):n!==se&&ye(n,t)?(n[t]=e,!0):ye(s.props,t)||t[0]==="$"&&t.slice(1)in s?!1:(r[t]=e,!0)},has({_:{data:s,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!e[o]||s!==se&&ye(s,o)||Jv(t,o)||(a=r[0])&&ye(a,o)||ye(n,o)||ye(Qh,o)||ye(i.config.globalProperties,o)},defineProperty(s,t,e){return e.get!=null?s._.accessCache[t]=0:ye(e,"value")&&this.set(s,t,e.value,null),Reflect.defineProperty(s,t,e)}},XR=re({},kb,{get(s,t){if(t!==Symbol.unscopables)return kb.get(s,t,s)},has(s,t){return t[0]!=="_"&&!NE(t)}});function WR(){return null}function KR(){return null}function YR(s){}function qR(s){}function JR(){return null}function QR(){}function ZR(s,t){return null}function tO(){return Lw().slots}function eO(){return Lw().attrs}function Lw(){const s=Ti();return s.setupContext||(s.setupContext=vT(s))}function Sd(s){return dt(s)?s.reduce((t,e)=>(t[e]=null,t),{}):s}function sO(s,t){const e=Sd(s);for(const n in t){if(n.startsWith("__skip"))continue;let i=e[n];i?dt(i)||Ot(i)?i=e[n]={type:i,default:t[n]}:i.default=t[n]:i===null&&(i=e[n]={default:t[n]}),i&&t[`__skip_${n}`]&&(i.skipFactory=!0)}return e}function nO(s,t){return!s||!t?s||t:dt(s)&&dt(t)?s.concat(t):re({},Sd(s),Sd(t))}function iO(s,t){const e={};for(const n in s)t.includes(n)||Object.defineProperty(e,n,{enumerable:!0,get:()=>s[n]});return e}function rO(s){const t=Ti();let e=s();return $b(),jm(e)&&(e=e.catch(n=>{throw nc(t),n})),[e,()=>nc(t)]}let Fb=!0;function oO(s){const t=tS(s),e=s.proxy,n=s.ctx;Fb=!1,t.beforeCreate&&AA(t.beforeCreate,s,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:v,beforeDestroy:b,beforeUnmount:S,destroyed:E,unmounted:A,render:T,renderTracked:P,renderTriggered:R,errorCaptured:O,serverPrefetch:_,expose:N,inheritAttrs:L,components:F,directives:U,filters:V}=t;if(c&&aO(c,n,null),o)for(const H in o){const W=o[H];Ot(W)&&(n[H]=W.bind(e))}if(i){const H=i.call(e,e);Te(H)&&(s.data=ch(H))}if(Fb=!0,r)for(const H in r){const W=r[H],At=Ot(W)?W.bind(e,e):Ot(W.get)?W.get.bind(e,e):_s,Ht=!Ot(W)&&Ot(W.set)?W.set.bind(e):_s,Mt=Ln({get:At,set:Ht});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:Ct=>Mt.value=Ct})}if(a)for(const H in a)kw(a[H],n,e,H);if(l){const H=Ot(l)?l.call(e):l;Reflect.ownKeys(H).forEach(W=>{Zh(W,H[W])})}u&&AA(u,s,"c");function j(H,W){dt(W)?W.forEach(At=>H(At.bind(e))):W&&H(W.bind(e))}if(j(Iw,d),j(hh,f),j(qE,p),j(Qm,g),j(xw,m),j(_w,v),j(Nw,O),j(Mw,P),j(Ow,R),j(Zm,S),j(tv,A),j(Rw,_),dt(N))if(N.length){const H=s.exposed||(s.exposed={});N.forEach(W=>{Object.defineProperty(H,W,{get:()=>e[W],set:At=>e[W]=At})})}else s.exposed||(s.exposed={});T&&s.render===_s&&(s.render=T),L!=null&&(s.inheritAttrs=L),F&&(s.components=F),U&&(s.directives=U),_&&YE(s)}function aO(s,t,e=_s){dt(s)&&(s=Ub(s));for(const n in s){const i=s[n];let r;Te(i)?"default"in i?r=Ki(i.from||n,i.default,!0):r=Ki(i.from||n):r=Ki(i),Ke(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function AA(s,t,e){Ai(dt(s)?s.map(n=>n.bind(t.proxy)):s.bind(t.proxy),t,e)}function kw(s,t,e,n){let i=n.includes(".")?sT(e,n):()=>e[n];if(kt(s)){const r=t[s];Ot(r)&&xr(i,r)}else if(Ot(s))xr(i,s.bind(e));else if(Te(s))if(dt(s))s.forEach(r=>kw(r,t,e,n));else{const r=Ot(s.handler)?s.handler.bind(e):t[s.handler];Ot(r)&&xr(i,r,s)}}function tS(s){const t=s.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=s.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!e&&!n?l=t:(l={},i.length&&i.forEach(c=>$g(l,c,o,!0)),$g(l,t,o)),Te(t)&&r.set(t,l),l}function $g(s,t,e,n=!1){const{mixins:i,extends:r}=t;r&&$g(s,r,e,!0),i&&i.forEach(o=>$g(s,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const a=lO[o]||e&&e[o];s[o]=a?a(s[o],t[o]):t[o]}return s}const lO={data:wA,props:TA,emits:TA,methods:Ph,computed:Ph,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:Ph,directives:Ph,watch:uO,provide:wA,inject:cO};function wA(s,t){return t?s?function(){return re(Ot(s)?s.call(this,this):s,Ot(t)?t.call(this,this):t)}:t:s}function cO(s,t){return Ph(Ub(s),Ub(t))}function Ub(s){if(dt(s)){const t={};for(let e=0;e<s.length;e++)t[s[e]]=s[e];return t}return s}function on(s,t){return s?[...new Set([].concat(s,t))]:t}function Ph(s,t){return s?re(Object.create(null),s,t):t}function TA(s,t){return s?dt(s)&&dt(t)?[...new Set([...s,...t])]:re(Object.create(null),Sd(s),Sd(t??{})):t}function uO(s,t){if(!s)return t;if(!t)return s;const e=re(Object.create(null),s);for(const n in t)e[n]=on(s[n],t[n]);return e}function Fw(){return{app:null,config:{isNativeTag:kc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hO=0;function dO(s,t){return function(n,i=null){Ot(n)||(n=re({},n)),i!=null&&!Te(i)&&(i=null);const r=Fw(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:hO++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:yT,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&Ot(u.install)?(o.add(u),u.install(c,...d)):Ot(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||Ut(n,i);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,u):s(p,u,f),l=!0,c._container=u,u.__vue_app__=c,ap(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ai(a,c._instance,16),s(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=ql;ql=c;try{return u()}finally{ql=d}}};return c}}let ql=null;function Zh(s,t){if(bs){let e=bs.provides;const n=bs.parent&&bs.parent.provides;n===e&&(e=bs.provides=Object.create(n)),e[s]=t}}function Ki(s,t,e=!1){const n=bs||ys;if(n||ql){const i=ql?ql._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&s in i)return i[s];if(arguments.length>1)return e&&Ot(t)?t.call(n&&n.proxy):t}}function Uw(){return!!(bs||ys||ql)}const Bw={},jw=()=>Object.create(Bw),Hw=s=>Object.getPrototypeOf(s)===Bw;function fO(s,t,e,n=!1){const i={},r=jw();s.propsDefaults=Object.create(null),Vw(s,t,i,r);for(const o in s.propsOptions[0])o in i||(i[o]=void 0);e?s.props=n?i:VE(i):s.type.props?s.props=i:s.props=r,s.attrs=r}function pO(s,t,e,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=s,a=ue(i),[l]=s.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=s.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ev(s.emitsOptions,f))continue;const p=t[f];if(l)if(ye(r,f))p!==r[f]&&(r[f]=p,c=!0);else{const g=Le(f);i[g]=Bb(l,a,g,p,s,!1)}else p!==r[f]&&(r[f]=p,c=!0)}}}else{Vw(s,t,i,r)&&(c=!0);let u;for(const d in a)(!t||!ye(t,d)&&((u=Zs(d))===d||!ye(t,u)))&&(l?e&&(e[d]!==void 0||e[u]!==void 0)&&(i[d]=Bb(l,a,d,void 0,s,!0)):delete i[d]);if(r!==a)for(const d in r)(!t||!ye(t,d))&&(delete r[d],c=!0)}c&&uo(s.attrs,"set","")}function Vw(s,t,e,n){const[i,r]=s.propsOptions;let o=!1,a;if(t)for(let l in t){if(mo(l))continue;const c=t[l];let u;i&&ye(i,u=Le(l))?!r||!r.includes(u)?e[u]=c:(a||(a={}))[u]=c:ev(s.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=ue(e),c=a||se;for(let u=0;u<r.length;u++){const d=r[u];e[d]=Bb(i,l,d,c[d],s,!ye(c,d))}}return o}function Bb(s,t,e,n,i,r){const o=s[e];if(o!=null){const a=ye(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ot(l)){const{propsDefaults:c}=i;if(e in c)n=c[e];else{const u=nc(i);n=c[e]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(e,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===Zs(e))&&(n=!0))}return n}const gO=new WeakMap;function $w(s,t,e=!1){const n=e?gO:t.propsCache,i=n.get(s);if(i)return i;const r=s.props,o={},a=[];let l=!1;if(!Ot(s)){const u=d=>{l=!0;const[f,p]=$w(d,t,!0);re(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),s.extends&&u(s.extends),s.mixins&&s.mixins.forEach(u)}if(!r&&!l)return Te(s)&&n.set(s,zl),zl;if(dt(r))for(let u=0;u<r.length;u++){const d=Le(r[u]);CA(d)&&(o[d]=se)}else if(r)for(const u in r){const d=Le(u);if(CA(d)){const f=r[u],p=o[d]=dt(f)||Ot(f)?{type:f}:re({},f),g=p.type;let m=!1,v=!0;if(dt(g))for(let b=0;b<g.length;++b){const S=g[b],E=Ot(S)&&S.name;if(E==="Boolean"){m=!0;break}else E==="String"&&(v=!1)}else m=Ot(g)&&g.name==="Boolean";p[0]=m,p[1]=v,(m||ye(p,"default"))&&a.push(d)}}const c=[o,a];return Te(s)&&n.set(s,c),c}function CA(s){return s[0]!=="$"&&!mo(s)}const Gw=s=>s[0]==="_"||s==="$stable",eS=s=>dt(s)?s.map(Dn):[Dn(s)],mO=(s,t,e)=>{if(t._n)return t;const n=gn((...i)=>eS(t(...i)),e);return n._c=!1,n},zw=(s,t,e)=>{const n=s._ctx;for(const i in s){if(Gw(i))continue;const r=s[i];if(Ot(r))t[i]=mO(i,r,n);else if(r!=null){const o=eS(r);t[i]=()=>o}}},Xw=(s,t)=>{const e=eS(t);s.slots.default=()=>e},Ww=(s,t,e)=>{for(const n in t)(e||n!=="_")&&(s[n]=t[n])},vO=(s,t,e)=>{const n=s.slots=jw();if(s.vnode.shapeFlag&32){const i=t._;i?(Ww(n,t,e),e&&ME(n,"_",i,!0)):zw(t,n)}else t&&Xw(s,t)},bO=(s,t,e)=>{const{vnode:n,slots:i}=s;let r=!0,o=se;if(n.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:Ww(i,t,e):(r=!t.$stable,zw(t,i)),o=t}else t&&(Xw(s,t),o={default:1});if(r)for(const a in i)!Gw(a)&&o[a]==null&&delete i[a]},ms=oT;function Kw(s){return qw(s)}function Yw(s){return qw(s,xR)}function qw(s,t){const e=sp();e.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=_s,insertStaticContent:g}=s,m=(I,M,z,Q=null,Y=null,tt=null,lt=void 0,nt=null,it=!!M.dynamicChildren)=>{if(I===M)return;I&&!Gi(I,M)&&(Q=G(I),Ct(I,Y,tt,!0),I=null),M.patchFlag===-2&&(it=!1,M.dynamicChildren=null);const{type:et,ref:Tt,shapeFlag:ht}=M;switch(et){case Ea:v(I,M,z,Q);break;case cs:b(I,M,z,Q);break;case Jl:I==null&&S(M,z,Q,lt);break;case yt:F(I,M,z,Q,Y,tt,lt,nt,it);break;default:ht&1?T(I,M,z,Q,Y,tt,lt,nt,it):ht&6?U(I,M,z,Q,Y,tt,lt,nt,it):(ht&64||ht&128)&&et.process(I,M,z,Q,Y,tt,lt,nt,it,ft)}Tt!=null&&Y&&Ed(Tt,I&&I.ref,tt,M||I,!M)},v=(I,M,z,Q)=>{if(I==null)n(M.el=a(M.children),z,Q);else{const Y=M.el=I.el;M.children!==I.children&&c(Y,M.children)}},b=(I,M,z,Q)=>{I==null?n(M.el=l(M.children||""),z,Q):M.el=I.el},S=(I,M,z,Q)=>{[I.el,I.anchor]=g(I.children,M,z,Q,I.el,I.anchor)},E=({el:I,anchor:M},z,Q)=>{let Y;for(;I&&I!==M;)Y=f(I),n(I,z,Q),I=Y;n(M,z,Q)},A=({el:I,anchor:M})=>{let z;for(;I&&I!==M;)z=f(I),i(I),I=z;i(M)},T=(I,M,z,Q,Y,tt,lt,nt,it)=>{M.type==="svg"?lt="svg":M.type==="math"&&(lt="mathml"),I==null?P(M,z,Q,Y,tt,lt,nt,it):_(I,M,Y,tt,lt,nt,it)},P=(I,M,z,Q,Y,tt,lt,nt)=>{let it,et;const{props:Tt,shapeFlag:ht,transition:mt,dirs:It}=I;if(it=I.el=o(I.type,tt,Tt&&Tt.is,Tt),ht&8?u(it,I.children):ht&16&&O(I.children,it,null,Q,Y,Qv(I,tt),lt,nt),It&&ir(I,null,Q,"created"),R(it,I,I.scopeId,lt,Q),Tt){for(const ve in Tt)ve!=="value"&&!mo(ve)&&r(it,ve,null,Tt[ve],tt,Q);"value"in Tt&&r(it,"value",null,Tt.value,tt),(et=Tt.onVnodeBeforeMount)&&Mn(et,Q,I)}It&&ir(I,null,Q,"beforeMount");const Jt=Jw(Y,mt);Jt&&mt.beforeEnter(it),n(it,M,z),((et=Tt&&Tt.onVnodeMounted)||Jt||It)&&ms(()=>{et&&Mn(et,Q,I),Jt&&mt.enter(it),It&&ir(I,null,Q,"mounted")},Y)},R=(I,M,z,Q,Y)=>{if(z&&p(I,z),Q)for(let tt=0;tt<Q.length;tt++)p(I,Q[tt]);if(Y){let tt=Y.subTree;if(M===tt||zg(tt.type)&&(tt.ssContent===M||tt.ssFallback===M)){const lt=Y.vnode;R(I,lt,lt.scopeId,lt.slotScopeIds,Y.parent)}}},O=(I,M,z,Q,Y,tt,lt,nt,it=0)=>{for(let et=it;et<I.length;et++){const Tt=I[et]=nt?Uo(I[et]):Dn(I[et]);m(null,Tt,M,z,Q,Y,tt,lt,nt)}},_=(I,M,z,Q,Y,tt,lt)=>{const nt=M.el=I.el;let{patchFlag:it,dynamicChildren:et,dirs:Tt}=M;it|=I.patchFlag&16;const ht=I.props||se,mt=M.props||se;let It;if(z&&La(z,!1),(It=mt.onVnodeBeforeUpdate)&&Mn(It,z,M,I),Tt&&ir(M,I,z,"beforeUpdate"),z&&La(z,!0),(ht.innerHTML&&mt.innerHTML==null||ht.textContent&&mt.textContent==null)&&u(nt,""),et?N(I.dynamicChildren,et,nt,z,Q,Qv(M,Y),tt):lt||W(I,M,nt,null,z,Q,Qv(M,Y),tt,!1),it>0){if(it&16)L(nt,ht,mt,z,Y);else if(it&2&&ht.class!==mt.class&&r(nt,"class",null,mt.class,Y),it&4&&r(nt,"style",ht.style,mt.style,Y),it&8){const Jt=M.dynamicProps;for(let ve=0;ve<Jt.length;ve++){const B=Jt[ve],$=ht[B],X=mt[B];(X!==$||B==="value")&&r(nt,B,$,X,Y,z)}}it&1&&I.children!==M.children&&u(nt,M.children)}else!lt&&et==null&&L(nt,ht,mt,z,Y);((It=mt.onVnodeUpdated)||Tt)&&ms(()=>{It&&Mn(It,z,M,I),Tt&&ir(M,I,z,"updated")},Q)},N=(I,M,z,Q,Y,tt,lt)=>{for(let nt=0;nt<M.length;nt++){const it=I[nt],et=M[nt],Tt=it.el&&(it.type===yt||!Gi(it,et)||it.shapeFlag&70)?d(it.el):z;m(it,et,Tt,null,Q,Y,tt,lt,!0)}},L=(I,M,z,Q,Y)=>{if(M!==z){if(M!==se)for(const tt in M)!mo(tt)&&!(tt in z)&&r(I,tt,M[tt],null,Y,Q);for(const tt in z){if(mo(tt))continue;const lt=z[tt],nt=M[tt];lt!==nt&&tt!=="value"&&r(I,tt,nt,lt,Y,Q)}"value"in z&&r(I,"value",M.value,z.value,Y)}},F=(I,M,z,Q,Y,tt,lt,nt,it)=>{const et=M.el=I?I.el:a(""),Tt=M.anchor=I?I.anchor:a("");let{patchFlag:ht,dynamicChildren:mt,slotScopeIds:It}=M;It&&(nt=nt?nt.concat(It):It),I==null?(n(et,z,Q),n(Tt,z,Q),O(M.children||[],z,Tt,Y,tt,lt,nt,it)):ht>0&&ht&64&&mt&&I.dynamicChildren?(N(I.dynamicChildren,mt,z,Y,tt,lt,nt),(M.key!=null||Y&&M===Y.subTree)&&sS(I,M,!0)):W(I,M,z,Tt,Y,tt,lt,nt,it)},U=(I,M,z,Q,Y,tt,lt,nt,it)=>{M.slotScopeIds=nt,I==null?M.shapeFlag&512?Y.ctx.activate(M,z,Q,lt,it):V(M,z,Q,Y,tt,lt,it):J(I,M,it)},V=(I,M,z,Q,Y,tt,lt)=>{const nt=I.component=fT(I,Q,Y);if(rp(I)&&(nt.ctx.renderer=ft),gT(nt,!1,lt),nt.asyncDep){if(Y&&Y.registerDep(nt,j,lt),!I.el){const it=nt.subTree=Ut(cs);b(null,it,M,z)}}else j(nt,I,M,z,Y,tt,lt)},J=(I,M,z)=>{const Q=M.component=I.component;if(PO(I,M,z))if(Q.asyncDep&&!Q.asyncResolved){H(Q,M,z);return}else Q.next=M,Q.update();else M.el=I.el,Q.vnode=M},j=(I,M,z,Q,Y,tt,lt)=>{const nt=()=>{if(I.isMounted){let{next:ht,bu:mt,u:It,parent:Jt,vnode:ve}=I;{const ut=Qw(I);if(ut){ht&&(ht.el=ve.el,H(I,ht,lt)),ut.asyncDep.then(()=>{I.isUnmounted||nt()});return}}let B=ht,$;La(I,!1),ht?(ht.el=ve.el,H(I,ht,lt)):ht=ve,mt&&Kl(mt),($=ht.props&&ht.props.onVnodeBeforeUpdate)&&Mn($,Jt,ht,ve),La(I,!0);const X=Wp(I),Z=I.subTree;I.subTree=X,m(Z,X,d(Z.el),G(Z),I,Y,tt),ht.el=X.el,B===null&&sv(I,X.el),It&&ms(It,Y),($=ht.props&&ht.props.onVnodeUpdated)&&ms(()=>Mn($,Jt,ht,ve),Y)}else{let ht;const{el:mt,props:It}=M,{bm:Jt,m:ve,parent:B,root:$,type:X}=I,Z=ya(M);if(La(I,!1),Jt&&Kl(Jt),!Z&&(ht=It&&It.onVnodeBeforeMount)&&Mn(ht,B,M),La(I,!0),mt&&fe){const ut=()=>{I.subTree=Wp(I),fe(mt,I.subTree,I,Y,null)};Z&&X.__asyncHydrate?X.__asyncHydrate(mt,I,ut):ut()}else{$.ce&&$.ce._injectChildStyle(X);const ut=I.subTree=Wp(I);m(null,ut,z,Q,I,Y,tt),M.el=ut.el}if(ve&&ms(ve,Y),!Z&&(ht=It&&It.onVnodeMounted)){const ut=M;ms(()=>Mn(ht,B,ut),Y)}(M.shapeFlag&256||B&&ya(B.vnode)&&B.vnode.shapeFlag&256)&&I.a&&ms(I.a,Y),I.isMounted=!0,M=z=Q=null}};I.scope.on();const it=I.effect=new pd(nt);I.scope.off();const et=I.update=it.run.bind(it),Tt=I.job=it.runIfDirty.bind(it);Tt.i=I,Tt.id=I.uid,it.scheduler=()=>XE(Tt),La(I,!0),et()},H=(I,M,z)=>{M.component=I;const Q=I.vnode.props;I.vnode=M,I.next=null,pO(I,M.props,Q,z),bO(I,M.children,z),Ma(),pA(I),Na()},W=(I,M,z,Q,Y,tt,lt,nt,it=!1)=>{const et=I&&I.children,Tt=I?I.shapeFlag:0,ht=M.children,{patchFlag:mt,shapeFlag:It}=M;if(mt>0){if(mt&128){Ht(et,ht,z,Q,Y,tt,lt,nt,it);return}else if(mt&256){At(et,ht,z,Q,Y,tt,lt,nt,it);return}}It&8?(Tt&16&&Pt(et,Y,tt),ht!==et&&u(z,ht)):Tt&16?It&16?Ht(et,ht,z,Q,Y,tt,lt,nt,it):Pt(et,Y,tt,!0):(Tt&8&&u(z,""),It&16&&O(ht,z,Q,Y,tt,lt,nt,it))},At=(I,M,z,Q,Y,tt,lt,nt,it)=>{I=I||zl,M=M||zl;const et=I.length,Tt=M.length,ht=Math.min(et,Tt);let mt;for(mt=0;mt<ht;mt++){const It=M[mt]=it?Uo(M[mt]):Dn(M[mt]);m(I[mt],It,z,null,Y,tt,lt,nt,it)}et>Tt?Pt(I,Y,tt,!0,!1,ht):O(M,z,Q,Y,tt,lt,nt,it,ht)},Ht=(I,M,z,Q,Y,tt,lt,nt,it)=>{let et=0;const Tt=M.length;let ht=I.length-1,mt=Tt-1;for(;et<=ht&&et<=mt;){const It=I[et],Jt=M[et]=it?Uo(M[et]):Dn(M[et]);if(Gi(It,Jt))m(It,Jt,z,null,Y,tt,lt,nt,it);else break;et++}for(;et<=ht&&et<=mt;){const It=I[ht],Jt=M[mt]=it?Uo(M[mt]):Dn(M[mt]);if(Gi(It,Jt))m(It,Jt,z,null,Y,tt,lt,nt,it);else break;ht--,mt--}if(et>ht){if(et<=mt){const It=mt+1,Jt=It<Tt?M[It].el:Q;for(;et<=mt;)m(null,M[et]=it?Uo(M[et]):Dn(M[et]),z,Jt,Y,tt,lt,nt,it),et++}}else if(et>mt)for(;et<=ht;)Ct(I[et],Y,tt,!0),et++;else{const It=et,Jt=et,ve=new Map;for(et=Jt;et<=mt;et++){const Bt=M[et]=it?Uo(M[et]):Dn(M[et]);Bt.key!=null&&ve.set(Bt.key,et)}let B,$=0;const X=mt-Jt+1;let Z=!1,ut=0;const xt=new Array(X);for(et=0;et<X;et++)xt[et]=0;for(et=It;et<=ht;et++){const Bt=I[et];if($>=X){Ct(Bt,Y,tt,!0);continue}let be;if(Bt.key!=null)be=ve.get(Bt.key);else for(B=Jt;B<=mt;B++)if(xt[B-Jt]===0&&Gi(Bt,M[B])){be=B;break}be===void 0?Ct(Bt,Y,tt,!0):(xt[be-Jt]=et+1,be>=ut?ut=be:Z=!0,m(Bt,M[be],z,null,Y,tt,lt,nt,it),$++)}const Vt=Z?yO(xt):zl;for(B=Vt.length-1,et=X-1;et>=0;et--){const Bt=Jt+et,be=M[Bt],Dt=Bt+1<Tt?M[Bt+1].el:Q;xt[et]===0?m(null,be,z,Dt,Y,tt,lt,nt,it):Z&&(B<0||et!==Vt[B]?Mt(be,z,Dt,2):B--)}}},Mt=(I,M,z,Q,Y=null)=>{const{el:tt,type:lt,transition:nt,children:it,shapeFlag:et}=I;if(et&6){Mt(I.component.subTree,M,z,Q);return}if(et&128){I.suspense.move(M,z,Q);return}if(et&64){lt.move(I,M,z,ft);return}if(lt===yt){n(tt,M,z);for(let ht=0;ht<it.length;ht++)Mt(it[ht],M,z,Q);n(I.anchor,M,z);return}if(lt===Jl){E(I,M,z);return}if(Q!==2&&et&1&&nt)if(Q===0)nt.beforeEnter(tt),n(tt,M,z),ms(()=>nt.enter(tt),Y);else{const{leave:ht,delayLeave:mt,afterLeave:It}=nt,Jt=()=>n(tt,M,z),ve=()=>{ht(tt,()=>{Jt(),It&&It()})};mt?mt(tt,Jt,ve):ve()}else n(tt,M,z)},Ct=(I,M,z,Q=!1,Y=!1)=>{const{type:tt,props:lt,ref:nt,children:it,dynamicChildren:et,shapeFlag:Tt,patchFlag:ht,dirs:mt,cacheIndex:It}=I;if(ht===-2&&(Y=!1),nt!=null&&Ed(nt,null,z,I,!0),It!=null&&(M.renderCache[It]=void 0),Tt&256){M.ctx.deactivate(I);return}const Jt=Tt&1&&mt,ve=!ya(I);let B;if(ve&&(B=lt&&lt.onVnodeBeforeUnmount)&&Mn(B,M,I),Tt&6)Ee(I.component,z,Q);else{if(Tt&128){I.suspense.unmount(z,Q);return}Jt&&ir(I,null,M,"beforeUnmount"),Tt&64?I.type.remove(I,M,z,ft,Q):et&&!et.hasOnce&&(tt!==yt||ht>0&&ht&64)?Pt(et,M,z,!1,!0):(tt===yt&&ht&384||!Y&&Tt&16)&&Pt(it,M,z),Q&&Ft(I)}(ve&&(B=lt&&lt.onVnodeUnmounted)||Jt)&&ms(()=>{B&&Mn(B,M,I),Jt&&ir(I,null,M,"unmounted")},z)},Ft=I=>{const{type:M,el:z,anchor:Q,transition:Y}=I;if(M===yt){me(z,Q);return}if(M===Jl){A(I);return}const tt=()=>{i(z),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(I.shapeFlag&1&&Y&&!Y.persisted){const{leave:lt,delayLeave:nt}=Y,it=()=>lt(z,tt);nt?nt(I.el,tt,it):it()}else tt()},me=(I,M)=>{let z;for(;I!==M;)z=f(I),i(I),I=z;i(M)},Ee=(I,M,z)=>{const{bum:Q,scope:Y,job:tt,subTree:lt,um:nt,m:it,a:et}=I;Gg(it),Gg(et),Q&&Kl(Q),Y.stop(),tt&&(tt.flags|=8,Ct(lt,I,M,z)),nt&&ms(nt,M),ms(()=>{I.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Pt=(I,M,z,Q=!1,Y=!1,tt=0)=>{for(let lt=tt;lt<I.length;lt++)Ct(I[lt],M,z,Q,Y)},G=I=>{if(I.shapeFlag&6)return G(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const M=f(I.anchor||I.el),z=M&&M[bw];return z?f(z):M};let rt=!1;const st=(I,M,z)=>{I==null?M._vnode&&Ct(M._vnode,null,null,!0):m(M._vnode||null,I,M,null,null,null,z),M._vnode=I,rt||(rt=!0,pA(),Vg(),rt=!1)},ft={p:m,um:Ct,m:Mt,r:Ft,mt:V,mc:O,pc:W,pbc:N,n:G,o:s};let Zt,fe;return t&&([Zt,fe]=t(ft)),{render:st,hydrate:Zt,createApp:dO(st,Zt)}}function Qv({type:s,props:t},e){return e==="svg"&&s==="foreignObject"||e==="mathml"&&s==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function La({effect:s,job:t},e){e?(s.flags|=32,t.flags|=4):(s.flags&=-33,t.flags&=-5)}function Jw(s,t){return(!s||s&&!s.pendingBranch)&&t&&!t.persisted}function sS(s,t,e=!1){const n=s.children,i=t.children;if(dt(n)&&dt(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Uo(i[r]),a.el=o.el),!e&&a.patchFlag!==-2&&sS(o,a)),a.type===Ea&&(a.el=o.el)}}function yO(s){const t=s.slice(),e=[0];let n,i,r,o,a;const l=s.length;for(n=0;n<l;n++){const c=s[n];if(c!==0){if(i=e[e.length-1],s[i]<c){t[n]=i,e.push(n);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,s[e[a]]<c?r=a+1:o=a;c<s[e[r]]&&(r>0&&(t[n]=e[r-1]),e[r]=n)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function Qw(s){const t=s.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qw(t)}function Gg(s){if(s)for(let t=0;t<s.length;t++)s[t].flags|=8}const Zw=Symbol.for("v-scx"),tT=()=>Ki(Zw);function EO(s,t){return op(s,null,t)}function SO(s,t){return op(s,null,{flush:"post"})}function eT(s,t){return op(s,null,{flush:"sync"})}function xr(s,t,e){return op(s,t,e)}function op(s,t,e=se){const{immediate:n,deep:i,flush:r,once:o}=e,a=re({},e),l=t&&n||!t&&r!=="post";let c;if(Ju){if(r==="sync"){const p=tT();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=_s,p.resume=_s,p.pause=_s,p}}const u=bs;a.call=(p,g,m)=>Ai(p,u,g,m);let d=!1;r==="post"?a.scheduler=p=>{ms(p,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(p,g)=>{g?p():XE(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=lR(s,t,a);return Ju&&(c?c.push(f):l&&f()),f}function AO(s,t,e){const n=this.proxy,i=kt(s)?s.includes(".")?sT(n,s):()=>n[s]:s.bind(n,n);let r;Ot(t)?r=t:(r=t.handler,e=t);const o=nc(this),a=op(i,r.bind(n),e);return o(),a}function sT(s,t){const e=t.split(".");return()=>{let n=s;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function wO(s,t,e=se){const n=Ti(),i=Le(t),r=Zs(t),o=nT(s,i),a=cw((l,c)=>{let u,d=se,f;return eT(()=>{const p=s[i];qs(u,p)&&(u=p,c())}),{get(){return l(),e.get?e.get(u):u},set(p){const g=e.set?e.set(p):p;if(!qs(g,u)&&!(d!==se&&qs(p,d)))return;const m=n.vnode.props;m&&(t in m||i in m||r in m)&&(`onUpdate:${t}`in m||`onUpdate:${i}`in m||`onUpdate:${r}`in m)||(u=p,c()),n.emit(`update:${t}`,g),qs(p,g)&&qs(p,d)&&!qs(g,f)&&c(),d=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||se:a,done:!1}:{done:!0}}}},a}const nT=(s,t)=>t==="modelValue"||t==="model-value"?s.modelModifiers:s[`${t}Modifiers`]||s[`${Le(t)}Modifiers`]||s[`${Zs(t)}Modifiers`];function TO(s,t,...e){if(s.isUnmounted)return;const n=s.vnode.props||se;let i=e;const r=t.startsWith("update:"),o=r&&nT(n,t.slice(7));o&&(o.trim&&(i=e.map(u=>kt(u)?u.trim():u)),o.number&&(i=e.map(dd)));let a,l=n[a=Wl(t)]||n[a=Wl(Le(t))];!l&&r&&(l=n[a=Wl(Zs(t))]),l&&Ai(l,s,6,i);const c=n[a+"Once"];if(c){if(!s.emitted)s.emitted={};else if(s.emitted[a])return;s.emitted[a]=!0,Ai(c,s,6,i)}}function iT(s,t,e=!1){const n=t.emitsCache,i=n.get(s);if(i!==void 0)return i;const r=s.emits;let o={},a=!1;if(!Ot(s)){const l=c=>{const u=iT(c,t,!0);u&&(a=!0,re(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),s.extends&&l(s.extends),s.mixins&&s.mixins.forEach(l)}return!r&&!a?(Te(s)&&n.set(s,null),null):(dt(r)?r.forEach(l=>o[l]=null):re(o,r),Te(s)&&n.set(s,o),o)}function ev(s,t){return!s||!Ia(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(s,t[0].toLowerCase()+t.slice(1))||ye(s,Zs(t))||ye(s,t))}function Wp(s){const{type:t,vnode:e,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=s,v=yd(s);let b,S;try{if(e.shapeFlag&4){const A=i||n,T=A;b=Dn(c.call(T,A,u,d,p,f,g)),S=a}else{const A=t;b=Dn(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),S=t.props?a:xO(a)}}catch(A){td.length=0,pc(A,s,1),b=Ut(cs)}let E=b;if(S&&m!==!1){const A=Object.keys(S),{shapeFlag:T}=E;A.length&&T&7&&(r&&A.some(Um)&&(S=_O(S,r)),E=Pr(E,S,!1,!0))}return e.dirs&&(E=Pr(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(e.dirs):e.dirs),e.transition&&To(E,e.transition),b=E,yd(v),b}function CO(s,t=!0){let e;for(let n=0;n<s.length;n++){const i=s[n];if(Co(i)){if(i.type!==cs||i.children==="v-if"){if(e)return;e=i}}else return}return e}const xO=s=>{let t;for(const e in s)(e==="class"||e==="style"||Ia(e))&&((t||(t={}))[e]=s[e]);return t},_O=(s,t)=>{const e={};for(const n in s)(!Um(n)||!(n.slice(9)in t))&&(e[n]=s[n]);return e};function PO(s,t,e){const{props:n,children:i,component:r}=s,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?xA(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!ev(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?xA(n,o,c):!0:!!o;return!1}function xA(s,t,e){const n=Object.keys(t);if(n.length!==Object.keys(s).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==s[r]&&!ev(e,r))return!0}return!1}function sv({vnode:s,parent:t},e){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=t.vnode).el=e,t=t.parent;else break}}const zg=s=>s.__isSuspense;let jb=0;const IO={name:"Suspense",__isSuspense:!0,process(s,t,e,n,i,r,o,a,l,c){if(s==null)OO(t,e,n,i,r,o,a,l,c);else{if(r&&r.deps>0&&!s.suspense.isInFallback){t.suspense=s.suspense,t.suspense.vnode=t,t.el=s.el;return}MO(s,t,e,n,i,o,a,l,c)}},hydrate:NO,normalize:DO},RO=IO;function Ad(s,t){const e=s.props&&s.props[t];Ot(e)&&e()}function OO(s,t,e,n,i,r,o,a,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=s.suspense=rT(s,i,n,t,d,e,r,o,a,l);c(null,f.pendingBranch=s.ssContent,d,null,n,f,r,o),f.deps>0?(Ad(s,"onPending"),Ad(s,"onFallback"),c(null,s.ssFallback,t,e,n,null,r,o),Vc(f,s.ssFallback)):f.resolve(!1,!0)}function MO(s,t,e,n,i,r,o,a,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=s.suspense;d.vnode=t,t.el=s.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:v,isHydrating:b}=d;if(m)d.pendingBranch=f,Gi(f,m)?(l(m,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():v&&(b||(l(g,p,e,n,i,null,r,o,a),Vc(d,p)))):(d.pendingId=jb++,b?(d.isHydrating=!1,d.activeBranch=m):c(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0?d.resolve():(l(g,p,e,n,i,null,r,o,a),Vc(d,p))):g&&Gi(f,g)?(l(g,f,e,n,i,d,r,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0&&d.resolve()));else if(g&&Gi(f,g))l(g,f,e,n,i,d,r,o,a),Vc(d,f);else if(Ad(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=jb++,l(null,f,d.hiddenContainer,null,i,d,r,o,a),d.deps<=0)d.resolve();else{const{timeout:S,pendingId:E}=d;S>0?setTimeout(()=>{d.pendingId===E&&d.fallback(p)},S):S===0&&d.fallback(p)}}function rT(s,t,e,n,i,r,o,a,l,c,u=!1){const{p:d,m:f,um:p,n:g,o:{parentNode:m,remove:v}}=c;let b;const S=LO(s);S&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const E=s.props?fd(s.props.timeout):void 0,A=r,T={vnode:s,parent:t,parentComponent:e,namespace:o,container:n,hiddenContainer:i,deps:0,pendingId:jb++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(P=!1,R=!1){const{vnode:O,activeBranch:_,pendingBranch:N,pendingId:L,effects:F,parentComponent:U,container:V}=T;let J=!1;T.isHydrating?T.isHydrating=!1:P||(J=_&&N.transition&&N.transition.mode==="out-in",J&&(_.transition.afterLeave=()=>{L===T.pendingId&&(f(N,V,r===A?g(_):r,0),vd(F))}),_&&(m(_.el)===V&&(r=g(_)),p(_,U,T,!0)),J||f(N,V,r,0)),Vc(T,N),T.pendingBranch=null,T.isInFallback=!1;let j=T.parent,H=!1;for(;j;){if(j.pendingBranch){j.effects.push(...F),H=!0;break}j=j.parent}!H&&!J&&vd(F),T.effects=[],S&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,t.deps===0&&!R&&t.resolve()),Ad(O,"onResolve")},fallback(P){if(!T.pendingBranch)return;const{vnode:R,activeBranch:O,parentComponent:_,container:N,namespace:L}=T;Ad(R,"onFallback");const F=g(O),U=()=>{T.isInFallback&&(d(null,P,N,F,_,null,L,a,l),Vc(T,P))},V=P.transition&&P.transition.mode==="out-in";V&&(O.transition.afterLeave=U),T.isInFallback=!0,p(O,_,null,!0),V||U()},move(P,R,O){T.activeBranch&&f(T.activeBranch,P,R,O),T.container=P},next(){return T.activeBranch&&g(T.activeBranch)},registerDep(P,R,O){const _=!!T.pendingBranch;_&&T.deps++;const N=P.vnode.el;P.asyncDep.catch(L=>{pc(L,P,0)}).then(L=>{if(P.isUnmounted||T.isUnmounted||T.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:F}=P;Gb(P,L,!1),N&&(F.el=N);const U=!N&&P.subTree.el;R(P,F,m(N||P.subTree.el),N?null:g(P.subTree),T,o,O),U&&v(U),sv(P,F.el),_&&--T.deps===0&&T.resolve()})},unmount(P,R){T.isUnmounted=!0,T.activeBranch&&p(T.activeBranch,e,P,R),T.pendingBranch&&p(T.pendingBranch,e,P,R)}};return T}function NO(s,t,e,n,i,r,o,a,l){const c=t.suspense=rT(t,n,e,s.parentNode,document.createElement("div"),null,i,r,o,a,!0),u=l(s,c.pendingBranch=t.ssContent,e,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function DO(s){const{shapeFlag:t,children:e}=s,n=t&32;s.ssContent=_A(n?e.default:e),s.ssFallback=n?_A(e.fallback):Ut(cs)}function _A(s){let t;if(Ot(s)){const e=ec&&s._c;e&&(s._d=!1,D()),s=s(),e&&(s._d=!0,t=sn,aT())}return dt(s)&&(s=CO(s)),s=Dn(s),t&&!s.dynamicChildren&&(s.dynamicChildren=t.filter(e=>e!==s)),s}function oT(s,t){t&&t.pendingBranch?dt(s)?t.effects.push(...s):t.effects.push(s):vd(s)}function Vc(s,t){s.activeBranch=t;const{vnode:e,parentComponent:n}=s;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;e.el=i,n&&n.subTree===e&&(n.vnode.el=i,sv(n,i))}function LO(s){const t=s.props&&s.props.suspensible;return t!=null&&t!==!1}const yt=Symbol.for("v-fgt"),Ea=Symbol.for("v-txt"),cs=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),td=[];let sn=null;function D(s=!1){td.push(sn=s?null:[])}function aT(){td.pop(),sn=td[td.length-1]||null}let ec=1;function Hb(s,t=!1){ec+=s,s<0&&sn&&t&&(sn.hasOnce=!0)}function lT(s){return s.dynamicChildren=ec>0?sn||zl:null,aT(),ec>0&&sn&&sn.push(s),s}function k(s,t,e,n,i,r){return lT(y(s,t,e,n,i,r,!0))}function sc(s,t,e,n,i){return lT(Ut(s,t,e,n,i,!0))}function Co(s){return s?s.__v_isVNode===!0:!1}function Gi(s,t){return s.type===t.type&&s.key===t.key}function kO(s){}const cT=({key:s})=>s??null,Kp=({ref:s,ref_key:t,ref_for:e})=>(typeof s=="number"&&(s=""+s),s!=null?kt(s)||Ke(s)||Ot(s)?{i:ys,r:s,k:t,f:!!e}:s:null);function y(s,t=null,e=null,n=0,i=null,r=s===yt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:s,props:t,key:t&&cT(t),ref:t&&Kp(t),scopeId:Ym,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ys};return a?(nS(l,e),r&128&&s.normalize(l)):e&&(l.shapeFlag|=kt(e)?8:16),ec>0&&!o&&sn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&sn.push(l),l}const Ut=FO;function FO(s,t=null,e=null,n=0,i=null,r=!1){if((!s||s===Dw)&&(s=cs),Co(s)){const a=Pr(s,t,!0);return e&&nS(a,e),ec>0&&!r&&sn&&(a.shapeFlag&6?sn[sn.indexOf(s)]=a:sn.push(a)),a.patchFlag=-2,a}if(GO(s)&&(s=s.__vccOpts),t){t=uT(t);let{class:a,style:l}=t;a&&!kt(a)&&(t.class=vs(a)),Te(l)&&(Wm(l)&&!dt(l)&&(l=re({},l)),t.style=Ao(l))}const o=kt(s)?1:zg(s)?128:yw(s)?64:Te(s)?4:Ot(s)?2:0;return y(s,t,e,n,i,o,r,!0)}function uT(s){return s?Wm(s)||Hw(s)?re({},s):s:null}function Pr(s,t,e=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=s,c=t?dT(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:s.type,props:c,key:c&&cT(c),ref:t&&t.ref?e&&r?dt(r)?r.concat(Kp(t)):[r,Kp(t)]:Kp(t):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:a,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:t&&s.type!==yt?o===-1?16:o|16:o,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:l,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Pr(s.ssContent),ssFallback:s.ssFallback&&Pr(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return l&&n&&To(u,l.clone(u)),u}function bt(s=" ",t=0){return Ut(Ea,null,s,t)}function hT(s,t){const e=Ut(Jl,null,s);return e.staticCount=t,e}function ot(s="",t=!1){return t?(D(),sc(cs,null,s)):Ut(cs,null,s)}function Dn(s){return s==null||typeof s=="boolean"?Ut(cs):dt(s)?Ut(yt,null,s.slice()):Co(s)?Uo(s):Ut(Ea,null,String(s))}function Uo(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Pr(s)}function nS(s,t){let e=0;const{shapeFlag:n}=s;if(t==null)t=null;else if(dt(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),nS(s,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!Hw(t)?t._ctx=ys:i===3&&ys&&(ys.slots._===1?t._=1:(t._=2,s.patchFlag|=1024))}else Ot(t)?(t={default:t,_ctx:ys},e=32):(t=String(t),n&64?(e=16,t=[bt(t)]):e=8);s.children=t,s.shapeFlag|=e}function dT(...s){const t={};for(let e=0;e<s.length;e++){const n=s[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=vs([t.class,n.class]));else if(i==="style")t.style=Ao([t.style,n.style]);else if(Ia(i)){const r=t[i],o=n[i];o&&r!==o&&!(dt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=n[i])}return t}function Mn(s,t,e,n=null){Ai(s,t,7,[e,n])}const UO=Fw();let BO=0;function fT(s,t,e){const n=s.type,i=(t?t.appContext:s.appContext)||UO,r={uid:BO++,vnode:s,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$w(n,i),emitsOptions:iT(n,i),emit:null,emitted:null,propsDefaults:se,inheritAttrs:n.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=TO.bind(null,r),s.ce&&s.ce(r),r}let bs=null;const Ti=()=>bs||ys;let Xg,Vb;{const s=sp(),t=(e,n)=>{let i;return(i=s[e])||(i=s[e]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Xg=t("__VUE_INSTANCE_SETTERS__",e=>bs=e),Vb=t("__VUE_SSR_SETTERS__",e=>Ju=e)}const nc=s=>{const t=bs;return Xg(s),s.scope.on(),()=>{s.scope.off(),Xg(t)}},$b=()=>{bs&&bs.scope.off(),Xg(null)};function pT(s){return s.vnode.shapeFlag&4}let Ju=!1;function gT(s,t=!1,e=!1){t&&Vb(t);const{props:n,children:i}=s.vnode,r=pT(s);fO(s,n,r,t),vO(s,i,e);const o=r?jO(s,t):void 0;return t&&Vb(!1),o}function jO(s,t){const e=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,kb);const{setup:n}=e;if(n){Ma();const i=s.setupContext=n.length>1?vT(s):null,r=nc(s),o=uh(n,s,0,[s.props,i]),a=jm(o);if(Na(),r(),(a||s.sp)&&!ya(s)&&YE(s),a){if(o.then($b,$b),t)return o.then(l=>{Gb(s,l,t)}).catch(l=>{pc(l,s,0)});s.asyncDep=o}else Gb(s,o,t)}else mT(s,t)}function Gb(s,t,e){Ot(t)?s.type.__ssrInlineRender?s.ssrRender=t:s.render=t:Te(t)&&(s.setupState=zE(t)),mT(s,e)}let Wg,zb;function HO(s){Wg=s,zb=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,XR))}}const VO=()=>!Wg;function mT(s,t,e){const n=s.type;if(!s.render){if(!t&&Wg&&!n.render){const i=n.template||tS(s).template;if(i){const{isCustomElement:r,compilerOptions:o}=s.appContext.config,{delimiters:a,compilerOptions:l}=n,c=re(re({isCustomElement:r,delimiters:a},o),l);n.render=Wg(i,c)}}s.render=n.render||_s,zb&&zb(s)}{const i=nc(s);Ma();try{oO(s)}finally{Na(),i()}}}const $O={get(s,t){return Js(s,"get",""),s[t]}};function vT(s){const t=e=>{s.exposed=e||{}};return{attrs:new Proxy(s.attrs,$O),slots:s.slots,emit:s.emit,expose:t}}function ap(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(zE(Km(s.exposed)),{get(t,e){if(e in t)return t[e];if(e in Qh)return Qh[e](s)},has(t,e){return e in t||e in Qh}})):s.proxy}function Xb(s,t=!0){return Ot(s)?s.displayName||s.name:s.name||t&&s.__name}function GO(s){return Ot(s)&&"__vccOpts"in s}const Ln=(s,t)=>iR(s,t,Ju);function nv(s,t,e){const n=arguments.length;return n===2?Te(t)&&!dt(t)?Co(t)?Ut(s,null,[t]):Ut(s,t):Ut(s,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Co(e)&&(e=[e]),Ut(s,t,e))}function zO(){}function XO(s,t,e,n){const i=e[n];if(i&&bT(i,s))return i;const r=t();return r.memo=s.slice(),r.cacheIndex=n,e[n]=r}function bT(s,t){const e=s.memo;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(qs(e[n],t[n]))return!1;return ec>0&&sn&&sn.push(s),!0}const yT="3.5.13",WO=_s,KO=fR,YO=xc,qO=vw,JO={createComponentInstance:fT,setupComponent:gT,renderComponentRoot:Wp,setCurrentRenderingInstance:yd,isVNode:Co,normalizeVNode:Dn,getComponentPublicInstance:ap,ensureValidVNode:ZE,pushWarningContext:cR,popWarningContext:uR},QO=JO,ZO=null,tM=null,eM=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wb;const PA=typeof window<"u"&&window.trustedTypes;if(PA)try{Wb=PA.createPolicy("vue",{createHTML:s=>s})}catch{}const ET=Wb?s=>Wb.createHTML(s):s=>s,sM="http://www.w3.org/2000/svg",nM="http://www.w3.org/1998/Math/MathML",Br=typeof document<"u"?document:null,IA=Br&&Br.createElement("template"),iM={insert:(s,t,e)=>{t.insertBefore(s,e||null)},remove:s=>{const t=s.parentNode;t&&t.removeChild(s)},createElement:(s,t,e,n)=>{const i=t==="svg"?Br.createElementNS(sM,s):t==="mathml"?Br.createElementNS(nM,s):e?Br.createElement(s,{is:e}):Br.createElement(s);return s==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:s=>Br.createTextNode(s),createComment:s=>Br.createComment(s),setText:(s,t)=>{s.nodeValue=t},setElementText:(s,t)=>{s.textContent=t},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Br.querySelector(s),setScopeId(s,t){s.setAttribute(t,"")},insertStaticContent(s,t,e,n,i,r){const o=e?e.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===r||!(i=i.nextSibling)););else{IA.innerHTML=ET(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const a=IA.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Io="transition",vh="animation",Qu=Symbol("_vtc"),ST={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},AT=re({},KE,ST),rM=s=>(s.displayName="Transition",s.props=AT,s),oM=rM((s,{slots:t})=>nv(Tw,wT(s),t)),ka=(s,t=[])=>{dt(s)?s.forEach(e=>e(...t)):s&&s(...t)},RA=s=>s?dt(s)?s.some(t=>t.length>1):s.length>1:!1;function wT(s){const t={};for(const F in s)F in ST||(t[F]=s[F]);if(s.css===!1)return t;const{name:e="v",type:n,duration:i,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=s,g=aM(i),m=g&&g[0],v=g&&g[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:E,onLeave:A,onLeaveCancelled:T,onBeforeAppear:P=b,onAppear:R=S,onAppearCancelled:O=E}=t,_=(F,U,V,J)=>{F._enterCancelled=J,Mo(F,U?u:a),Mo(F,U?c:o),V&&V()},N=(F,U)=>{F._isLeaving=!1,Mo(F,d),Mo(F,p),Mo(F,f),U&&U()},L=F=>(U,V)=>{const J=F?R:S,j=()=>_(U,F,V);ka(J,[U,j]),OA(()=>{Mo(U,F?l:r),er(U,F?u:a),RA(J)||MA(U,n,m,j)})};return re(t,{onBeforeEnter(F){ka(b,[F]),er(F,r),er(F,o)},onBeforeAppear(F){ka(P,[F]),er(F,l),er(F,c)},onEnter:L(!1),onAppear:L(!0),onLeave(F,U){F._isLeaving=!0;const V=()=>N(F,U);er(F,d),F._enterCancelled?(er(F,f),Kb()):(Kb(),er(F,f)),OA(()=>{F._isLeaving&&(Mo(F,d),er(F,p),RA(A)||MA(F,n,v,V))}),ka(A,[F,V])},onEnterCancelled(F){_(F,!1,void 0,!0),ka(E,[F])},onAppearCancelled(F){_(F,!0,void 0,!0),ka(O,[F])},onLeaveCancelled(F){N(F),ka(T,[F])}})}function aM(s){if(s==null)return null;if(Te(s))return[Zv(s.enter),Zv(s.leave)];{const t=Zv(s);return[t,t]}}function Zv(s){return fd(s)}function er(s,t){t.split(/\s+/).forEach(e=>e&&s.classList.add(e)),(s[Qu]||(s[Qu]=new Set)).add(t)}function Mo(s,t){t.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const e=s[Qu];e&&(e.delete(t),e.size||(s[Qu]=void 0))}function OA(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let lM=0;function MA(s,t,e,n){const i=s._endId=++lM,r=()=>{i===s._endId&&n()};if(e!=null)return setTimeout(r,e);const{type:o,timeout:a,propCount:l}=TT(s,t);if(!o)return n();const c=o+"end";let u=0;const d=()=>{s.removeEventListener(c,f),r()},f=p=>{p.target===s&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),s.addEventListener(c,f)}function TT(s,t){const e=window.getComputedStyle(s),n=g=>(e[g]||"").split(", "),i=n(`${Io}Delay`),r=n(`${Io}Duration`),o=NA(i,r),a=n(`${vh}Delay`),l=n(`${vh}Duration`),c=NA(a,l);let u=null,d=0,f=0;t===Io?o>0&&(u=Io,d=o,f=r.length):t===vh?c>0&&(u=vh,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?Io:vh:null,f=u?u===Io?r.length:l.length:0);const p=u===Io&&/\b(transform|all)(,|$)/.test(n(`${Io}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function NA(s,t){for(;s.length<t.length;)s=s.concat(s);return Math.max(...t.map((e,n)=>DA(e)+DA(s[n])))}function DA(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Kb(){return document.body.offsetHeight}function cM(s,t,e){const n=s[Qu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?s.removeAttribute("class"):e?s.setAttribute("class",t):s.className=t}const Kg=Symbol("_vod"),CT=Symbol("_vsh"),wr={beforeMount(s,{value:t},{transition:e}){s[Kg]=s.style.display==="none"?"":s.style.display,e&&t?e.beforeEnter(s):bh(s,t)},mounted(s,{value:t},{transition:e}){e&&t&&e.enter(s)},updated(s,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(s),bh(s,!0),n.enter(s)):n.leave(s,()=>{bh(s,!1)}):bh(s,t))},beforeUnmount(s,{value:t}){bh(s,t)}};function bh(s,t){s.style.display=t?s[Kg]:"none",s[CT]=!t}function uM(){wr.getSSRProps=({value:s})=>{if(!s)return{style:{display:"none"}}}}const xT=Symbol("");function hM(s){const t=Ti();if(!t)return;const e=t.ut=(i=s(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>Yg(r,i))},n=()=>{const i=s(t.proxy);t.ce?Yg(t.ce,i):Yb(t.subTree,i),e(i)};qE(()=>{vd(n)}),hh(()=>{xr(n,_s,{flush:"post"});const i=new MutationObserver(n);i.observe(t.subTree.el.parentNode,{childList:!0}),tv(()=>i.disconnect())})}function Yb(s,t){if(s.shapeFlag&128){const e=s.suspense;s=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{Yb(e.activeBranch,t)})}for(;s.component;)s=s.component.subTree;if(s.shapeFlag&1&&s.el)Yg(s.el,t);else if(s.type===yt)s.children.forEach(e=>Yb(e,t));else if(s.type===Jl){let{el:e,anchor:n}=s;for(;e&&(Yg(e,t),e!==n);)e=e.nextSibling}}function Yg(s,t){if(s.nodeType===1){const e=s.style;let n="";for(const i in t)e.setProperty(`--${i}`,t[i]),n+=`--${i}: ${t[i]};`;e[xT]=n}}const dM=/(^|;)\s*display\s*:/;function fM(s,t,e){const n=s.style,i=kt(e);let r=!1;if(e&&!i){if(t)if(kt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&Yp(n,a,"")}else for(const o in t)e[o]==null&&Yp(n,o,"");for(const o in e)o==="display"&&(r=!0),Yp(n,o,e[o])}else if(i){if(t!==e){const o=n[xT];o&&(e+=";"+o),n.cssText=e,r=dM.test(e)}}else t&&s.removeAttribute("style");Kg in s&&(s[Kg]=r?n.display:"",s[CT]&&(n.display="none"))}const LA=/\s*!important$/;function Yp(s,t,e){if(dt(e))e.forEach(n=>Yp(s,t,n));else if(e==null&&(e=""),t.startsWith("--"))s.setProperty(t,e);else{const n=pM(s,t);LA.test(e)?s.setProperty(Zs(n),e.replace(LA,""),"important"):s[n]=e}}const kA=["Webkit","Moz","ms"],tb={};function pM(s,t){const e=tb[t];if(e)return e;let n=Le(t);if(n!=="filter"&&n in s)return tb[t]=n;n=Oa(n);for(let i=0;i<kA.length;i++){const r=kA[i]+n;if(r in s)return tb[t]=r}return t}const FA="http://www.w3.org/1999/xlink";function UA(s,t,e,n,i,r=V1(t)){n&&t.startsWith("xlink:")?e==null?s.removeAttributeNS(FA,t.slice(6,t.length)):s.setAttributeNS(FA,t,e):e==null||r&&!LE(e)?s.removeAttribute(t):s.setAttribute(t,r?"":Sn(e)?String(e):e)}function BA(s,t,e,n,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(s[t]=t==="innerHTML"?ET(e):e);return}const r=s.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?s.getAttribute("value")||"":s.value,l=e==null?s.type==="checkbox"?"on":"":String(e);(a!==l||!("_value"in s))&&(s.value=l),e==null&&s.removeAttribute(t),s._value=e;return}let o=!1;if(e===""||e==null){const a=typeof s[t];a==="boolean"?e=LE(e):e==null&&a==="string"?(e="",o=!0):a==="number"&&(e=0,o=!0)}try{s[t]=e}catch{}o&&s.removeAttribute(i||t)}function fo(s,t,e,n){s.addEventListener(t,e,n)}function gM(s,t,e,n){s.removeEventListener(t,e,n)}const jA=Symbol("_vei");function mM(s,t,e,n,i=null){const r=s[jA]||(s[jA]={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=vM(t);if(n){const c=r[t]=EM(n,i);fo(s,a,c,l)}else o&&(gM(s,a,o,l),r[t]=void 0)}}const HA=/(?:Once|Passive|Capture)$/;function vM(s){let t;if(HA.test(s)){t={};let n;for(;n=s.match(HA);)s=s.slice(0,s.length-n[0].length),t[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Zs(s.slice(2)),t]}let eb=0;const bM=Promise.resolve(),yM=()=>eb||(bM.then(()=>eb=0),eb=Date.now());function EM(s,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;Ai(SM(n,e.value),t,5,[n])};return e.value=s,e.attached=yM(),e}function SM(s,t){if(dt(t)){const e=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{e.call(s),s._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const VA=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,AM=(s,t,e,n,i,r)=>{const o=i==="svg";t==="class"?cM(s,n,o):t==="style"?fM(s,e,n):Ia(t)?Um(t)||mM(s,t,e,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wM(s,t,n,o))?(BA(s,t,n),!s.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&UA(s,t,n,o,r,t!=="value")):s._isVueCE&&(/[A-Z]/.test(t)||!kt(n))?BA(s,Le(t),n,r,t):(t==="true-value"?s._trueValue=n:t==="false-value"&&(s._falseValue=n),UA(s,t,n,o))};function wM(s,t,e,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in s&&VA(t)&&Ot(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&s.tagName==="INPUT"||t==="type"&&s.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=s.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return VA(t)&&kt(e)?!1:t in s}const $A={};/*! #__NO_SIDE_EFFECTS__ */function _T(s,t,e){const n=ip(s,t);ep(n)&&re(n,t);class i extends iv{constructor(o){super(n,o,e)}}return i.def=n,i}/*! #__NO_SIDE_EFFECTS__ */const TM=(s,t)=>_T(s,t,BT),CM=typeof HTMLElement<"u"?HTMLElement:class{};class iv extends CM{constructor(t,e={},n=Qg){super(),this._def=t,this._props=e,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Qg?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof iv){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,gc(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const i of n)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(n,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:r,styles:o}=n;let a;if(r&&!dt(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=fd(this._props[l])),(a||(a=Object.create(null)))[Le(l)]=!0)}this._numberProps=a,i&&this._resolveProps(n),this.shadowRoot&&this._applyStyles(o),this._mount(n)},e=this._def.__asyncLoader;e?this._pendingResolve=e().then(n=>t(this._def=n,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const e=this._instance&&this._instance.exposed;if(e)for(const n in e)ye(this,n)||Object.defineProperty(this,n,{get:()=>Cr(e[n])})}_resolveProps(t){const{props:e}=t,n=dt(e)?e:Object.keys(e||{});for(const i of Object.keys(this))i[0]!=="_"&&n.includes(i)&&this._setProp(i,this[i]);for(const i of n.map(Le))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const e=this.hasAttribute(t);let n=e?this.getAttribute(t):$A;const i=Le(t);e&&this._numberProps&&this._numberProps[i]&&(n=fd(n)),this._setProp(i,n,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0,i=!1){if(e!==this._props[t]&&(e===$A?delete this._props[t]:(this._props[t]=e,t==="key"&&this._app&&(this._app._ceVNode.key=e)),i&&this._instance&&this._update(),n)){const r=this._ob;r&&r.disconnect(),e===!0?this.setAttribute(Zs(t),""):typeof e=="string"||typeof e=="number"?this.setAttribute(Zs(t),e+""):e||this.removeAttribute(Zs(t)),r&&r.observe(this,{attributes:!0})}}_update(){UT(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const e=Ut(this._def,re(t,this._props));return this._instance||(e.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,ep(o[0])?re({detail:o},o[0]):{detail:o}))};n.emit=(r,...o)=>{i(r,o),Zs(r)!==r&&i(Zs(r),o)},this._setParent()}),e}_applyStyles(t,e){if(!t)return;if(e){if(e===this._def||this._styleChildren.has(e))return;this._styleChildren.add(e)}const n=this._nonce;for(let i=t.length-1;i>=0;i--){const r=document.createElement("style");n&&r.setAttribute("nonce",n),r.textContent=t[i],this.shadowRoot.prepend(r)}}_parseSlots(){const t=this._slots={};let e;for(;e=this.firstChild;){const n=e.nodeType===1&&e.getAttribute("slot")||"default";(t[n]||(t[n]=[])).push(e),this.removeChild(e)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),e=this._instance.type.__scopeId;for(let n=0;n<t.length;n++){const i=t[n],r=i.getAttribute("name")||"default",o=this._slots[r],a=i.parentNode;if(o)for(const l of o){if(e&&l.nodeType===1){const c=e+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=u.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function PT(s){const t=Ti(),e=t&&t.ce;return e||null}function xM(){const s=PT();return s&&s.shadowRoot}function _M(s="$style"){{const t=Ti();if(!t)return se;const e=t.type.__cssModules;if(!e)return se;const n=e[s];return n||se}}const IT=new WeakMap,RT=new WeakMap,qg=Symbol("_moveCb"),GA=Symbol("_enterCb"),PM=s=>(delete s.props.mode,s),IM=PM({name:"TransitionGroup",props:re({},AT,{tag:String,moveClass:String}),setup(s,{slots:t}){const e=Ti(),n=WE();let i,r;return Qm(()=>{if(!i.length)return;const o=s.moveClass||`${s.name||"v"}-move`;if(!NM(i[0].el,e.vnode.el,o))return;i.forEach(RM),i.forEach(OM);const a=i.filter(MM);Kb(),a.forEach(l=>{const c=l.el,u=c.style;er(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[qg]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[qg]=null,Mo(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=ue(s),a=wT(o);let l=o.tag||yt;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),To(u,qu(u,a,n,e)),IT.set(u,u.el.getBoundingClientRect()))}r=t.default?qm(t.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&To(u,qu(u,a,n,e))}return Ut(l,null,r)}}}),OT=IM;function RM(s){const t=s.el;t[qg]&&t[qg](),t[GA]&&t[GA]()}function OM(s){RT.set(s,s.el.getBoundingClientRect())}function MM(s){const t=IT.get(s),e=RT.get(s),n=t.left-e.left,i=t.top-e.top;if(n||i){const r=s.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s",s}}function NM(s,t,e){const n=s.cloneNode(),i=s[Qu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),e.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(n);const{hasTransform:o}=TT(n);return r.removeChild(n),o}const Ta=s=>{const t=s.props["onUpdate:modelValue"]||!1;return dt(t)?e=>Kl(t,e):t};function DM(s){s.target.composing=!0}function zA(s){const t=s.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const yi=Symbol("_assign"),ae={created(s,{modifiers:{lazy:t,trim:e,number:n}},i){s[yi]=Ta(i);const r=n||i.props&&i.props.type==="number";fo(s,t?"change":"input",o=>{if(o.target.composing)return;let a=s.value;e&&(a=a.trim()),r&&(a=dd(a)),s[yi](a)}),e&&fo(s,"change",()=>{s.value=s.value.trim()}),t||(fo(s,"compositionstart",DM),fo(s,"compositionend",zA),fo(s,"change",zA))},mounted(s,{value:t}){s.value=t??""},beforeUpdate(s,{value:t,oldValue:e,modifiers:{lazy:n,trim:i,number:r}},o){if(s[yi]=Ta(o),s.composing)return;const a=(r||s.type==="number")&&!/^0\d/.test(s.value)?dd(s.value):s.value,l=t??"";a!==l&&(document.activeElement===s&&s.type!=="range"&&(n&&t===e||i&&s.value.trim()===l)||(s.value=l))}},iS={deep:!0,created(s,t,e){s[yi]=Ta(e),fo(s,"change",()=>{const n=s._modelValue,i=Zu(s),r=s.checked,o=s[yi];if(dt(n)){const a=np(n,i),l=a!==-1;if(r&&!l)o(n.concat(i));else if(!r&&l){const c=[...n];c.splice(a,1),o(c)}}else if(Ra(n)){const a=new Set(n);r?a.add(i):a.delete(i),o(a)}else o(MT(s,r))})},mounted:XA,beforeUpdate(s,t,e){s[yi]=Ta(e),XA(s,t,e)}};function XA(s,{value:t,oldValue:e},n){s._modelValue=t;let i;if(dt(t))i=np(t,n.props.value)>-1;else if(Ra(t))i=t.has(n.props.value);else{if(t===e)return;i=wo(t,MT(s,!0))}s.checked!==i&&(s.checked=i)}const rS={created(s,{value:t},e){s.checked=wo(t,e.props.value),s[yi]=Ta(e),fo(s,"change",()=>{s[yi](Zu(s))})},beforeUpdate(s,{value:t,oldValue:e},n){s[yi]=Ta(n),t!==e&&(s.checked=wo(t,n.props.value))}},wd={deep:!0,created(s,{value:t,modifiers:{number:e}},n){const i=Ra(t);fo(s,"change",()=>{const r=Array.prototype.filter.call(s.options,o=>o.selected).map(o=>e?dd(Zu(o)):Zu(o));s[yi](s.multiple?i?new Set(r):r:r[0]),s._assigning=!0,gc(()=>{s._assigning=!1})}),s[yi]=Ta(n)},mounted(s,{value:t}){WA(s,t)},beforeUpdate(s,t,e){s[yi]=Ta(e)},updated(s,{value:t}){s._assigning||WA(s,t)}};function WA(s,t){const e=s.multiple,n=dt(t);if(!(e&&!n&&!Ra(t))){for(let i=0,r=s.options.length;i<r;i++){const o=s.options[i],a=Zu(o);if(e)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=np(t,a)>-1}else o.selected=t.has(a);else if(wo(Zu(o),t)){s.selectedIndex!==i&&(s.selectedIndex=i);return}}!e&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function Zu(s){return"_value"in s?s._value:s.value}function MT(s,t){const e=t?"_trueValue":"_falseValue";return e in s?s[e]:t}const NT={created(s,t,e){Op(s,t,e,null,"created")},mounted(s,t,e){Op(s,t,e,null,"mounted")},beforeUpdate(s,t,e,n){Op(s,t,e,n,"beforeUpdate")},updated(s,t,e,n){Op(s,t,e,n,"updated")}};function DT(s,t){switch(s){case"SELECT":return wd;case"TEXTAREA":return ae;default:switch(t){case"checkbox":return iS;case"radio":return rS;default:return ae}}}function Op(s,t,e,n,i){const o=DT(s.tagName,e.props&&e.props.type)[i];o&&o(s,t,e,n)}function LM(){ae.getSSRProps=({value:s})=>({value:s}),rS.getSSRProps=({value:s},t)=>{if(t.props&&wo(t.props.value,s))return{checked:!0}},iS.getSSRProps=({value:s},t)=>{if(dt(s)){if(t.props&&np(s,t.props.value)>-1)return{checked:!0}}else if(Ra(s)){if(t.props&&s.has(t.props.value))return{checked:!0}}else if(s)return{checked:!0}},NT.getSSRProps=(s,t)=>{if(typeof t.type!="string")return;const e=DT(t.type.toUpperCase(),t.props&&t.props.type);if(e.getSSRProps)return e.getSSRProps(s,t)}}const kM=["ctrl","shift","alt","meta"],FM={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,t)=>kM.some(e=>s[`${e}Key`]&&!t.includes(e))},Rt=(s,t)=>{const e=s._withMods||(s._withMods={}),n=t.join(".");return e[n]||(e[n]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=FM[t[o]];if(a&&a(i,t))return}return s(i,...r)})},UM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jg=(s,t)=>{const e=s._withKeys||(s._withKeys={}),n=t.join(".");return e[n]||(e[n]=i=>{if(!("key"in i))return;const r=Zs(i.key);if(t.some(o=>o===r||UM[o]===r))return s(i)})},LT=re({patchProp:AM},iM);let ed,KA=!1;function kT(){return ed||(ed=Kw(LT))}function FT(){return ed=KA?ed:Yw(LT),KA=!0,ed}const UT=(...s)=>{kT().render(...s)},BM=(...s)=>{FT().hydrate(...s)},Qg=(...s)=>{const t=kT().createApp(...s),{mount:e}=t;return t.mount=n=>{const i=HT(n);if(!i)return;const r=t._component;!Ot(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=e(i,!1,jT(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},BT=(...s)=>{const t=FT().createApp(...s),{mount:e}=t;return t.mount=n=>{const i=HT(n);if(i)return e(i,!0,jT(i))},t};function jT(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function HT(s){return kt(s)?document.querySelector(s):s}let YA=!1;const jM=()=>{YA||(YA=!0,LM(),uM())},HM=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Tw,BaseTransitionPropsValidators:KE,Comment:cs,DeprecationTypes:eM,EffectScope:kE,ErrorCodes:dR,ErrorTypeStrings:KO,Fragment:yt,KeepAlive:UR,ReactiveEffect:pd,Static:Jl,Suspense:RO,Teleport:ER,Text:Ea,TrackOpTypes:rR,Transition:oM,TransitionGroup:OT,TriggerOpTypes:oR,VueElement:iv,assertNumber:hR,callWithAsyncErrorHandling:Ai,callWithErrorHandling:uh,camelize:Le,capitalize:Oa,cloneVNode:Pr,compatUtils:tM,computed:Ln,createApp:Qg,createBlock:sc,createCommentVNode:ot,createElementBlock:k,createElementVNode:y,createHydrationRenderer:Yw,createPropsRestProxy:iO,createRenderer:Kw,createSSRApp:BT,createSlots:$R,createStaticVNode:hT,createTextVNode:bt,createVNode:Ut,customRef:cw,defineAsyncComponent:kR,defineComponent:ip,defineCustomElement:_T,defineEmits:KR,defineExpose:YR,defineModel:QR,defineOptions:qR,defineProps:WR,defineSSRCustomElement:TM,defineSlots:JR,devtools:YO,effect:PI,effectScope:FE,getCurrentInstance:Ti,getCurrentScope:UE,getCurrentWatcher:aR,getTransitionRawChildren:qm,guardReactiveProps:uT,h:nv,handleError:pc,hasInjectionContext:Uw,hydrate:BM,hydrateOnIdle:RR,hydrateOnInteraction:DR,hydrateOnMediaQuery:NR,hydrateOnVisible:MR,initCustomFormatter:zO,initDirectivesForSSR:jM,inject:Ki,isMemoSame:bT,isProxy:Wm,isReactive:Tr,isReadonly:wa,isRef:Ke,isRuntimeOnly:VO,isShallow:ti,isVNode:Co,markRaw:Km,mergeDefaults:sO,mergeModels:nO,mergeProps:dT,nextTick:gc,normalizeClass:vs,normalizeProps:k1,normalizeStyle:Ao,onActivated:xw,onBeforeMount:Iw,onBeforeUnmount:Zm,onBeforeUpdate:qE,onDeactivated:_w,onErrorCaptured:Nw,onMounted:hh,onRenderTracked:Mw,onRenderTriggered:Ow,onScopeDispose:X1,onServerPrefetch:Rw,onUnmounted:tv,onUpdated:Qm,onWatcherCleanup:dw,openBlock:D,popScopeId:vR,provide:Zh,proxyRefs:zE,pushScopeId:mR,queuePostFlushCb:vd,reactive:ch,readonly:$E,ref:bi,registerRuntimeCompiler:HO,render:UT,renderList:Ae,renderSlot:GR,resolveComponent:Us,resolveDirective:VR,resolveDynamicComponent:HR,resolveFilter:ZO,resolveTransitionHooks:qu,setBlockTracking:Hb,setDevtoolsHook:qO,setTransitionHooks:To,shallowReactive:VE,shallowReadonly:KI,shallowRef:GE,ssrContextKey:Zw,ssrUtils:QO,stop:II,toDisplayString:q,toHandlerKey:Wl,toHandlers:zR,toRaw:ue,toRef:sR,toRefs:uw,toValue:JI,transformVNodeArgs:kO,triggerRef:qI,unref:Cr,useAttrs:eO,useCssModule:_M,useCssVars:hM,useHost:PT,useId:AR,useModel:wO,useSSRContext:tT,useShadowRoot:xM,useSlots:tO,useTemplateRef:wR,useTransitionState:WE,vModelCheckbox:iS,vModelDynamic:NT,vModelRadio:rS,vModelSelect:wd,vModelText:ae,vShow:wr,version:yT,warn:WO,watch:xr,watchEffect:EO,watchPostEffect:SO,watchSyncEffect:eT,withAsyncContext:rO,withCtx:gn,withDefaults:ZR,withDirectives:Gt,withKeys:Jg,withMemo:XO,withModifiers:Rt,withScopeId:bR},Symbol.toStringTag,{value:"Module"}));function VT(s,t){return function(){return s.apply(t,arguments)}}const{toString:VM}=Object.prototype,{getPrototypeOf:oS}=Object,rv=(s=>t=>{const e=VM.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ji=s=>(s=s.toLowerCase(),t=>rv(t)===s),ov=s=>t=>typeof t===s,{isArray:dh}=Array,Td=ov("undefined");function $M(s){return s!==null&&!Td(s)&&s.constructor!==null&&!Td(s.constructor)&&ei(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const $T=Ji("ArrayBuffer");function GM(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&$T(s.buffer),t}const zM=ov("string"),ei=ov("function"),GT=ov("number"),av=s=>s!==null&&typeof s=="object",XM=s=>s===!0||s===!1,qp=s=>{if(rv(s)!=="object")return!1;const t=oS(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},WM=Ji("Date"),KM=Ji("File"),YM=Ji("Blob"),qM=Ji("FileList"),JM=s=>av(s)&&ei(s.pipe),QM=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||ei(s.append)&&((t=rv(s))==="formdata"||t==="object"&&ei(s.toString)&&s.toString()==="[object FormData]"))},ZM=Ji("URLSearchParams"),[tN,eN,sN,nN]=["ReadableStream","Request","Response","Headers"].map(Ji),iN=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lp(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),dh(s))for(n=0,i=s.length;n<i;n++)t.call(null,s[n],n,s);else{const r=e?Object.getOwnPropertyNames(s):Object.keys(s),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,s[a],a,s)}}function zT(s,t){t=t.toLowerCase();const e=Object.keys(s);let n=e.length,i;for(;n-- >0;)if(i=e[n],t===i.toLowerCase())return i;return null}const Xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XT=s=>!Td(s)&&s!==Xa;function qb(){const{caseless:s}=XT(this)&&this||{},t={},e=(n,i)=>{const r=s&&zT(t,i)||i;qp(t[r])&&qp(n)?t[r]=qb(t[r],n):qp(n)?t[r]=qb({},n):dh(n)?t[r]=n.slice():t[r]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&lp(arguments[n],e);return t}const rN=(s,t,e,{allOwnKeys:n}={})=>(lp(t,(i,r)=>{e&&ei(i)?s[r]=VT(i,e):s[r]=i},{allOwnKeys:n}),s),oN=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),aN=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},lN=(s,t,e,n)=>{let i,r,o;const a={};if(t=t||{},s==null)return t;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)o=i[r],(!n||n(o,s,t))&&!a[o]&&(t[o]=s[o],a[o]=!0);s=e!==!1&&oS(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},cN=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},uN=s=>{if(!s)return null;if(dh(s))return s;let t=s.length;if(!GT(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},hN=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&oS(Uint8Array)),dN=(s,t)=>{const n=(s&&s[Symbol.iterator]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;t.call(s,r[0],r[1])}},fN=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},pN=Ji("HTMLFormElement"),gN=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,i){return n.toUpperCase()+i}),qA=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),mN=Ji("RegExp"),WT=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};lp(e,(i,r)=>{let o;(o=t(i,r,s))!==!1&&(n[r]=o||i)}),Object.defineProperties(s,n)},vN=s=>{WT(s,(t,e)=>{if(ei(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(ei(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},bN=(s,t)=>{const e={},n=i=>{i.forEach(r=>{e[r]=!0})};return dh(s)?n(s):n(String(s).split(t)),e},yN=()=>{},EN=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t,sb="abcdefghijklmnopqrstuvwxyz",JA="0123456789",KT={DIGIT:JA,ALPHA:sb,ALPHA_DIGIT:sb+sb.toUpperCase()+JA},SN=(s=16,t=KT.ALPHA_DIGIT)=>{let e="";const{length:n}=t;for(;s--;)e+=t[Math.random()*n|0];return e};function AN(s){return!!(s&&ei(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const wN=s=>{const t=new Array(10),e=(n,i)=>{if(av(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const r=dh(n)?[]:{};return lp(n,(o,a)=>{const l=e(o,i+1);!Td(l)&&(r[a]=l)}),t[i]=void 0,r}}return n};return e(s,0)},TN=Ji("AsyncFunction"),CN=s=>s&&(av(s)||ei(s))&&ei(s.then)&&ei(s.catch),YT=((s,t)=>s?setImmediate:t?((e,n)=>(Xa.addEventListener("message",({source:i,data:r})=>{i===Xa&&r===e&&n.length&&n.shift()()},!1),i=>{n.push(i),Xa.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ei(Xa.postMessage)),xN=typeof queueMicrotask<"u"?queueMicrotask.bind(Xa):typeof process<"u"&&process.nextTick||YT,K={isArray:dh,isArrayBuffer:$T,isBuffer:$M,isFormData:QM,isArrayBufferView:GM,isString:zM,isNumber:GT,isBoolean:XM,isObject:av,isPlainObject:qp,isReadableStream:tN,isRequest:eN,isResponse:sN,isHeaders:nN,isUndefined:Td,isDate:WM,isFile:KM,isBlob:YM,isRegExp:mN,isFunction:ei,isStream:JM,isURLSearchParams:ZM,isTypedArray:hN,isFileList:qM,forEach:lp,merge:qb,extend:rN,trim:iN,stripBOM:oN,inherits:aN,toFlatObject:lN,kindOf:rv,kindOfTest:Ji,endsWith:cN,toArray:uN,forEachEntry:dN,matchAll:fN,isHTMLForm:pN,hasOwnProperty:qA,hasOwnProp:qA,reduceDescriptors:WT,freezeMethods:vN,toObjectSet:bN,toCamelCase:gN,noop:yN,toFiniteNumber:EN,findKey:zT,global:Xa,isContextDefined:XT,ALPHABET:KT,generateString:SN,isSpecCompliantForm:AN,toJSONObject:wN,isAsyncFn:TN,isThenable:CN,setImmediate:YT,asap:xN};function Kt(s,t,e,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}K.inherits(Kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const qT=Kt.prototype,JT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{JT[s]={value:s}});Object.defineProperties(Kt,JT);Object.defineProperty(qT,"isAxiosError",{value:!0});Kt.from=(s,t,e,n,i,r)=>{const o=Object.create(qT);return K.toFlatObject(s,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Kt.call(o,s.message,t,e,n,i),o.cause=s,o.name=s.name,r&&Object.assign(o,r),o};const _N=null;function Jb(s){return K.isPlainObject(s)||K.isArray(s)}function QT(s){return K.endsWith(s,"[]")?s.slice(0,-2):s}function QA(s,t,e){return s?s.concat(t).map(function(i,r){return i=QT(i),!e&&r?"["+i+"]":i}).join(e?".":""):t}function PN(s){return K.isArray(s)&&!s.some(Jb)}const IN=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function lv(s,t,e){if(!K.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=K.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!K.isUndefined(v[m])});const n=e.metaTokens,i=e.visitor||u,r=e.dots,o=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(K.isDate(g))return g.toISOString();if(!l&&K.isBlob(g))throw new Kt("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(g)||K.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,v){let b=g;if(g&&!v&&typeof g=="object"){if(K.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(K.isArray(g)&&PN(g)||(K.isFileList(g)||K.endsWith(m,"[]"))&&(b=K.toArray(g)))return m=QT(m),b.forEach(function(E,A){!(K.isUndefined(E)||E===null)&&t.append(o===!0?QA([m],A,r):o===null?m:m+"[]",c(E))}),!1}return Jb(g)?!0:(t.append(QA(v,m,r),c(g)),!1)}const d=[],f=Object.assign(IN,{defaultVisitor:u,convertValue:c,isVisitable:Jb});function p(g,m){if(!K.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),K.forEach(g,function(b,S){(!(K.isUndefined(b)||b===null)&&i.call(t,b,K.isString(S)?S.trim():S,m,f))===!0&&p(b,m?m.concat(S):[S])}),d.pop()}}if(!K.isObject(s))throw new TypeError("data must be an object");return p(s),t}function ZA(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function aS(s,t){this._pairs=[],s&&lv(s,this,t)}const ZT=aS.prototype;ZT.append=function(t,e){this._pairs.push([t,e])};ZT.toString=function(t){const e=t?function(n){return t.call(this,n,ZA)}:ZA;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function RN(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tC(s,t,e){if(!t)return s;const n=e&&e.encode||RN;K.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let r;if(i?r=i(t,e):r=K.isURLSearchParams(t)?t.toString():new aS(t,e).toString(n),r){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class t0{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(n){n!==null&&t(n)})}}const eC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ON=typeof URLSearchParams<"u"?URLSearchParams:aS,MN=typeof FormData<"u"?FormData:null,NN=typeof Blob<"u"?Blob:null,DN={isBrowser:!0,classes:{URLSearchParams:ON,FormData:MN,Blob:NN},protocols:["http","https","file","blob","url","data"]},lS=typeof window<"u"&&typeof document<"u",Qb=typeof navigator=="object"&&navigator||void 0,LN=lS&&(!Qb||["ReactNative","NativeScript","NS"].indexOf(Qb.product)<0),kN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FN=lS&&window.location.href||"http://localhost",UN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lS,hasStandardBrowserEnv:LN,hasStandardBrowserWebWorkerEnv:kN,navigator:Qb,origin:FN},Symbol.toStringTag,{value:"Module"})),tn={...UN,...DN};function BN(s,t){return lv(s,new tn.classes.URLSearchParams,Object.assign({visitor:function(e,n,i,r){return tn.isNode&&K.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function jN(s){return K.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function HN(s){const t={},e=Object.keys(s);let n;const i=e.length;let r;for(n=0;n<i;n++)r=e[n],t[r]=s[r];return t}function sC(s){function t(e,n,i,r){let o=e[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=e.length;return o=!o&&K.isArray(i)?i.length:o,l?(K.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!K.isObject(i[o]))&&(i[o]=[]),t(e,n,i[o],r)&&K.isArray(i[o])&&(i[o]=HN(i[o])),!a)}if(K.isFormData(s)&&K.isFunction(s.entries)){const e={};return K.forEachEntry(s,(n,i)=>{t(jN(n),i,e,0)}),e}return null}function VN(s,t,e){if(K.isString(s))try{return(t||JSON.parse)(s),K.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(s)}const cp={transitional:eC,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=K.isObject(t);if(r&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return i?JSON.stringify(sC(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return BN(t,this.formSerializer).toString();if((a=K.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return lv(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),VN(t)):t}],transformResponse:[function(t){const e=this.transitional||cp.transitional,n=e&&e.forcedJSONParsing,i=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(n&&!this.responseType||i)){const o=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Kt.from(a,Kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],s=>{cp.headers[s]={}});const $N=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GN=s=>{const t={};let e,n,i;return s&&s.split(`
`).forEach(function(o){i=o.indexOf(":"),e=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!e||t[e]&&$N[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},e0=Symbol("internals");function yh(s){return s&&String(s).trim().toLowerCase()}function Jp(s){return s===!1||s==null?s:K.isArray(s)?s.map(Jp):String(s)}function zN(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const XN=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function nb(s,t,e,n,i){if(K.isFunction(n))return n.call(this,t,e);if(i&&(t=e),!!K.isString(t)){if(K.isString(n))return t.indexOf(n)!==-1;if(K.isRegExp(n))return n.test(t)}}function WN(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function KN(s,t){const e=K.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(i,r,o){return this[n].call(this,t,i,r,o)},configurable:!0})})}class Fn{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(a,l,c){const u=yh(l);if(!u)throw new Error("header name must be a non-empty string");const d=K.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Jp(a))}const o=(a,l)=>K.forEach(a,(c,u)=>r(c,u,l));if(K.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(K.isString(t)&&(t=t.trim())&&!XN(t))o(GN(t),e);else if(K.isHeaders(t))for(const[a,l]of t.entries())r(l,a,n);else t!=null&&r(e,t,n);return this}get(t,e){if(t=yh(t),t){const n=K.findKey(this,t);if(n){const i=this[n];if(!e)return i;if(e===!0)return zN(i);if(K.isFunction(e))return e.call(this,i,n);if(K.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=yh(t),t){const n=K.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||nb(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let i=!1;function r(o){if(o=yh(o),o){const a=K.findKey(n,o);a&&(!e||nb(n,n[a],a,e))&&(delete n[a],i=!0)}}return K.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];(!t||nb(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return K.forEach(this,(i,r)=>{const o=K.findKey(n,r);if(o){e[o]=Jp(i),delete e[r];return}const a=t?WN(r):String(r).trim();a!==r&&delete e[r],e[a]=Jp(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return K.forEach(this,(n,i)=>{n!=null&&n!==!1&&(e[i]=t&&K.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[e0]=this[e0]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=yh(o);n[a]||(KN(i,o),n[a]=!0)}return K.isArray(t)?t.forEach(r):r(t),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Fn.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});K.freezeMethods(Fn);function ib(s,t){const e=this||cp,n=t||e,i=Fn.from(n.headers);let r=n.data;return K.forEach(s,function(a){r=a.call(e,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function nC(s){return!!(s&&s.__CANCEL__)}function fh(s,t,e){Kt.call(this,s??"canceled",Kt.ERR_CANCELED,t,e),this.name="CanceledError"}K.inherits(fh,Kt,{__CANCEL__:!0});function iC(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new Kt("Request failed with status code "+e.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function YN(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function qN(s,t){s=s||10;const e=new Array(s),n=new Array(s);let i=0,r=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[r];o||(o=c),e[i]=l,n[i]=c;let d=r,f=0;for(;d!==i;)f+=e[d++],d=d%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),c-o<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function JN(s,t){let e=0,n=1e3/t,i,r;const o=(c,u=Date.now())=>{e=u,i=null,r&&(clearTimeout(r),r=null),s.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-e;d>=n?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},n-d)))},()=>i&&o(i)]}const Zg=(s,t,e=3)=>{let n=0;const i=qN(50,250);return JN(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-n,c=i(l),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[t?"download":"upload"]:!0};s(d)},e)},s0=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},n0=s=>(...t)=>K.asap(()=>s(...t)),QN=tn.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,tn.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,ZN=tn.hasStandardBrowserEnv?{write(s,t,e,n,i,r){const o=[s+"="+encodeURIComponent(t)];K.isNumber(e)&&o.push("expires="+new Date(e).toGMTString()),K.isString(n)&&o.push("path="+n),K.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tD(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function eD(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function rC(s,t){return s&&!tD(t)?eD(s,t):t}const i0=s=>s instanceof Fn?{...s}:s;function ic(s,t){t=t||{};const e={};function n(c,u,d,f){return K.isPlainObject(c)&&K.isPlainObject(u)?K.merge.call({caseless:f},c,u):K.isPlainObject(u)?K.merge({},u):K.isArray(u)?u.slice():u}function i(c,u,d,f){if(K.isUndefined(u)){if(!K.isUndefined(c))return n(void 0,c,d,f)}else return n(c,u,d,f)}function r(c,u){if(!K.isUndefined(u))return n(void 0,u)}function o(c,u){if(K.isUndefined(u)){if(!K.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,d){if(d in t)return n(c,u);if(d in s)return n(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(i0(c),i0(u),d,!0)};return K.forEach(Object.keys(Object.assign({},s,t)),function(u){const d=l[u]||i,f=d(s[u],t[u],u);K.isUndefined(f)&&d!==a||(e[u]=f)}),e}const oC=s=>{const t=ic({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=t;t.headers=o=Fn.from(o),t.url=tC(rC(t.baseURL,t.url),s.params,s.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(K.isFormData(e)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(tn.hasStandardBrowserEnv&&(n&&K.isFunction(n)&&(n=n(t)),n||n!==!1&&QN(t.url))){const c=i&&r&&ZN.read(r);c&&o.set(i,c)}return t},sD=typeof XMLHttpRequest<"u",nD=sD&&function(s){return new Promise(function(e,n){const i=oC(s);let r=i.data;const o=Fn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,f,p,g;function m(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function b(){if(!v)return;const E=Fn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:E,config:s,request:v};iC(function(R){e(R),m()},function(R){n(R),m()},T),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new Kt("Request aborted",Kt.ECONNABORTED,s,v)),v=null)},v.onerror=function(){n(new Kt("Network Error",Kt.ERR_NETWORK,s,v)),v=null},v.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||eC;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),n(new Kt(A,T.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,s,v)),v=null},r===void 0&&o.setContentType(null),"setRequestHeader"in v&&K.forEach(o.toJSON(),function(A,T){v.setRequestHeader(T,A)}),K.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([f,g]=Zg(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,p]=Zg(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=E=>{v&&(n(!E||E.type?new fh(null,s,v):E),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const S=YN(i.url);if(S&&tn.protocols.indexOf(S)===-1){n(new Kt("Unsupported protocol "+S+":",Kt.ERR_BAD_REQUEST,s));return}v.send(r||null)})},iD=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Kt?u:new fh(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,r(new Kt(`timeout ${t} of ms exceeded`,Kt.ETIMEDOUT))},t);const a=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),s=null)};s.forEach(c=>c.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>K.asap(a),l}},rD=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,i;for(;n<e;)i=n+t,yield s.slice(n,i),n=i},oD=async function*(s,t){for await(const e of aD(s))yield*rD(e,t)},aD=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},r0=(s,t,e,n)=>{const i=oD(s,t);let r=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(e){let f=r+=d;e(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},cv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",aC=cv&&typeof ReadableStream=="function",lD=cv&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),lC=(s,...t)=>{try{return!!s(...t)}catch{return!1}},cD=aC&&lC(()=>{let s=!1;const t=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),o0=64*1024,Zb=aC&&lC(()=>K.isReadableStream(new Response("").body)),tm={stream:Zb&&(s=>s.body)};cv&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!tm[t]&&(tm[t]=K.isFunction(s[t])?e=>e[t]():(e,n)=>{throw new Kt(`Response type '${t}' is not supported`,Kt.ERR_NOT_SUPPORT,n)})})})(new Response);const uD=async s=>{if(s==null)return 0;if(K.isBlob(s))return s.size;if(K.isSpecCompliantForm(s))return(await new Request(tn.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(K.isArrayBufferView(s)||K.isArrayBuffer(s))return s.byteLength;if(K.isURLSearchParams(s)&&(s=s+""),K.isString(s))return(await lD(s)).byteLength},hD=async(s,t)=>{const e=K.toFiniteNumber(s.getContentLength());return e??uD(t)},dD=cv&&(async s=>{let{url:t,method:e,data:n,signal:i,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=oC(s);c=c?(c+"").toLowerCase():"text";let p=iD([i,r&&r.toAbortSignal()],o),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&cD&&e!=="get"&&e!=="head"&&(v=await hD(u,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),P;if(K.isFormData(n)&&(P=T.headers.get("content-type"))&&u.setContentType(P),T.body){const[R,O]=s0(v,Zg(n0(l)));n=r0(T.body,o0,R,O)}}K.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;g=new Request(t,{...f,signal:p,method:e.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:b?d:void 0});let S=await fetch(g);const E=Zb&&(c==="stream"||c==="response");if(Zb&&(a||E&&m)){const T={};["status","statusText","headers"].forEach(_=>{T[_]=S[_]});const P=K.toFiniteNumber(S.headers.get("content-length")),[R,O]=a&&s0(P,Zg(n0(a),!0))||[];S=new Response(r0(S.body,o0,R,()=>{O&&O(),m&&m()}),T)}c=c||"text";let A=await tm[K.findKey(tm,c)||"text"](S,s);return!E&&m&&m(),await new Promise((T,P)=>{iC(T,P,{data:A,headers:Fn.from(S.headers),status:S.status,statusText:S.statusText,config:s,request:g})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Kt("Network Error",Kt.ERR_NETWORK,s,g),{cause:b.cause||b}):Kt.from(b,b&&b.code,s,g)}}),ty={http:_N,xhr:nD,fetch:dD};K.forEach(ty,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const a0=s=>`- ${s}`,fD=s=>K.isFunction(s)||s===null||s===!1,cC={getAdapter:s=>{s=K.isArray(s)?s:[s];const{length:t}=s;let e,n;const i={};for(let r=0;r<t;r++){e=s[r];let o;if(n=e,!fD(e)&&(n=ty[(o=String(e)).toLowerCase()],n===void 0))throw new Kt(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+r]=n}if(!n){const r=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?r.length>1?`since :
`+r.map(a0).join(`
`):" "+a0(r[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ty};function rb(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new fh(null,s)}function l0(s){return rb(s),s.headers=Fn.from(s.headers),s.data=ib.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),cC.getAdapter(s.adapter||cp.adapter)(s).then(function(n){return rb(s),n.data=ib.call(s,s.transformResponse,n),n.headers=Fn.from(n.headers),n},function(n){return nC(n)||(rb(s),n&&n.response&&(n.response.data=ib.call(s,s.transformResponse,n.response),n.response.headers=Fn.from(n.response.headers))),Promise.reject(n)})}const uC="1.7.9",uv={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{uv[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const c0={};uv.transitional=function(t,e,n){function i(r,o){return"[Axios v"+uC+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,a)=>{if(t===!1)throw new Kt(i(o," has been removed"+(e?" in "+e:"")),Kt.ERR_DEPRECATED);return e&&!c0[o]&&(c0[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,o,a):!0}};uv.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pD(s,t,e){if(typeof s!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],o=t[r];if(o){const a=s[r],l=a===void 0||o(a,r,s);if(l!==!0)throw new Kt("option "+r+" must be "+l,Kt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Kt("Unknown option "+r,Kt.ERR_BAD_OPTION)}}const Qp={assertOptions:pD,validators:uv},Qi=Qp.validators;class Ql{constructor(t){this.defaults=t,this.interceptors={request:new t0,response:new t0}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ic(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;n!==void 0&&Qp.assertOptions(n,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),i!=null&&(K.isFunction(i)?e.paramsSerializer={serialize:i}:Qp.assertOptions(i,{encode:Qi.function,serialize:Qi.function},!0)),Qp.assertOptions(e,{baseUrl:Qi.spelling("baseURL"),withXsrfToken:Qi.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&K.merge(r.common,r[e.method]);r&&K.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),e.headers=Fn.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(e)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const g=[l0.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(e);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=e;for(d=0;d<f;){const g=a[d++],m=a[d++];try{p=g(p)}catch(v){m.call(this,v);break}}try{u=l0.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=ic(this.defaults,t);const e=rC(t.baseURL,t.url);return tC(e,t.params,t.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(t){Ql.prototype[t]=function(e,n){return this.request(ic(n||{},{method:t,url:e,data:(n||{}).data}))}});K.forEach(["post","put","patch"],function(t){function e(n){return function(r,o,a){return this.request(ic(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ql.prototype[t]=e(),Ql.prototype[t+"Form"]=e(!0)});class cS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{n.subscribe(a),r=a}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r,o,a){n.reason||(n.reason=new fh(r,o,a),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new cS(function(i){t=i}),cancel:t}}}function gD(s){return function(e){return s.apply(null,e)}}function mD(s){return K.isObject(s)&&s.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([s,t])=>{ey[t]=s});function hC(s){const t=new Ql(s),e=VT(Ql.prototype.request,t);return K.extend(e,Ql.prototype,t,{allOwnKeys:!0}),K.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return hC(ic(s,i))},e}const Ye=hC(cp);Ye.Axios=Ql;Ye.CanceledError=fh;Ye.CancelToken=cS;Ye.isCancel=nC;Ye.VERSION=uC;Ye.toFormData=lv;Ye.AxiosError=Kt;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=gD;Ye.isAxiosError=mD;Ye.mergeConfig=ic;Ye.AxiosHeaders=Fn;Ye.formToJSON=s=>sC(K.isHTMLForm(s)?new FormData(s):s);Ye.getAdapter=cC.getAdapter;Ye.HttpStatusCode=ey;Ye.default=Ye;const uS="http://localhost:8000/",vD=`${uS}/token/`,bD=async(s,t)=>{try{const e=await Ye.post(vD,{username:s,password:t}),{access:n,refresh:i,userId:r,is_staff:o}=e.data;return localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",i),localStorage.setItem("userId",r),localStorage.setItem("isStaff",o),{access:n,refresh:i,userId:r}}catch(e){if(e.response&&e.response.data&&(e.response.data.error==="not_activated"||e.response.data.detail==="Usurio no ativado"))return{error:"not_activated"};throw new Error("Login falhou. Verifique suas credenciais.")}},yD=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},ED=async s=>{try{const t=await Ye.post(`${uS}resend-activation/`,{username:s});return t.data&&t.data.detail==="Usurio j est ativado."?{alreadyActivated:!0}:{success:!0}}catch{throw new Error("Erro ao reenviar o link de ativao.")}},SD=async(s,t,e)=>{try{const n=localStorage.getItem("access_token");return(await Ye.post(`${uS}change-password/`,{username:s,current_password:t,new_password:e},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){let i="Erro ao alterar senha. Tente novamente.";n.response&&n.response.data&&n.response.data.detail?i=n.response.data.detail:n.response&&n.response.data&&n.response.data.error&&(i=n.response.data.error);const r=new Error(i);throw r.response=n.response,r}};/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let dC;const hv=s=>dC=s,fC=Symbol();function sy(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var sd;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(sd||(sd={}));function AD(){const s=FE(!0),t=s.run(()=>bi({}));let e=[],n=[];const i=Km({install(r){hv(i),i._a=r,r.provide(fC,i),r.config.globalProperties.$pinia=i,n.forEach(o=>e.push(o)),n=[]},use(r){return this._a?e.push(r):n.push(r),this},_p:e,_a:null,_e:s,_s:new Map,state:t});return i}const pC=()=>{};function u0(s,t,e,n=pC){s.push(t);const i=()=>{const r=s.indexOf(t);r>-1&&(s.splice(r,1),n())};return!e&&UE()&&X1(i),i}function Ec(s,...t){s.slice().forEach(e=>{e(...t)})}const wD=s=>s(),h0=Symbol(),ob=Symbol();function ny(s,t){s instanceof Map&&t instanceof Map?t.forEach((e,n)=>s.set(n,e)):s instanceof Set&&t instanceof Set&&t.forEach(s.add,s);for(const e in t){if(!t.hasOwnProperty(e))continue;const n=t[e],i=s[e];sy(i)&&sy(n)&&s.hasOwnProperty(e)&&!Ke(n)&&!Tr(n)?s[e]=ny(i,n):s[e]=n}return s}const TD=Symbol();function CD(s){return!sy(s)||!Object.prototype.hasOwnProperty.call(s,TD)}const{assign:No}=Object;function xD(s){return!!(Ke(s)&&s.effect)}function _D(s,t,e,n){const{state:i,actions:r,getters:o}=t,a=e.state.value[s];let l;function c(){a||(e.state.value[s]=i?i():{});const u=uw(e.state.value[s]);return No(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=Km(Ln(()=>{hv(e);const p=e._s.get(s);return o[f].call(p,p)})),d),{}))}return l=gC(s,c,t,e,n,!0),l}function gC(s,t,e={},n,i,r){let o;const a=No({actions:{}},e),l={deep:!0};let c,u,d=[],f=[],p;const g=n.state.value[s];!r&&!g&&(n.state.value[s]={}),bi({});let m;function v(O){let _;c=u=!1,typeof O=="function"?(O(n.state.value[s]),_={type:sd.patchFunction,storeId:s,events:p}):(ny(n.state.value[s],O),_={type:sd.patchObject,payload:O,storeId:s,events:p});const N=m=Symbol();gc().then(()=>{m===N&&(c=!0)}),u=!0,Ec(d,_,n.state.value[s])}const b=r?function(){const{state:_}=e,N=_?_():{};this.$patch(L=>{No(L,N)})}:pC;function S(){o.stop(),d=[],f=[],n._s.delete(s)}const E=(O,_="")=>{if(h0 in O)return O[ob]=_,O;const N=function(){hv(n);const L=Array.from(arguments),F=[],U=[];function V(H){F.push(H)}function J(H){U.push(H)}Ec(f,{args:L,name:N[ob],store:T,after:V,onError:J});let j;try{j=O.apply(this&&this.$id===s?this:T,L)}catch(H){throw Ec(U,H),H}return j instanceof Promise?j.then(H=>(Ec(F,H),H)).catch(H=>(Ec(U,H),Promise.reject(H))):(Ec(F,j),j)};return N[h0]=!0,N[ob]=_,N},A={_p:n,$id:s,$onAction:u0.bind(null,f),$patch:v,$reset:b,$subscribe(O,_={}){const N=u0(d,O,_.detached,()=>L()),L=o.run(()=>xr(()=>n.state.value[s],F=>{(_.flush==="sync"?u:c)&&O({storeId:s,type:sd.direct,events:p},F)},No({},l,_)));return N},$dispose:S},T=ch(A);n._s.set(s,T);const R=(n._a&&n._a.runWithContext||wD)(()=>n._e.run(()=>(o=FE()).run(()=>t({action:E}))));for(const O in R){const _=R[O];if(Ke(_)&&!xD(_)||Tr(_))r||(g&&CD(_)&&(Ke(_)?_.value=g[O]:ny(_,g[O])),n.state.value[s][O]=_);else if(typeof _=="function"){const N=E(_,O);R[O]=N,a.actions[O]=_}}return No(T,R),No(ue(T),R),Object.defineProperty(T,"$state",{get:()=>n.state.value[s],set:O=>{v(_=>{No(_,O)})}}),n._p.forEach(O=>{No(T,o.run(()=>O({store:T,app:n._a,pinia:n,options:a})))}),g&&r&&e.hydrate&&e.hydrate(T.$state,g),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function PD(s,t,e){let n;const i=typeof t=="function";n=i?e:t;function r(o,a){const l=Uw();return o=o||(l?Ki(fC,null):null),o&&hv(o),o=dC,o._s.has(s)||(i?gC(s,t,n,o):_D(s,n,o)),o._s.get(s)}return r.$id=s,r}const mC=PD("auth",{state:()=>({isAuthenticated:!!localStorage.getItem("access_token"),username:localStorage.getItem("username")||""}),actions:{login(s){this.isAuthenticated=!0,this.username=s},logout(){this.isAuthenticated=!1,this.username=""},syncFromStorage(){this.isAuthenticated=!!localStorage.getItem("access_token"),this.username=localStorage.getItem("username")||""}}}),Is=(s,t)=>{const e=s.__vccOpts||s;for(const[n,i]of t)e[n]=i;return e},ID={props:["username"],data(){return{currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,error:"",success:""}},methods:{async handleSubmit(){var s,t,e,n;if(this.error="",this.success="",!this.currentPassword||!this.newPassword||!this.confirmPassword){this.error="Todos os campos so obrigatrios.";return}if(this.newPassword.length<6){this.error="A nova senha deve ter pelo menos 6 caracteres.";return}if(this.currentPassword===this.newPassword){this.error="A nova senha deve ser diferente da senha atual.";return}if(this.newPassword!==this.confirmPassword){this.error="A confirmao de senha no confere.";return}this.loading=!0;try{await SD(this.username,this.currentPassword,this.newPassword),this.success="Senha alterada com sucesso!",this.currentPassword=this.newPassword=this.confirmPassword="",setTimeout(()=>{this.$emit("close")},1500)}catch(i){this.error=((t=(s=i==null?void 0:i.response)==null?void 0:s.data)==null?void 0:t.error)||((n=(e=i==null?void 0:i.response)==null?void 0:e.data)==null?void 0:n.detail)||"Erro ao alterar senha. Tente novamente."}finally{this.loading=!1}},closeOnBackground(s){s.target===this.$refs.modalBg&&this.$emit("close")}}},RD={class:"modal-content"},OD=["disabled"],MD=["disabled"],ND=["disabled"],DD={key:0,class:"modal-message error"},LD={key:1,class:"modal-message success"},kD={class:"modal-actions"},FD=["disabled"],UD=["disabled"];function BD(s,t,e,n,i,r){return D(),k("div",{class:"modal-bg",ref:"modalBg",onClick:t[5]||(t[5]=(...o)=>r.closeOnBackground&&r.closeOnBackground(...o))},[y("div",RD,[t[6]||(t[6]=y("h3",null,"Alterar senha",-1)),y("form",{onSubmit:t[4]||(t[4]=Rt((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"]))},[Gt(y("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.currentPassword=o),type:"password",autocomplete:"current-password",placeholder:"Senha atual",disabled:i.loading},null,8,OD),[[ae,i.currentPassword]]),Gt(y("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.newPassword=o),type:"password",autocomplete:"new-password",placeholder:"Nova senha",disabled:i.loading},null,8,MD),[[ae,i.newPassword]]),Gt(y("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.confirmPassword=o),type:"password",autocomplete:"new-password",placeholder:"Confirme a nova senha",disabled:i.loading},null,8,ND),[[ae,i.confirmPassword]]),i.error?(D(),k("div",DD,q(i.error),1)):ot("",!0),i.success?(D(),k("div",LD,q(i.success),1)):ot("",!0),y("div",kD,[y("button",{type:"submit",disabled:i.loading},"Alterar senha",8,FD),y("button",{type:"button",class:"cancel-btn",onClick:t[3]||(t[3]=o=>s.$emit("close")),disabled:i.loading},"Cancelar",8,UD)])],32)])],512)}const jD=Is(ID,[["render",BD],["__scopeId","data-v-9d58a243"]]),HD="/static/vue/assets/logo-BWgfTE4n.png",VD={components:{ChangePasswordModal:jD},data(){return{loginUsername:"",password:"",loginLoading:!1,showActivationError:!1,activationEmailLoading:!1,activationMessage:"",activationError:"",loginError:"",messageTimers:{},showChangePasswordModal:!1}},computed:{authStore(){return mC()},username:{get(){return this.authStore.username},set(s){}},isAuthenticated(){return this.authStore.isAuthenticated}},methods:{clearMessage(s){this.messageTimers[s]&&(clearTimeout(this.messageTimers[s]),this.messageTimers[s]=null),this[s]=typeof this[s]=="boolean"?!1:""},showMessage(s,t,e=4e3){this.clearMessage(s),this[s]=t,e>0&&(this.messageTimers[s]=setTimeout(()=>{this.clearMessage(s)},e))},async handleLogin(){if(!this.loginLoading){this.loginLoading=!0,this.clearMessage("loginError"),this.clearMessage("activationMessage"),this.clearMessage("activationError"),this.clearMessage("showActivationError");try{const s=await bD(this.loginUsername,this.password);s&&s.userId?(this.authStore.login(this.loginUsername),localStorage.setItem("userId",s.userId),localStorage.setItem("username",this.loginUsername),this.loginUsername="",this.password="",this.$router.push({name:"Home"})):s&&s.error==="not_activated"?this.showMessage("showActivationError",!0):(this.showMessage("showActivationError",!0),this.showMessage("loginError","Erro no login. Verifique suas credenciais ou se o usurio est ativado."))}catch(s){s&&s.response&&s.response.data&&s.response.data.error==="not_activated"?this.showMessage("showActivationError",!0):(this.showMessage("showActivationError",!0),this.showMessage("loginError","Erro no login. Verifique suas credenciais ou se o usurio est ativado."))}finally{this.loginLoading=!1}}},async resendActivation(){if(!this.loginUsername){this.showMessage("activationError","Informe o usurio para reenviar o link.");return}this.activationEmailLoading=!0,this.clearMessage("activationMessage"),this.clearMessage("activationError");try{(await ED(this.loginUsername)).alreadyActivated?this.showMessage("activationMessage","Sua conta j est ativada! Voc pode fazer login normalmente."):this.showMessage("activationMessage","Link de ativao reenviado! Por favor, verifique seu email (inclusive a caixa de SPAM).")}catch{this.showMessage("activationError","Erro ao reenviar o link de ativao. Tente novamente mais tarde.")}finally{this.activationEmailLoading=!1}},handleLogout(){yD(),this.authStore.logout(),this.password="",this.loginUsername="",localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userId"),localStorage.removeItem("isStaff"),localStorage.removeItem("username"),this.$emit("logout"),this.$router.push({name:"Home"})},goToRegister(){this.loginLoading||this.$router.push({name:"NovoUsuarioUser"})},openChangePasswordModal(){this.showChangePasswordModal=!0},closeChangePasswordModal(){this.showChangePasswordModal=!1}},beforeUnmount(){Object.values(this.messageTimers).forEach(s=>clearTimeout(s))}},$D={class:"header-login"},GD={class:"auth"},zD={key:0,class:"auth-fields"},XD=["disabled"],WD={key:0},KD={key:1},YD=["disabled"],qD={key:1,class:"user-info"},JD={key:0,class:"login-loading-message"},QD={key:1,class:"message-container"},ZD={key:0,class:"custom-error-message"},tL={key:1,class:"activation-error-message"},eL=["disabled"],sL={key:0},nL={key:1},iL={key:2,class:"success-message"},rL={key:3,class:"custom-error-message"};function oL(s,t,e,n,i,r){const o=Us("ChangePasswordModal");return D(),k("header",$D,[t[9]||(t[9]=y("div",{class:"logo"},[y("img",{src:HD,alt:"Logo"})],-1)),y("div",GD,[r.isAuthenticated?(D(),k("div",qD,[y("span",{class:"username clickable",onClick:t[5]||(t[5]=(...a)=>r.openChangePasswordModal&&r.openChangePasswordModal(...a))},q(r.username),1),y("button",{onClick:t[6]||(t[6]=(...a)=>r.handleLogout&&r.handleLogout(...a)),class:"btn-acoes logout-btn"},"Sair")])):(D(),k("div",zD,[Gt(y("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.loginUsername=a),placeholder:"Usurio",type:"text",class:"input-login"},null,512),[[ae,i.loginUsername]]),Gt(y("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.password=a),placeholder:"Senha",type:"password",class:"input-login",onKeyup:t[2]||(t[2]=Jg((...a)=>r.handleLogin&&r.handleLogin(...a),["enter"]))},null,544),[[ae,i.password]]),y("button",{onClick:t[3]||(t[3]=(...a)=>r.handleLogin&&r.handleLogin(...a)),class:"btn-acoes login-btn",disabled:i.loginLoading},[i.loginLoading?(D(),k("span",WD,"Entrando...")):(D(),k("span",KD,"Login"))],8,XD),y("button",{onClick:t[4]||(t[4]=(...a)=>r.goToRegister&&r.goToRegister(...a)),class:"btn-acoes register-btn",disabled:i.loginLoading}," Cadastrar ",8,YD)]))]),i.loginLoading?(D(),k("div",JD," Aguarde, efetuando login... ")):ot("",!0),i.loginError||i.showActivationError||i.activationMessage||i.activationError?(D(),k("div",QD,[i.loginError?(D(),k("div",ZD,q(i.loginError),1)):ot("",!0),i.showActivationError?(D(),k("div",tL,[t[8]||(t[8]=y("p",null,[bt(" Falha no login. Se voc acabou de se cadastrar, verifique se recebeu o link de ativao no seu email."),y("br"),y("b",null,"No esquea de olhar na pasta SPAM.")],-1)),y("button",{class:"btn-acoes resend-btn",disabled:i.activationEmailLoading,onClick:t[7]||(t[7]=(...a)=>r.resendActivation&&r.resendActivation(...a))},[i.activationEmailLoading?(D(),k("span",sL,"Reenviando...")):(D(),k("span",nL,"Reenviar link de ativao"))],8,eL)])):ot("",!0),i.activationMessage?(D(),k("div",iL,q(i.activationMessage),1)):ot("",!0),i.activationError?(D(),k("div",rL,q(i.activationError),1)):ot("",!0)])):ot("",!0),i.showChangePasswordModal?(D(),sc(o,{key:2,username:r.username,onClose:r.closeChangePasswordModal},null,8,["username","onClose"])):ot("",!0)])}const aL=Is(VD,[["render",oL],["__scopeId","data-v-ec5ded11"]]),lL={name:"Sidebar",computed:{authStore(){return mC()},isStaff(){return this.authStore.isAuthenticated&&localStorage.getItem("isStaff")==="true"},isUser(){return this.authStore.isAuthenticated&&localStorage.getItem("userId")}}},cL={class:"sidebar"},uL={key:0,class:"menu-item"},hL={class:"submenu"},dL={class:"submenu"},fL={key:0};function pL(s,t,e,n,i,r){const o=Us("router-link");return D(),k("div",cL,[y("ul",null,[y("li",null,[Ut(o,{to:{name:"Home"}},{default:gn(()=>t[0]||(t[0]=[bt("Home")])),_:1})]),r.isStaff?(D(),k("li",uL,[t[3]||(t[3]=y("b",null,"Admin",-1)),y("ul",hL,[y("li",null,[Ut(o,{to:{name:"ListarProcesso"}},{default:gn(()=>t[1]||(t[1]=[bt("Processos")])),_:1})]),y("li",null,[Ut(o,{to:{name:"ListarUsuarioProcesso"}},{default:gn(()=>t[2]||(t[2]=[bt("Processos dos Usurios")])),_:1})])])])):ot("",!0),y("li",null,[t[6]||(t[6]=y("b",null,"User",-1)),y("ul",dL,[y("li",null,[Ut(o,{to:{name:"Home"}},{default:gn(()=>t[4]||(t[4]=[bt("Processos")])),_:1})]),r.isUser?(D(),k("li",fL,[Ut(o,{to:{name:"ListarUsuarioProcessoUser"}},{default:gn(()=>t[5]||(t[5]=[bt("Meus Processos")])),_:1})])):ot("",!0)])])])])}const gL=Is(lL,[["render",pL]]),mL={components:{Header:aL,SidebarComponent:gL},methods:{handleLogout(){this.$router.push({name:"Home"})}}},vL={class:"layout"},bL={class:"main"},yL={class:"content"};function EL(s,t,e,n,i,r){const o=Us("Header"),a=Us("SidebarComponent"),l=Us("router-view");return D(),k("div",vL,[Ut(o,{onLogout:r.handleLogout},null,8,["onLogout"]),y("div",bL,[Ut(a),y("div",yL,[Ut(l)])])])}const SL=Is(mL,[["render",EL]]),AL={name:"App",components:{Layout:SL}};function wL(s,t,e,n,i,r){const o=Us("Layout");return D(),sc(o)}const TL=Is(AL,[["render",wL]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _c=typeof document<"u";function vC(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function CL(s){return s.__esModule||s[Symbol.toStringTag]==="Module"||s.default&&vC(s.default)}const xe=Object.assign;function ab(s,t){const e={};for(const n in t){const i=t[n];e[n]=Yi(i)?i.map(s):s(i)}return e}const nd=()=>{},Yi=Array.isArray,bC=/#/g,xL=/&/g,_L=/\//g,PL=/=/g,IL=/\?/g,yC=/\+/g,RL=/%5B/g,OL=/%5D/g,EC=/%5E/g,ML=/%60/g,SC=/%7B/g,NL=/%7C/g,AC=/%7D/g,DL=/%20/g;function hS(s){return encodeURI(""+s).replace(NL,"|").replace(RL,"[").replace(OL,"]")}function LL(s){return hS(s).replace(SC,"{").replace(AC,"}").replace(EC,"^")}function iy(s){return hS(s).replace(yC,"%2B").replace(DL,"+").replace(bC,"%23").replace(xL,"%26").replace(ML,"`").replace(SC,"{").replace(AC,"}").replace(EC,"^")}function kL(s){return iy(s).replace(PL,"%3D")}function FL(s){return hS(s).replace(bC,"%23").replace(IL,"%3F")}function UL(s){return s==null?"":FL(s).replace(_L,"%2F")}function Cd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}const BL=/\/$/,jL=s=>s.replace(BL,"");function lb(s,t,e="/"){let n,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=s(r)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=GL(n??t,e),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:Cd(o)}}function HL(s,t){const e=t.query?s(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function d0(s,t){return!t||!s.toLowerCase().startsWith(t.toLowerCase())?s:s.slice(t.length)||"/"}function VL(s,t,e){const n=t.matched.length-1,i=e.matched.length-1;return n>-1&&n===i&&th(t.matched[n],e.matched[i])&&wC(t.params,e.params)&&s(t.query)===s(e.query)&&t.hash===e.hash}function th(s,t){return(s.aliasOf||s)===(t.aliasOf||t)}function wC(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(!$L(s[e],t[e]))return!1;return!0}function $L(s,t){return Yi(s)?f0(s,t):Yi(t)?f0(t,s):s===t}function f0(s,t){return Yi(t)?s.length===t.length&&s.every((e,n)=>e===t[n]):s.length===1&&s[0]===t}function GL(s,t){if(s.startsWith("/"))return s;if(!s)return t;const e=t.split("/"),n=s.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=e.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const Ro={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var xd;(function(s){s.pop="pop",s.push="push"})(xd||(xd={}));var id;(function(s){s.back="back",s.forward="forward",s.unknown=""})(id||(id={}));function zL(s){if(!s)if(_c){const t=document.querySelector("base");s=t&&t.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),jL(s)}const XL=/^[^#]+#/;function WL(s,t){return s.replace(XL,"#")+t}function KL(s,t){const e=document.documentElement.getBoundingClientRect(),n=s.getBoundingClientRect();return{behavior:t.behavior,left:n.left-e.left-(t.left||0),top:n.top-e.top-(t.top||0)}}const dv=()=>({left:window.scrollX,top:window.scrollY});function YL(s){let t;if("el"in s){const e=s.el,n=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?n?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=KL(i,s)}else t=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function p0(s,t){return(history.state?history.state.position-t:-1)+s}const ry=new Map;function qL(s,t){ry.set(s,t)}function JL(s){const t=ry.get(s);return ry.delete(s),t}let QL=()=>location.protocol+"//"+location.host;function TC(s,t){const{pathname:e,search:n,hash:i}=t,r=s.indexOf("#");if(r>-1){let a=i.includes(s.slice(r))?s.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),d0(l,"")}return d0(e,s)+n+i}function ZL(s,t,e,n){let i=[],r=[],o=null;const a=({state:f})=>{const p=TC(s,location),g=e.value,m=t.value;let v=0;if(f){if(e.value=p,t.value=f,o&&o===g){o=null;return}v=m?f.position-m.position:0}else n(p);i.forEach(b=>{b(e.value,g,{delta:v,type:xd.pop,direction:v?v>0?id.forward:id.back:id.unknown})})};function l(){o=e.value}function c(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(xe({},f.state,{scroll:dv()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function g0(s,t,e,n=!1,i=!1){return{back:s,current:t,forward:e,replaced:n,position:window.history.length,scroll:i?dv():null}}function tk(s){const{history:t,location:e}=window,n={value:TC(s,e)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=s.indexOf("#"),f=d>-1?(e.host&&document.querySelector("base")?s:s.slice(d))+l:QL()+s+l;try{t[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),e[u?"replace":"assign"](f)}}function o(l,c){const u=xe({},t.state,g0(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),n.value=l}function a(l,c){const u=xe({},i.value,t.state,{forward:l,scroll:dv()});r(u.current,u,!0);const d=xe({},g0(n.value,l,null),{position:u.position+1},c);r(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function ek(s){s=zL(s);const t=tk(s),e=ZL(s,t.state,t.location,t.replace);function n(r,o=!0){o||e.pauseListeners(),history.go(r)}const i=xe({location:"",base:s,go:n,createHref:WL.bind(null,s)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function sk(s){return typeof s=="string"||s&&typeof s=="object"}function CC(s){return typeof s=="string"||typeof s=="symbol"}const xC=Symbol("");var m0;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(m0||(m0={}));function eh(s,t){return xe(new Error,{type:s,[xC]:!0},t)}function Mr(s,t){return s instanceof Error&&xC in s&&(t==null||!!(s.type&t))}const v0="[^/]+?",nk={sensitive:!1,strict:!1,start:!0,end:!0},ik=/[.+*?^${}()[\]/\\]/g;function rk(s,t){const e=xe({},nk,t),n=[];let i=e.start?"^":"";const r=[];for(const c of s){const u=c.length?[]:[90];e.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(e.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(ik,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:m,optional:v,regexp:b}=f;r.push({name:g,repeatable:m,optional:v});const S=b||v0;if(S!==v0){p+=10;try{new RegExp(`(${S})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${g}" (${S}): `+A.message)}}let E=m?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),i+=E,p+=20,v&&(p+=-8),m&&(p+=-20),S===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(e.strict&&e.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=r[f-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of s){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:v}=p,b=g in c?c[g]:"";if(Yi(b)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const S=Yi(b)?b.join("/"):b;if(!S)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=S}}return u||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function ok(s,t){let e=0;for(;e<s.length&&e<t.length;){const n=t[e]-s[e];if(n)return n;e++}return s.length<t.length?s.length===1&&s[0]===80?-1:1:s.length>t.length?t.length===1&&t[0]===80?1:-1:0}function _C(s,t){let e=0;const n=s.score,i=t.score;for(;e<n.length&&e<i.length;){const r=ok(n[e],i[e]);if(r)return r;e++}if(Math.abs(i.length-n.length)===1){if(b0(n))return 1;if(b0(i))return-1}return i.length-n.length}function b0(s){const t=s[s.length-1];return s.length>0&&t[t.length-1]<0}const ak={type:0,value:""},lk=/[a-zA-Z0-9_]/;function ck(s){if(!s)return[[]];if(s==="/")return[[ak]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,n=e;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(e===0?r.push({type:0,value:c}):e===1||e===2||e===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<s.length;){if(l=s[a++],l==="\\"&&e!==2){n=e,e=4;continue}switch(e){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),e=1):f();break;case 4:f(),e=n;break;case 1:l==="("?e=2:lk.test(l)?f():(d(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:e=3:u+=l;break;case 3:d(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function uk(s,t,e){const n=rk(ck(s.path),e),i=xe(n,{record:s,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function hk(s,t){const e=[],n=new Map;t=A0({strict:!1,end:!0,sensitive:!1},t);function i(d){return n.get(d)}function r(d,f,p){const g=!p,m=E0(d);m.aliasOf=p&&p.record;const v=A0(t,d),b=[m];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of A)b.push(E0(xe({},m,{components:p?p.record.components:m.components,path:T,aliasOf:p?p.record:m})))}let S,E;for(const A of b){const{path:T}=A;if(f&&T[0]!=="/"){const P=f.record.path,R=P[P.length-1]==="/"?"":"/";A.path=f.record.path+(T&&R+T)}if(S=uk(A,f,v),p?p.alias.push(S):(E=E||S,E!==S&&E.alias.push(S),g&&d.name&&!S0(S)&&o(d.name)),PC(S)&&l(S),m.children){const P=m.children;for(let R=0;R<P.length;R++)r(P[R],S,p&&p.children[R])}p=p||S}return E?()=>{o(E)}:nd}function o(d){if(CC(d)){const f=n.get(d);f&&(n.delete(d),e.splice(e.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=e.indexOf(d);f>-1&&(e.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return e}function l(d){const f=pk(d,e);e.splice(f,0,d),d.record.name&&!S0(d)&&n.set(d.record.name,d)}function c(d,f){let p,g={},m,v;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw eh(1,{location:d});v=p.record.name,g=xe(y0(f.params,p.keys.filter(E=>!E.optional).concat(p.parent?p.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),d.params&&y0(d.params,p.keys.map(E=>E.name))),m=p.stringify(g)}else if(d.path!=null)m=d.path,p=e.find(E=>E.re.test(m)),p&&(g=p.parse(m),v=p.record.name);else{if(p=f.name?n.get(f.name):e.find(E=>E.re.test(f.path)),!p)throw eh(1,{location:d,currentLocation:f});v=p.record.name,g=xe({},f.params,d.params),m=p.stringify(g)}const b=[];let S=p;for(;S;)b.unshift(S.record),S=S.parent;return{name:v,path:m,params:g,matched:b,meta:fk(b)}}s.forEach(d=>r(d));function u(){e.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function y0(s,t){const e={};for(const n of t)n in s&&(e[n]=s[n]);return e}function E0(s){const t={path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:s.aliasOf,beforeEnter:s.beforeEnter,props:dk(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function dk(s){const t={},e=s.props||!1;if("component"in s)t.default=e;else for(const n in s.components)t[n]=typeof e=="object"?e[n]:e;return t}function S0(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function fk(s){return s.reduce((t,e)=>xe(t,e.meta),{})}function A0(s,t){const e={};for(const n in s)e[n]=n in t?t[n]:s[n];return e}function pk(s,t){let e=0,n=t.length;for(;e!==n;){const r=e+n>>1;_C(s,t[r])<0?n=r:e=r+1}const i=gk(s);return i&&(n=t.lastIndexOf(i,n-1)),n}function gk(s){let t=s;for(;t=t.parent;)if(PC(t)&&_C(s,t)===0)return t}function PC({record:s}){return!!(s.name||s.components&&Object.keys(s.components).length||s.redirect)}function mk(s){const t={};if(s===""||s==="?")return t;const n=(s[0]==="?"?s.slice(1):s).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(yC," "),o=r.indexOf("="),a=Cd(o<0?r:r.slice(0,o)),l=o<0?null:Cd(r.slice(o+1));if(a in t){let c=t[a];Yi(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function w0(s){let t="";for(let e in s){const n=s[e];if(e=kL(e),n==null){n!==void 0&&(t+=(t.length?"&":"")+e);continue}(Yi(n)?n.map(r=>r&&iy(r)):[n&&iy(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+e,r!=null&&(t+="="+r))})}return t}function vk(s){const t={};for(const e in s){const n=s[e];n!==void 0&&(t[e]=Yi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const bk=Symbol(""),T0=Symbol(""),dS=Symbol(""),IC=Symbol(""),oy=Symbol("");function Eh(){let s=[];function t(n){return s.push(n),()=>{const i=s.indexOf(n);i>-1&&s.splice(i,1)}}function e(){s=[]}return{add:t,list:()=>s.slice(),reset:e}}function Bo(s,t,e,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(eh(4,{from:e,to:t})):f instanceof Error?l(f):sk(f)?l(eh(2,{from:t,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>s.call(n&&n.instances[i],t,e,c));let d=Promise.resolve(u);s.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function cb(s,t,e,n,i=r=>r()){const r=[];for(const o of s)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(vC(l)){const u=(l.__vccOpts||l)[t];u&&r.push(Bo(u,e,n,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=CL(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Bo(p,e,n,o,a,i)()}))}}return r}function C0(s){const t=Ki(dS),e=Ki(IC),n=Ln(()=>{const l=Cr(s.to);return t.resolve(l)}),i=Ln(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=e.matched;if(!u||!d.length)return-1;const f=d.findIndex(th.bind(null,u));if(f>-1)return f;const p=x0(l[c-2]);return c>1&&x0(u)===p&&d[d.length-1].path!==p?d.findIndex(th.bind(null,l[c-2])):f}),r=Ln(()=>i.value>-1&&wk(e.params,n.value.params)),o=Ln(()=>i.value>-1&&i.value===e.matched.length-1&&wC(e.params,n.value.params));function a(l={}){if(Ak(l)){const c=t[Cr(s.replace)?"replace":"push"](Cr(s.to)).catch(nd);return s.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ln(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function yk(s){return s.length===1?s[0]:s}const Ek=ip({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:C0,setup(s,{slots:t}){const e=ch(C0(s)),{options:n}=Ki(dS),i=Ln(()=>({[_0(s.activeClass,n.linkActiveClass,"router-link-active")]:e.isActive,[_0(s.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&yk(t.default(e));return s.custom?r:nv("a",{"aria-current":e.isExactActive?s.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},r)}}}),Sk=Ek;function Ak(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const t=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return s.preventDefault&&s.preventDefault(),!0}}function wk(s,t){for(const e in t){const n=t[e],i=s[e];if(typeof n=="string"){if(n!==i)return!1}else if(!Yi(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function x0(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const _0=(s,t,e)=>s??t??e,Tk=ip({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:t,slots:e}){const n=Ki(oy),i=Ln(()=>s.route||n.value),r=Ki(T0,0),o=Ln(()=>{let c=Cr(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ln(()=>i.value.matched[o.value]);Zh(T0,Ln(()=>o.value+1)),Zh(bk,a),Zh(oy,i);const l=bi();return xr(()=>[l.value,a.value,s.name],([c,u,d],[f,p,g])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!th(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=s.name,d=a.value,f=d&&d.components[u];if(!f)return P0(e.default,{Component:f,route:c});const p=d.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=nv(f,xe({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return P0(e.default,{Component:v,route:c})||v}}});function P0(s,t){if(!s)return null;const e=s(t);return e.length===1?e[0]:e}const Ck=Tk;function xk(s){const t=hk(s.routes,s),e=s.parseQuery||mk,n=s.stringifyQuery||w0,i=s.history,r=Eh(),o=Eh(),a=Eh(),l=GE(Ro);let c=Ro;_c&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ab.bind(null,G=>""+G),d=ab.bind(null,UL),f=ab.bind(null,Cd);function p(G,rt){let st,ft;return CC(G)?(st=t.getRecordMatcher(G),ft=rt):ft=G,t.addRoute(ft,st)}function g(G){const rt=t.getRecordMatcher(G);rt&&t.removeRoute(rt)}function m(){return t.getRoutes().map(G=>G.record)}function v(G){return!!t.getRecordMatcher(G)}function b(G,rt){if(rt=xe({},rt||l.value),typeof G=="string"){const M=lb(e,G,rt.path),z=t.resolve({path:M.path},rt),Q=i.createHref(M.fullPath);return xe(M,z,{params:f(z.params),hash:Cd(M.hash),redirectedFrom:void 0,href:Q})}let st;if(G.path!=null)st=xe({},G,{path:lb(e,G.path,rt.path).path});else{const M=xe({},G.params);for(const z in M)M[z]==null&&delete M[z];st=xe({},G,{params:d(M)}),rt.params=d(rt.params)}const ft=t.resolve(st,rt),Zt=G.hash||"";ft.params=u(f(ft.params));const fe=HL(n,xe({},G,{hash:LL(Zt),path:ft.path})),I=i.createHref(fe);return xe({fullPath:fe,hash:Zt,query:n===w0?vk(G.query):G.query||{}},ft,{redirectedFrom:void 0,href:I})}function S(G){return typeof G=="string"?lb(e,G,l.value.path):xe({},G)}function E(G,rt){if(c!==G)return eh(8,{from:rt,to:G})}function A(G){return R(G)}function T(G){return A(xe(S(G),{replace:!0}))}function P(G){const rt=G.matched[G.matched.length-1];if(rt&&rt.redirect){const{redirect:st}=rt;let ft=typeof st=="function"?st(G):st;return typeof ft=="string"&&(ft=ft.includes("?")||ft.includes("#")?ft=S(ft):{path:ft},ft.params={}),xe({query:G.query,hash:G.hash,params:ft.path!=null?{}:G.params},ft)}}function R(G,rt){const st=c=b(G),ft=l.value,Zt=G.state,fe=G.force,I=G.replace===!0,M=P(st);if(M)return R(xe(S(M),{state:typeof M=="object"?xe({},Zt,M.state):Zt,force:fe,replace:I}),rt||st);const z=st;z.redirectedFrom=rt;let Q;return!fe&&VL(n,ft,st)&&(Q=eh(16,{to:z,from:ft}),Mt(ft,ft,!0,!1)),(Q?Promise.resolve(Q):N(z,ft)).catch(Y=>Mr(Y)?Mr(Y,2)?Y:Ht(Y):W(Y,z,ft)).then(Y=>{if(Y){if(Mr(Y,2))return R(xe({replace:I},S(Y.to),{state:typeof Y.to=="object"?xe({},Zt,Y.to.state):Zt,force:fe}),rt||z)}else Y=F(z,ft,!0,I,Zt);return L(z,ft,Y),Y})}function O(G,rt){const st=E(G,rt);return st?Promise.reject(st):Promise.resolve()}function _(G){const rt=me.values().next().value;return rt&&typeof rt.runWithContext=="function"?rt.runWithContext(G):G()}function N(G,rt){let st;const[ft,Zt,fe]=_k(G,rt);st=cb(ft.reverse(),"beforeRouteLeave",G,rt);for(const M of ft)M.leaveGuards.forEach(z=>{st.push(Bo(z,G,rt))});const I=O.bind(null,G,rt);return st.push(I),Pt(st).then(()=>{st=[];for(const M of r.list())st.push(Bo(M,G,rt));return st.push(I),Pt(st)}).then(()=>{st=cb(Zt,"beforeRouteUpdate",G,rt);for(const M of Zt)M.updateGuards.forEach(z=>{st.push(Bo(z,G,rt))});return st.push(I),Pt(st)}).then(()=>{st=[];for(const M of fe)if(M.beforeEnter)if(Yi(M.beforeEnter))for(const z of M.beforeEnter)st.push(Bo(z,G,rt));else st.push(Bo(M.beforeEnter,G,rt));return st.push(I),Pt(st)}).then(()=>(G.matched.forEach(M=>M.enterCallbacks={}),st=cb(fe,"beforeRouteEnter",G,rt,_),st.push(I),Pt(st))).then(()=>{st=[];for(const M of o.list())st.push(Bo(M,G,rt));return st.push(I),Pt(st)}).catch(M=>Mr(M,8)?M:Promise.reject(M))}function L(G,rt,st){a.list().forEach(ft=>_(()=>ft(G,rt,st)))}function F(G,rt,st,ft,Zt){const fe=E(G,rt);if(fe)return fe;const I=rt===Ro,M=_c?history.state:{};st&&(ft||I?i.replace(G.fullPath,xe({scroll:I&&M&&M.scroll},Zt)):i.push(G.fullPath,Zt)),l.value=G,Mt(G,rt,st,I),Ht()}let U;function V(){U||(U=i.listen((G,rt,st)=>{if(!Ee.listening)return;const ft=b(G),Zt=P(ft);if(Zt){R(xe(Zt,{replace:!0,force:!0}),ft).catch(nd);return}c=ft;const fe=l.value;_c&&qL(p0(fe.fullPath,st.delta),dv()),N(ft,fe).catch(I=>Mr(I,12)?I:Mr(I,2)?(R(xe(S(I.to),{force:!0}),ft).then(M=>{Mr(M,20)&&!st.delta&&st.type===xd.pop&&i.go(-1,!1)}).catch(nd),Promise.reject()):(st.delta&&i.go(-st.delta,!1),W(I,ft,fe))).then(I=>{I=I||F(ft,fe,!1),I&&(st.delta&&!Mr(I,8)?i.go(-st.delta,!1):st.type===xd.pop&&Mr(I,20)&&i.go(-1,!1)),L(ft,fe,I)}).catch(nd)}))}let J=Eh(),j=Eh(),H;function W(G,rt,st){Ht(G);const ft=j.list();return ft.length?ft.forEach(Zt=>Zt(G,rt,st)):console.error(G),Promise.reject(G)}function At(){return H&&l.value!==Ro?Promise.resolve():new Promise((G,rt)=>{J.add([G,rt])})}function Ht(G){return H||(H=!G,V(),J.list().forEach(([rt,st])=>G?st(G):rt()),J.reset()),G}function Mt(G,rt,st,ft){const{scrollBehavior:Zt}=s;if(!_c||!Zt)return Promise.resolve();const fe=!st&&JL(p0(G.fullPath,0))||(ft||!st)&&history.state&&history.state.scroll||null;return gc().then(()=>Zt(G,rt,fe)).then(I=>I&&YL(I)).catch(I=>W(I,G,rt))}const Ct=G=>i.go(G);let Ft;const me=new Set,Ee={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:m,resolve:b,options:s,push:A,replace:T,go:Ct,back:()=>Ct(-1),forward:()=>Ct(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:At,install(G){const rt=this;G.component("RouterLink",Sk),G.component("RouterView",Ck),G.config.globalProperties.$router=rt,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Cr(l)}),_c&&!Ft&&l.value===Ro&&(Ft=!0,A(i.location).catch(Zt=>{}));const st={};for(const Zt in Ro)Object.defineProperty(st,Zt,{get:()=>l.value[Zt],enumerable:!0});G.provide(dS,rt),G.provide(IC,VE(st)),G.provide(oy,l);const ft=G.unmount;me.add(G),G.unmount=function(){me.delete(G),me.size<1&&(c=Ro,U&&U(),U=null,l.value=Ro,Ft=!1,H=!1),ft()}}};function Pt(G){return G.reduce((rt,st)=>rt.then(()=>_(st)),Promise.resolve())}return Ee}function _k(s,t){const e=[],n=[],i=[],r=Math.max(t.matched.length,s.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(s.matched.find(c=>th(c,a))?n.push(a):e.push(a));const l=s.matched[o];l&&(t.matched.find(c=>th(c,l))||i.push(l))}return[e,n,i]}const Pk="http://localhost:8000",ne=Ye.create({baseURL:Pk,headers:{"Content-Type":"application/json"}});ne.interceptors.request.use(s=>{const t=localStorage.getItem("access_token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));ne.interceptors.response.use(s=>s,s=>((s.response&&s.response.status===401||s.response&&s.response.status===400)&&(localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("access_token"),alert("Faa o login novamente!"),window.location.reload(),console.log("Erro 401: No autorizado")),Promise.reject(s)));let I0=0;const Ik={name:"Toast",data(){return{toasts:[]}},methods:{show({message:s,type:t="info",duration:e=3500}){I0+=1;const n=I0,i={id:n,message:s,type:t,duration:e,timer:null,paused:!1,remaining:e,startTime:null};return this.toasts.push(i),this.startTimer(i),n},startTimer(s){s.startTime=Date.now(),s.timer=setTimeout(()=>{this.removeToast(s.id)},s.remaining)},pauseToast(s){const t=this.toasts.find(e=>e.id===s);t&&t.timer&&(clearTimeout(t.timer),t.timer=null,t.paused=!0,t.remaining-=Date.now()-t.startTime)},resumeToast(s){const t=this.toasts.find(e=>e.id===s);t&&!t.timer&&t.paused&&(t.paused=!1,this.startTimer(t))},removeToast(s){const t=this.toasts.findIndex(e=>e.id===s);if(t!==-1){const e=this.toasts[t];e.timer&&clearTimeout(e.timer),this.toasts.splice(t,1)}}}},Rk=["onMouseenter","onMouseleave"],Ok={class:"toast-message"},Mk=["onClick"];function Nk(s,t,e,n,i,r){return D(),sc(OT,{name:"toast-fade",tag:"div",class:"toast-container"},{default:gn(()=>[(D(!0),k(yt,null,Ae(i.toasts,(o,a)=>(D(),k("div",{key:o.id,class:vs(["toast",o.type]),role:"alert",onMouseenter:l=>r.pauseToast(o.id),onMouseleave:l=>r.resumeToast(o.id)},[y("span",Ok,q(o.message),1),y("button",{class:"toast-close",onClick:l=>r.removeToast(o.id),"aria-label":"Fechar"},"",8,Mk)],42,Rk))),128))]),_:1})}const fS=Is(Ik,[["render",Nk],["__scopeId","data-v-80402131"]]),Dk={components:{Toast:fS},data(){return{processos:[],isAuthenticated:!!localStorage.getItem("access_token"),showConfirmModal:!1,processoParaExcluir:null}},methods:{async fetchProcessos(){try{const s=await ne.get("/processo/");let t=Array.isArray(s.data.results)?s.data.results.filter(e=>e&&e.id):[];t.sort((e,n)=>{const i=e.inicio?new Date(e.inicio):e.fim?new Date(e.fim):new Date(0);return(n.inicio?new Date(n.inicio):n.fim?new Date(n.fim):new Date(0))-i}),this.processos=t}catch(s){this.showToast("Erro ao carregar os processos.","error"),console.error("Erro ao carregar os processos:",s)}},formatDate(s){if(!s)return"-";const t=new Date(s);return t instanceof Date&&!isNaN(t)?`${t.toLocaleDateString("pt-BR")} ${t.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}`:"-"},abrirModalExcluir(s){this.processoParaExcluir=s,this.showConfirmModal=!0},fecharModalExcluir(){this.showConfirmModal=!1,this.processoParaExcluir=null},async confirmarExcluirProcesso(){try{await ne.delete(`/processo/${this.processoParaExcluir}/`),this.showToast("Processo excludo com sucesso!","success"),this.fetchProcessos()}catch(s){let t="Erro ao excluir o registro.";s.response&&s.response.data&&typeof s.response.data=="string"&&s.response.data.includes("because they are referenced through restricted foreign keys")&&(t="No  possvel excluir este processo pois ele est vinculado a itemizaes, tarefas e/ou processos de usurios. Remova primeiro esses vnculos antes de tentar excluir."),this.showToast(t,"error"),console.error("Erro ao excluir o documento:",s)}this.fecharModalExcluir()},showToast(s,t="info"){this.$refs.toast&&typeof this.$refs.toast.show=="function"&&this.$refs.toast.show({message:s,type:t})}},mounted(){this.isAuthenticated&&this.fetchProcessos()}},Lk={key:0,class:"auth-message"},kk={key:1,class:"padrao-list"},Fk={class:"header-actions"},Uk={key:0,class:"table-wrapper"},Bk={class:"usuario-processos-table"},jk=["title"],Hk={class:"actions-container"},Vk=["onClick"],$k={key:1,class:"nenhum-processo"},Gk={class:"modal-content modal-content-log"},zk={class:"modal-header"},Xk={class:"modal-actions"};function Wk(s,t,e,n,i,r){const o=Us("router-link"),a=Us("Toast");return D(),k("div",null,[i.isAuthenticated?ot("",!0):(D(),k("div",Lk,t[4]||(t[4]=[y("p",null,"Por favor, faa login para acessar os processos.",-1)]))),i.isAuthenticated?(D(),k("div",kk,[y("div",Fk,[t[6]||(t[6]=y("h1",null,"Lista de Processos",-1)),Ut(o,{to:"/processo/novo"},{default:gn(()=>t[5]||(t[5]=[y("button",{class:"btn-acoes criar-btn"},"Criar Novo Processo",-1)])),_:1})]),i.processos.length>0?(D(),k("div",Uk,[y("table",Bk,[t[10]||(t[10]=y("thead",null,[y("tr",null,[y("th",null,"Nome"),y("th",null,"Incio"),y("th",null,"Trmino"),y("th",null,"Aes")])],-1)),y("tbody",null,[(D(!0),k(yt,null,Ae(i.processos,l=>(D(),k("tr",{key:l.id},[y("td",null,[y("span",{class:"processo-nome",title:l.nome},q(l.nome),9,jk)]),y("td",null,q(r.formatDate(l.inicio)),1),y("td",null,q(r.formatDate(l.fim)),1),y("td",null,[y("div",Hk,[Ut(o,{to:{name:"ItemizacaoTarefaTree",params:{processoId:l.id}}},{default:gn(()=>t[7]||(t[7]=[y("button",{class:"btn-acoes itemizacao-btn",title:"Itemizaes"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",fill:"none",viewBox:"0 0 24 24"},[y("path",{d:"M7 6V4a1 1 0 011-1h8a1 1 0 011 1v2",stroke:"#fff","stroke-width":"2"}),y("rect",{x:"2",y:"6",width:"20",height:"14",rx:"2",fill:"#fff",stroke:"#ffa600","stroke-width":"2"}),y("path",{d:"M7 10h10M7 14h6",stroke:"#ffa600","stroke-width":"2","stroke-linecap":"round"})])],-1)])),_:2},1032,["to"]),Ut(o,{to:{name:"EditarProcesso",params:{id:l.id}}},{default:gn(()=>t[8]||(t[8]=[y("button",{class:"btn-acoes icon-btn edit-btn",title:"Editar"},[y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},[y("path",{d:"M16.862 5.487a2.07 2.07 0 0 1 2.933 2.933L9.6 18.615 5 19l.385-4.6L16.862 5.487Z"})])],-1)])),_:2},1032,["to"]),y("button",{class:"btn-acoes icon-btn delete-btn",title:"Excluir",onClick:c=>r.abrirModalExcluir(l.id)},t[9]||(t[9]=[hT('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" data-v-5533de5a><polyline points="3 6 5 6 21 6" data-v-5533de5a></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m5 0V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2" data-v-5533de5a></path><line x1="10" y1="11" x2="10" y2="17" data-v-5533de5a></line><line x1="14" y1="11" x2="14" y2="17" data-v-5533de5a></line></svg>',1)]),8,Vk)])])]))),128))])])])):(D(),k("div",$k,t[11]||(t[11]=[y("p",null,"Nenhum processo encontrado.",-1)])))])):ot("",!0),i.showConfirmModal?(D(),k("div",{key:2,class:"modal modal-log",onClick:t[3]||(t[3]=Rt((...l)=>r.fecharModalExcluir&&r.fecharModalExcluir(...l),["self"]))},[y("div",Gk,[y("div",zk,[t[12]||(t[12]=y("h3",null,"Confirmao",-1)),y("button",{class:"modal-close",onClick:t[0]||(t[0]=(...l)=>r.fecharModalExcluir&&r.fecharModalExcluir(...l))},"")]),t[13]||(t[13]=y("hr",{class:"section-divider"},null,-1)),t[14]||(t[14]=y("div",null,[y("p",null,"Tem certeza que deseja excluir esse registro?")],-1)),y("div",Xk,[y("button",{class:"btn-acoes salvar-btn",onClick:t[1]||(t[1]=(...l)=>r.confirmarExcluirProcesso&&r.confirmarExcluirProcesso(...l))}," Excluir "),y("button",{class:"btn-acoes cancelar-btn",onClick:t[2]||(t[2]=(...l)=>r.fecharModalExcluir&&r.fecharModalExcluir(...l))}," Cancelar ")])])])):ot("",!0),Ut(a,{ref:"toast"},null,512)])}const Kk=Is(Dk,[["render",Wk],["__scopeId","data-v-5533de5a"]]),Yk={inheritAttrs:!1,components:{Toast:fS},data(){return{processo:{nome:"",inicio:"",fim:"",pontos:"",descricao:"",observacao:""},isEditing:!1,loading:!1,showModal:!1,isAuthenticated:!!localStorage.getItem("access_token")}},methods:{showToast(s,t="info"){this.$refs.toast&&typeof this.$refs.toast.show=="function"&&this.$refs.toast.show({message:s,type:t})},async salvarProcesso(){this.loading=!0;try{this.isEditing?await ne.put(`/processo/${this.$route.params.id}/`,this.processo):await ne.post("/processo/",this.processo),this.showToast("Processo criado com sucesso!","success"),setTimeout(()=>{this.$router.back()},3e3)}catch(s){console.error("Erro ao salvar o processo:",s)}finally{this.loading=!1}},async fetchProcesso(){if(this.isAuthenticated&&this.$route.params.id){this.isEditing=!0;try{const s=await ne.get(`/processo/${this.$route.params.id}/`);this.processo=s.data,["inicio","fim"].forEach(t=>{this.processo[t]=qk(this.processo[t])})}catch(s){console.error("Erro ao carregar os dados do processo:",s)}}}},mounted(){this.fetchProcesso()}};function qk(s){const t=new Date(s);return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,16)}const Jk={key:0,class:"auth-message"},Qk={key:1,class:"padrao-form"},Zk={class:"header-actions"},t2={class:"form-group"},e2={class:"form-group"},s2={class:"form-group"},n2={class:"form-group"},i2={class:"form-group"},r2={class:"form-group"},o2=["disabled"];function a2(s,t,e,n,i,r){const o=Us("router-link"),a=Us("Toast");return D(),k(yt,null,[i.isAuthenticated?ot("",!0):(D(),k("div",Jk,t[7]||(t[7]=[y("p",null,"Por favor, faa login para acessar as itemizaes.",-1)]))),i.isAuthenticated?(D(),k("div",Qk,[y("div",Zk,[y("h1",null,q(i.isEditing?"Editar Processo":"Criar Novo Processo"),1),Ut(o,{to:"/processo"},{default:gn(()=>t[8]||(t[8]=[y("button",{class:"btn-acoes back-btn"},"Voltar para a Lista",-1)])),_:1})]),y("form",{onSubmit:t[6]||(t[6]=Rt((...l)=>r.salvarProcesso&&r.salvarProcesso(...l),["prevent"])),class:"processo-form"},[y("div",t2,[t[9]||(t[9]=y("label",{for:"nome"},"Nome do Processo:",-1)),Gt(y("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i.processo.nome=l),type:"text",id:"nome",placeholder:"Digite o nome do processo",required:""},null,512),[[ae,i.processo.nome]])]),y("div",e2,[t[10]||(t[10]=y("label",{for:"inicio"},"Incio:",-1)),Gt(y("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i.processo.inicio=l),type:"datetime-local",id:"inicio",placeholder:"Selecione a data e hora de incio",required:""},null,512),[[ae,i.processo.inicio]])]),y("div",s2,[t[11]||(t[11]=y("label",{for:"fim"},"Trmino:",-1)),Gt(y("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.processo.fim=l),type:"datetime-local",id:"fim",placeholder:"Selecione a data e hora de trmino",required:""},null,512),[[ae,i.processo.fim]])]),y("div",n2,[t[12]||(t[12]=y("label",{for:"pontos"},"Pontos:",-1)),Gt(y("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>i.processo.pontos=l),type:"number",id:"pontos",placeholder:"Quantidade de pontos mnimos",required:""},null,512),[[ae,i.processo.pontos]])]),y("div",i2,[t[13]||(t[13]=y("label",{for:"descricao"},"Descrio:",-1)),Gt(y("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.processo.descricao=l),id:"descricao",placeholder:"Descreva o processo",rows:"4"},null,512),[[ae,i.processo.descricao]])]),y("div",r2,[t[14]||(t[14]=y("label",{for:"observacao"},"Observaes:",-1)),Gt(y("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.processo.observacao=l),id:"observacao",placeholder:"Adicione observaes sobre o processo",rows:"4"},null,512),[[ae,i.processo.observacao]])]),y("button",{type:"submit",class:"btn-acoes submit-btn",disabled:i.loading},q(i.loading?"Salvando...":i.isEditing?"Atualizar":"Criar"),9,o2)],32),Ut(a,{ref:"toast"},null,512)])):ot("",!0)],64)}const R0=Is(Yk,[["render",a2],["__scopeId","data-v-4da0c89e"]]),l2={data(){return{usuarioProcessos:[],currentPage:1,totalPages:1,pageSize:10,loading:!1,isAuthenticated:!!localStorage.getItem("access_token"),isModalAlterarStatusOpen:!1,usuarioProcessoSelecionado:null,statusSelecionado:"",observacao:"",isModalLogOpen:!1,logSelecionado:"",toast:{show:!1,message:"",type:"info"},toastTimeout:null}},computed:{visiblePages(){const s=[];let t=Math.max(1,this.currentPage-2),e=Math.min(this.totalPages,this.currentPage+2);this.currentPage<=3&&(e=Math.min(this.totalPages,5),t=1),this.currentPage>=this.totalPages-2&&(t=Math.max(1,this.totalPages-4),e=this.totalPages);for(let n=t;n<=e;n++)s.push(n);return s}},methods:{showToast(s,t="info",e=3500){this.toast.message=s,this.toast.type=t,this.toast.show=!0,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.toast.show=!1},e)},async fetchUsuarioProcessos(){this.loading=!0;try{const s=await ne.get("/usuario-processo",{params:{page:this.currentPage,page_size:this.pageSize,ordering:"-data"}});let t=Array.isArray(s.data.results)?s.data.results:s.data;t.sort((e,n)=>e.data?n.data?n.data.localeCompare(e.data):-1:1),this.usuarioProcessos=t,this.totalPages=s.data.count?Math.ceil(s.data.count/this.pageSize):1}catch(s){this.showToast("Erro ao carregar os usurios e processos.","error"),console.error("Erro ao carregar os usurios e processos:",s)}finally{this.loading=!1}},changePage(s){s>0&&s<=this.totalPages&&s!==this.currentPage&&(this.currentPage=s,this.fetchUsuarioProcessos())},formatarDataUTC(s){return!s||s.length<10?"":s.substring(8,10)+"/"+s.substring(5,7)+"/"+s.substring(0,4)},async listarDocumentos(s){localStorage.setItem("usuarioProcessoId",s),this.$router.push({name:"DocsUsuarioProcesso"})},abrirAlterarStatus(s){this.usuarioProcessoSelecionado=s,this.statusSelecionado=s.status||"",this.observacao="",this.isModalAlterarStatusOpen=!0},fecharAlterarStatus(){this.usuarioProcessoSelecionado=null,this.statusSelecionado="",this.observacao="",this.isModalAlterarStatusOpen=!1},async salvarAlteracaoStatus(){if(!this.statusSelecionado||!this.observacao.trim()){this.showToast("Selecione o status e insira a observao.","error");return}try{const s=new Date,e=`[${s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")+" "+String(s.getHours()).padStart(2,"0")+":"+String(s.getMinutes()).padStart(2,"0")+":"+String(s.getSeconds()).padStart(2,"0")}] ${this.observacao}`;await ne.patch(`/usuario-processo/${this.usuarioProcessoSelecionado.id}/`,{status:this.statusSelecionado,log:e}),this.fecharAlterarStatus(),this.fetchUsuarioProcessos(),this.showToast("Status alterado com sucesso!","success")}catch(s){this.showToast("Erro ao alterar status do processo.","error"),console.error("Erro ao alterar status:",s)}},abrirLog(s){this.logSelecionado=s.log||"",this.isModalLogOpen=!0},fecharLog(){this.isModalLogOpen=!1,this.logSelecionado=""}},mounted(){this.isAuthenticated&&this.fetchUsuarioProcessos()}},c2={key:0,class:"auth-message"},u2={key:1,class:"usuario-processos"},h2={key:0,class:"table-wrapper"},d2={class:"usuario-processos-table"},f2=["title"],p2=["title"],g2={class:"processo-data"},m2={class:"status-col"},v2=["onClick"],b2=["onClick"],y2=["onClick","disabled"],E2={key:1,class:"nenhum-processo"},S2={key:2,class:"pagination-numeric"},A2=["disabled"],w2=["onClick","disabled"],T2=["disabled"],C2={class:"modal-content modal-content-alterar"},x2={class:"modal-header"},_2={class:"modal-actions"},P2={class:"modal-content modal-content-log"},I2={class:"modal-header"},R2={class:"log-content"},O2={key:0},M2={key:1},N2={class:"modal-actions"};function D2(s,t,e,n,i,r){return D(),k(yt,null,[i.isAuthenticated?ot("",!0):(D(),k("div",c2,t[11]||(t[11]=[y("p",null,"Por favor, faa login para acessar os documentos enviados pelos usurios.",-1)]))),i.isAuthenticated?(D(),k("div",u2,[t[14]||(t[14]=y("div",{class:"header-actions"},[y("h2",null,"Processos dos Usurios")],-1)),i.usuarioProcessos.length?(D(),k("div",h2,[y("table",d2,[t[12]||(t[12]=y("thead",null,[y("tr",null,[y("th",null,"Usurio"),y("th",null,"Processo"),y("th",null,"Data"),y("th",null,"Status"),y("th",null,"Aes")])],-1)),y("tbody",null,[(D(!0),k(yt,null,Ae(i.usuarioProcessos,o=>(D(),k("tr",{key:o.id},[y("td",null,[y("span",{class:"processo-nome",title:o.usuario_nome||o.usuario},q(o.usuario_nome||o.usuario),9,f2)]),y("td",null,[y("span",{class:"processo-nome",title:o.processo_nome||o.processo},q(o.processo_nome||o.processo),9,p2)]),y("td",null,[y("span",g2,q(r.formatarDataUTC(o.data)),1)]),y("td",m2,[y("a",{href:"#",class:"status-link",onClick:Rt(a=>r.abrirLog(o),["prevent"])},q(o.status),9,v2)]),y("td",null,[y("button",{class:"btn-acoes visualizar-btn",onClick:a=>r.listarDocumentos(o.id)}," Documentos ",8,b2),y("button",{class:"btn-acoes alterar-btn",onClick:a=>r.abrirAlterarStatus(o),disabled:o.status==="Iniciado"||o.status==="Devolvido"}," Alterar ",8,y2)])]))),128))])])])):ot("",!0),!i.usuarioProcessos.length&&!i.loading?(D(),k("div",E2,t[13]||(t[13]=[y("p",null,"Nenhum usurio encontrado.",-1)]))):ot("",!0),i.totalPages>1?(D(),k("div",S2,[y("button",{class:"btn-acoes pag-btn",onClick:t[0]||(t[0]=o=>r.changePage(i.currentPage-1)),disabled:i.currentPage===1},"  ",8,A2),(D(!0),k(yt,null,Ae(r.visiblePages,o=>(D(),k("button",{key:o,class:vs(["btn-acoes pag-btn page-number",{active:i.currentPage===o}]),onClick:a=>r.changePage(o),disabled:i.currentPage===o},q(o),11,w2))),128)),y("button",{class:"btn-acoes pag-btn",onClick:t[1]||(t[1]=o=>r.changePage(i.currentPage+1)),disabled:i.currentPage===i.totalPages},"  ",8,T2)])):ot("",!0)])):ot("",!0),i.isModalAlterarStatusOpen?(D(),k("div",{key:2,class:"modal modal-alterar-status",onClick:t[7]||(t[7]=Rt((...o)=>r.fecharAlterarStatus&&r.fecharAlterarStatus(...o),["self"]))},[y("div",C2,[y("div",x2,[t[15]||(t[15]=y("h3",null,"Alterar Status do Processo",-1)),y("button",{class:"modal-close",onClick:t[2]||(t[2]=(...o)=>r.fecharAlterarStatus&&r.fecharAlterarStatus(...o))},"")]),t[19]||(t[19]=y("hr",{class:"section-divider"},null,-1)),y("div",null,[t[17]||(t[17]=y("label",null,"Status:",-1)),Gt(y("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>i.statusSelecionado=o),required:""},t[16]||(t[16]=[y("option",{disabled:"",value:""},"Selecione...",-1),y("option",{value:"Devolvido"},"Devolvido",-1),y("option",{value:"Finalizado"},"Finalizado",-1)]),512),[[wd,i.statusSelecionado]])]),y("div",null,[t[18]||(t[18]=y("label",null,"Observao:",-1)),Gt(y("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>i.observacao=o),rows:"3",placeholder:"Observao (obrigatrio)",required:""},null,512),[[ae,i.observacao]])]),y("div",_2,[y("button",{class:"btn-acoes salvar-btn",onClick:t[5]||(t[5]=(...o)=>r.salvarAlteracaoStatus&&r.salvarAlteracaoStatus(...o))},"Salvar"),y("button",{class:"btn-acoes cancelar-btn",onClick:t[6]||(t[6]=(...o)=>r.fecharAlterarStatus&&r.fecharAlterarStatus(...o))},"Cancelar")])])])):ot("",!0),i.isModalLogOpen?(D(),k("div",{key:3,class:"modal modal-log",onClick:t[10]||(t[10]=Rt((...o)=>r.fecharLog&&r.fecharLog(...o),["self"]))},[y("div",P2,[y("div",I2,[t[20]||(t[20]=y("h3",null,"Histrico de Logs",-1)),y("button",{class:"modal-close",onClick:t[8]||(t[8]=(...o)=>r.fecharLog&&r.fecharLog(...o))},"")]),t[21]||(t[21]=y("hr",{class:"section-divider"},null,-1)),y("div",R2,[i.logSelecionado&&i.logSelecionado.trim()!==""?(D(),k("pre",O2,q(i.logSelecionado),1)):(D(),k("p",M2,"Nenhum log registrado."))]),y("div",N2,[y("button",{class:"btn-acoes cancelar-btn",onClick:t[9]||(t[9]=(...o)=>r.fecharLog&&r.fecharLog(...o))},"Fechar")])])])):ot("",!0),i.toast.show?(D(),k("div",{key:4,class:vs(["custom-toast",i.toast.type])},q(i.toast.message),3)):ot("",!0)],64)}const L2=Is(l2,[["render",D2],["__scopeId","data-v-e252cb40"]]),k2={inheritAttrs:!1,data(){return{isEditing:!1,usuarioProcesso:{usuario:"",processo:"",submetido:"",status:""},usuarios:[],processos:[],loading:!1}},methods:{async fetchUsuarios(){try{const s=await ne.get("/usuarios");this.usuarios=s.data}catch(s){console.error("Erro ao carregar os usurios:",s)}},async fetchProcessos(){try{const s=await ne.get("/processos");this.processos=s.data}catch(s){console.error("Erro ao carregar os processos:",s)}},async salvarUsuarioProcesso(){this.loading=!0;try{this.isEditing?await ne.put(`/usuario-processo/${this.usuarioProcesso.id}/`,this.usuarioProcesso):await ne.post("/usuario-processo/",this.usuarioProcesso),this.$router.push({name:"ListarUsuarioProcesso"})}catch(s){console.error("Erro ao salvar usurio e processo:",s)}finally{this.loading=!1}},async carregarUsuarioProcesso(){if(this.$route.params.id){this.isEditing=!0;try{const s=await ne.get(`/usuario-processo/${this.$route.params.id}/`);this.usuarioProcesso=s.data}catch(s){console.error("Erro ao carregar usurio e processo:",s)}}}},mounted(){this.fetchUsuarios(),this.fetchProcessos(),this.$route.params.id&&this.carregarUsuarioProcesso()}},F2={class:"padrao-form"},U2={class:"form-group"},B2=["value"],j2={class:"form-group"},H2=["value"],V2={class:"form-group"},$2={class:"form-group"},G2={class:"form-group"},z2={type:"submit",class:"btn"},X2={key:0,class:"loading"};function W2(s,t,e,n,i,r){return D(),k("div",F2,[y("h1",null,q(i.isEditing?"Editar":"Criar")+" Usurio Processo",1),y("form",{onSubmit:t[4]||(t[4]=Rt((...o)=>r.salvarUsuarioProcesso&&r.salvarUsuarioProcesso(...o),["prevent"]))},[y("div",U2,[t[5]||(t[5]=y("label",{for:"usuario"},"Usurio",-1)),Gt(y("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.usuarioProcesso.usuario=o),id:"usuario",required:""},[(D(!0),k(yt,null,Ae(i.usuarios,o=>(D(),k("option",{key:o.id,value:o.id},q(o.nome),9,B2))),128))],512),[[wd,i.usuarioProcesso.usuario]])]),y("div",j2,[t[6]||(t[6]=y("label",{for:"processo"},"Processo",-1)),Gt(y("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.usuarioProcesso.processo=o),id:"processo",required:""},[(D(!0),k(yt,null,Ae(i.processos,o=>(D(),k("option",{key:o.id,value:o.id},q(o.nome),9,H2))),128))],512),[[wd,i.usuarioProcesso.processo]])]),y("div",V2,[t[7]||(t[7]=y("label",{for:"submetido"},"Submetido",-1)),Gt(y("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>i.usuarioProcesso.submetido=o),id:"submetido",required:""},null,512),[[ae,i.usuarioProcesso.submetido]])]),y("div",$2,[t[8]||(t[8]=y("label",{for:"status"},"Status",-1)),Gt(y("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>i.usuarioProcesso.status=o),id:"status",required:""},null,512),[[ae,i.usuarioProcesso.status]])]),y("div",G2,[y("button",z2,q(i.usuarioProcesso.id?"Salvar":"Criar"),1)])],32),i.loading?(D(),k("div",X2,t[9]||(t[9]=[y("p",null,"Salvando...",-1)]))):ot("",!0)])}const O0=Is(k2,[["render",W2]]);var rd={};rd.d=(s,t)=>{for(var e in t)rd.o(t,e)&&!rd.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:t[e]})};rd.o=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var jt=globalThis.pdfjsLib={};rd.d(jt,{AbortException:()=>mc,AnnotationEditorLayer:()=>mE,AnnotationEditorParamsType:()=>he,AnnotationEditorType:()=>qt,AnnotationEditorUIManager:()=>oc,AnnotationLayer:()=>V3,AnnotationMode:()=>Vo,ColorPicker:()=>im,DOMSVGFactory:()=>AS,DrawLayer:()=>yE,FeatureTest:()=>bn,GlobalWorkerOptions:()=>po,ImageKind:()=>Zp,InvalidPDFException:()=>OC,MissingPDFException:()=>up,OPS:()=>Ii,OutputScale:()=>hy,PDFDataRangeTransport:()=>_x,PDFDateString:()=>bS,PDFWorker:()=>Gc,PasswordResponses:()=>J2,PermissionFlag:()=>q2,PixelsPerInch:()=>Ca,RenderingCancelledException:()=>mS,TextLayer:()=>_d,UnexpectedResponseException:()=>mv,Util:()=>wt,VerbosityLevel:()=>fv,XfaLayer:()=>Ix,build:()=>A3,createValidAbsoluteUrl:()=>eF,fetchData:()=>bv,getDocument:()=>f3,getFilenameFromUrl:()=>uF,getPdfFilenameFromUrl:()=>hF,getXfaPageViewport:()=>dF,isDataScheme:()=>yv,isPdfFile:()=>vS,noContextMenu:()=>qi,normalizeUnicode:()=>aF,setLayerDimensions:()=>rc,shadow:()=>ie,stopEvent:()=>zi,version:()=>S3});const mn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),RC=[1,0,0,1,0,0],ay=[.001,0,0,.001,0,0],K2=1e7,ub=1.35,qn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Y2="pdfjs_internal_editor_",qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},he={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},q2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Hs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Zp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ds={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Sh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},fv={ERRORS:0,WARNINGS:1,INFOS:5},Ii={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},J2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let pv=fv.WARNINGS;function Q2(s){Number.isInteger(s)&&(pv=s)}function Z2(){return pv}function gv(s){pv>=fv.INFOS&&console.log(`Info: ${s}`)}function Qt(s){pv>=fv.WARNINGS&&console.log(`Warning: ${s}`)}function Re(s){throw new Error(s)}function us(s,t){s||Re(t)}function tF(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function eF(s,t=null,e=null){if(!s)return null;try{if(e&&typeof s=="string"){if(e.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(e.tryConvertEncoding)try{s=oF(s)}catch{}}const n=t?new URL(s,t):new URL(s);if(tF(n))return n}catch{}return null}function ie(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Da=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class ly extends Da{constructor(t,e){super(t,"PasswordException"),this.code=e}}class cy extends Da{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class OC extends Da{constructor(t){super(t,"InvalidPDFException")}}class up extends Da{constructor(t){super(t,"MissingPDFException")}}class mv extends Da{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class sF extends Da{constructor(t){super(t,"FormatError")}}class mc extends Da{constructor(t){super(t,"AbortException")}}function MC(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&Re("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<t;i+=e){const r=Math.min(i+e,t),o=s.subarray(i,r);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function vv(s){typeof s!="string"&&Re("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function nF(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function pS(s){const t=Object.create(null);for(const[e,n]of s)t[e]=n;return t}function iF(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function rF(){try{return new Function(""),!0}catch{return!1}}class bn{static get isLittleEndian(){return ie(this,"isLittleEndian",iF())}static get isEvalSupported(){return ie(this,"isEvalSupported",rF())}static get isOffscreenCanvasSupported(){return ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ie(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):ie(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return ie(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const hb=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Eo,tg,uy;class wt{static makeHexColor(t,e,n){return`#${hb[t]}${hb[e]}${hb[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[n,i]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[i,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],r[0],o[0]),Math.min(n[1],i[1],r[1],o[1]),Math.max(n[0],i[0],r[0],o[0]),Math.max(n[1],i[1],r[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,l=Math.sqrt((n+o)**2-4*(n*o-r*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[n,r,i,o]}static bezierBoundingBox(t,e,n,i,r,o,a,l,c){return c?(c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,a),Math.min(e,l),Math.max(t,a),Math.max(e,l)],C(this,Eo,uy).call(this,t,n,r,a,e,i,o,l,3*(-t+3*(n-r)+a),6*(t-2*n+r),3*(n-t),c),C(this,Eo,uy).call(this,t,n,r,a,e,i,o,l,3*(-e+3*(i-o)+l),6*(e-2*i+o),3*(i-e),c),c}}Eo=new WeakSet,tg=function(t,e,n,i,r,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*t+3*c*e)+3*f*n)+p*i,m=d*(d*(d*r+3*c*o)+3*f*a)+p*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},uy=function(t,e,n,i,r,o,a,l,c,u,d,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&C(this,Eo,tg).call(this,t,e,n,i,r,o,a,l,-d/u,f);return}const p=u**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),m=2*c;C(this,Eo,tg).call(this,t,e,n,i,r,o,a,l,(-u+g)/m,f),C(this,Eo,tg).call(this,t,e,n,i,r,o,a,l,(-u-g)/m,f)},x(wt,Eo);function oF(s){return decodeURIComponent(escape(s))}let db=null,M0=null;function aF(s){return db||(db=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,M0=new Map([["","t"]])),s.replaceAll(db,(t,e,n)=>e?e.normalize("NFKC"):M0.get(n))}function lF(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),MC(s)}const gS="pdfjs_internal_id_",Nr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function cF(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(MC(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});const Lr="http://www.w3.org/2000/svg",Ga=class Ga{};_t(Ga,"CSS",96),_t(Ga,"PDF",72),_t(Ga,"PDF_TO_CSS_UNITS",Ga.CSS/Ga.PDF);let Ca=Ga;async function bv(s,t="text"){if(Ih(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class hp{constructor({viewBox:t,scale:e,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=r;const a=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,d,f;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,u=0,d=0,f=1;break;case 90:c=0,u=1,d=1,f=0;break;case 270:c=0,u=-1,d=-1,f=0;break;case 0:c=1,u=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,m,v;c===0?(p=Math.abs(l-t[1])*e+i,g=Math.abs(a-t[0])*e+r,m=(t[3]-t[1])*e,v=(t[2]-t[0])*e):(p=Math.abs(a-t[0])*e+i,g=Math.abs(l-t[1])*e+r,m=(t[2]-t[0])*e,v=(t[3]-t[1])*e),this.transform=[c*e,u*e,d*e,f*e,p-c*e*a-d*e*l,g-u*e*a-f*e*l],this.width=m,this.height=v}get rawDims(){const{viewBox:t}=this;return ie(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new hp({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){return wt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=wt.applyTransform([t[0],t[1]],this.transform),n=wt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return wt.applyInverseTransform([t,e],this.transform)}}class mS extends Da{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function yv(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function vS(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function uF(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function hF(s,t="document.pdf"){if(typeof s!="string")return t;if(yv(s))return Qt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(s);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class N0{constructor(){_t(this,"started",Object.create(null));_t(this,"times",[])}time(t){t in this.started&&Qt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Qt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-i}ms
`);return t.join("")}}function Ih(s,t){try{const{protocol:e}=t?new URL(s,t):new URL(s);return e==="http:"||e==="https:"}catch{return!1}}function qi(s){s.preventDefault()}function zi(s){s.preventDefault(),s.stopPropagation()}function D0(s){console.log("Deprecated API usage: "+s)}var Ld;class bS{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Ld)||w(this,Ld,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Ld).exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(n,i,r,o,a,l))}}Ld=new WeakMap,x(bS,Ld);function dF(s,{scale:t=1,rotation:e=0}){const{width:n,height:i}=s.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new hp({viewBox:r,scale:t,rotation:e})}function yS(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Qt(`Not a valid color format: "${s}"`),[0,0,0])}function fF(s){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,yS(n))}t.remove()}function Be(s){const{a:t,b:e,c:n,d:i,e:r,f:o}=s.getTransform();return[t,e,n,i,r,o]}function Zi(s){const{a:t,b:e,c:n,d:i,e:r,f:o}=s.getTransform().invertSelf();return[t,e,n,i,r,o]}function rc(s,t,e=!1,n=!0){if(t instanceof hp){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:o}=s,a=bn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${r}px`,u=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}n&&s.setAttribute("data-main-rotation",t.rotation)}class hy{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Go,Ka,Ri,Ya,kd,Fd,ym,NC,yn,DC,LC,eg,kC,fy;const jr=class jr{constructor(t){x(this,yn);x(this,Go,null);x(this,Ka,null);x(this,Ri);x(this,Ya,null);x(this,kd,null);w(this,Ri,t),h(jr,Fd)||w(jr,Fd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=w(this,Go,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Ri)._uiManager._signal;t.addEventListener("contextmenu",qi,{signal:e}),t.addEventListener("pointerdown",C(jr,ym,NC),{signal:e});const n=w(this,Ya,document.createElement("div"));n.className="buttons",t.append(n);const i=h(this,Ri).toolbarPosition;if(i){const{style:r}=t,o=h(this,Ri)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return C(this,yn,kC).call(this),t}get div(){return h(this,Go)}hide(){var t;h(this,Go).classList.add("hidden"),(t=h(this,Ka))==null||t.hideDropdown()}show(){var t;h(this,Go).classList.remove("hidden"),(t=h(this,kd))==null||t.shown()}async addAltText(t){const e=await t.render();C(this,yn,eg).call(this,e),h(this,Ya).prepend(e,h(this,yn,fy)),w(this,kd,t)}addColorPicker(t){w(this,Ka,t);const e=t.renderButton();C(this,yn,eg).call(this,e),h(this,Ya).prepend(e,h(this,yn,fy))}remove(){var t;h(this,Go).remove(),(t=h(this,Ka))==null||t.destroy(),w(this,Ka,null)}};Go=new WeakMap,Ka=new WeakMap,Ri=new WeakMap,Ya=new WeakMap,kd=new WeakMap,Fd=new WeakMap,ym=new WeakSet,NC=function(t){t.stopPropagation()},yn=new WeakSet,DC=function(t){h(this,Ri)._focusEventsAllowed=!1,zi(t)},LC=function(t){h(this,Ri)._focusEventsAllowed=!0,zi(t)},eg=function(t){const e=h(this,Ri)._uiManager._signal;t.addEventListener("focusin",C(this,yn,DC).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",C(this,yn,LC).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",qi,{signal:e})},kC=function(){const{editorType:t,_uiManager:e}=h(this,Ri),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",h(jr,Fd)[t]),C(this,yn,eg).call(this,n),n.addEventListener("click",i=>{e.delete()},{signal:e._signal}),h(this,Ya).append(n)},fy=function(){const t=document.createElement("div");return t.className="divider",t},x(jr,ym),x(jr,Fd,null);let dy=jr;var Ud,qa,Ja,_a,FC,UC,BC;class pF{constructor(t){x(this,_a);x(this,Ud,null);x(this,qa,null);x(this,Ja);w(this,Ja,t)}show(t,e,n){const[i,r]=C(this,_a,UC).call(this,e,n),{style:o}=h(this,qa)||w(this,qa,C(this,_a,FC).call(this));t.append(h(this,qa)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,qa).remove()}}Ud=new WeakMap,qa=new WeakMap,Ja=new WeakMap,_a=new WeakSet,FC=function(){const t=w(this,qa,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",qi,{signal:h(this,Ja)._signal});const e=w(this,Ud,document.createElement("div"));return e.className="buttons",t.append(e),C(this,_a,BC).call(this),t},UC=function(t,e){let n=0,i=0;for(const r of t){const o=r.y+r.height;if(o<n)continue;const a=r.x+(e?r.width:0);if(o>n){i=a,n=o;continue}e?a>i&&(i=a):a<i&&(i=a)}return[e?1-i:i,n]},BC=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=h(this,Ja)._signal;t.addEventListener("contextmenu",qi,{signal:n}),t.addEventListener("click",()=>{h(this,Ja).highlightSelection("floating_button")},{signal:n}),h(this,Ud).append(t)};function em(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}var Em;class gF{constructor(){x(this,Em,0)}get id(){return`${Y2}${rn(this,Em)._++}`}}Em=new WeakMap;var Xc,Bd,Gs,Wc,sg;const iA=class iA{constructor(){x(this,Wc);x(this,Xc,lF());x(this,Bd,0);x(this,Gs,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return ie(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return C(this,Wc,sg).call(this,`${e}_${n}_${i}_${r}`,t)}async getFromUrl(t){return C(this,Wc,sg).call(this,t,t)}async getFromBlob(t,e){const n=await e;return C(this,Wc,sg).call(this,t,n)}async getFromId(t){h(this,Gs)||w(this,Gs,new Map);const e=h(this,Gs).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,Gs)||w(this,Gs,new Map);let n=h(this,Gs).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${h(this,Xc)}_${rn(this,Bd)._++}`,refCounter:1,isSvg:!1},h(this,Gs).set(t,n),h(this,Gs).set(n.id,n),n}getSvgUrl(t){const e=h(this,Gs).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;h(this,Gs)||w(this,Gs,new Map);const e=h(this,Gs).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}(i=n.close)==null||i.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,Xc)}_`)}};Xc=new WeakMap,Bd=new WeakMap,Gs=new WeakMap,Wc=new WeakSet,sg=async function(t,e){h(this,Gs)||w(this,Gs,new Map);let n=h(this,Gs).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${h(this,Xc)}_${rn(this,Bd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(n.url=e,i=await bv(e,"blob")):e instanceof File?i=n.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const r=iA._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{n.bitmap=a,n.isSvg=!0,c()},o.onload=async()=>{const d=n.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Qt(i),n=null}return h(this,Gs).set(t,n),n&&h(this,Gs).set(n.id,n),n};let py=iA;var ss,zo,jd,$e;class mF{constructor(t=128){x(this,ss,[]);x(this,zo,!1);x(this,jd);x(this,$e,-1);w(this,jd,t)}add({cmd:t,undo:e,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&t(),h(this,zo))return;const l={cmd:t,undo:e,post:n,type:r};if(h(this,$e)===-1){h(this,ss).length>0&&(h(this,ss).length=0),w(this,$e,0),h(this,ss).push(l);return}if(o&&h(this,ss)[h(this,$e)].type===r){a&&(l.undo=h(this,ss)[h(this,$e)].undo),h(this,ss)[h(this,$e)]=l;return}const c=h(this,$e)+1;c===h(this,jd)?h(this,ss).splice(0,1):(w(this,$e,c),c<h(this,ss).length&&h(this,ss).splice(c)),h(this,ss).push(l)}undo(){if(h(this,$e)===-1)return;w(this,zo,!0);const{undo:t,post:e}=h(this,ss)[h(this,$e)];t(),e==null||e(),w(this,zo,!1),w(this,$e,h(this,$e)-1)}redo(){if(h(this,$e)<h(this,ss).length-1){w(this,$e,h(this,$e)+1),w(this,zo,!0);const{cmd:t,post:e}=h(this,ss)[h(this,$e)];t(),e==null||e(),w(this,zo,!1)}}hasSomethingToUndo(){return h(this,$e)!==-1}hasSomethingToRedo(){return h(this,$e)<h(this,ss).length-1}cleanType(t){if(h(this,$e)!==-1){for(let e=h(this,$e);e>=0;e--)if(h(this,ss)[e].type!==t){h(this,ss).splice(e+1,h(this,$e)-e),w(this,$e,e);return}h(this,ss).length=0,w(this,$e,-1)}}destroy(){w(this,ss,null)}}ss=new WeakMap,zo=new WeakMap,jd=new WeakMap,$e=new WeakMap;var Sm,jC;class dp{constructor(t){x(this,Sm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=bn.platform;for(const[n,i,r={}]of t)for(const o of n){const a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(C(this,Sm,jC).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:a=null}}=n;a&&!a(t,e)||(i.bind(t,...o,e)(),r||zi(e))}}Sm=new WeakSet,jC=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Am=class Am{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return fF(t),ie(this,"_colors",t)}convert(t){const e=yS(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((r,o)=>r===e[o]))return Am._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?wt.makeHexColor(...e):t}};_t(Am,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let gy=Am;var Kc,jn,ps,Os,Yc,Vr,qc,li,Xo,Qa,Jc,Za,rr,Oi,tl,Hd,Vd,Qc,$d,or,Wo,Zc,Ko,ar,wm,Yo,Gd,qo,el,zd,Xd,As,_e,$r,sl,Wd,Kd,Jo,lr,Gr,Yd,ci,ct,ng,my,HC,VC,ig,$C,GC,zC,vy,XC,by,yy,WC,an,kr,KC,YC,Ey,qC,Rh,Sy;const Bc=class Bc{constructor(t,e,n,i,r,o,a,l,c,u,d,f){x(this,ct);x(this,Kc,new AbortController);x(this,jn,null);x(this,ps,new Map);x(this,Os,new Map);x(this,Yc,null);x(this,Vr,null);x(this,qc,null);x(this,li,new mF);x(this,Xo,null);x(this,Qa,null);x(this,Jc,0);x(this,Za,new Set);x(this,rr,null);x(this,Oi,null);x(this,tl,new Set);_t(this,"_editorUndoBar",null);x(this,Hd,!1);x(this,Vd,!1);x(this,Qc,!1);x(this,$d,null);x(this,or,null);x(this,Wo,null);x(this,Zc,null);x(this,Ko,!1);x(this,ar,null);x(this,wm,new gF);x(this,Yo,!1);x(this,Gd,!1);x(this,qo,null);x(this,el,null);x(this,zd,null);x(this,Xd,null);x(this,As,qt.NONE);x(this,_e,new Set);x(this,$r,null);x(this,sl,null);x(this,Wd,null);x(this,Kd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,Jo,[0,0]);x(this,lr,null);x(this,Gr,null);x(this,Yd,null);x(this,ci,null);const p=this._signal=h(this,Kc).signal;w(this,Gr,t),w(this,Yd,e),w(this,Yc,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",g=>this.updateParams(g.type,g.value),{signal:p}),C(this,ct,$C).call(this),C(this,ct,WC).call(this),C(this,ct,vy).call(this),w(this,Vr,r.annotationStorage),w(this,$d,r.filterFactory),w(this,sl,o),w(this,Zc,a||null),w(this,Hd,l),w(this,Vd,c),w(this,Qc,u),w(this,Xd,d||null),this.viewParameters={realScale:Ca.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null}static get _keyboardManager(){const t=Bc.prototype,e=o=>h(o,Gr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),n=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ie(this,"_keyboardManager",new dp([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,Gr).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,Gr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n,i,r;(t=h(this,ci))==null||t.resolve(),w(this,ci,null),(e=h(this,Kc))==null||e.abort(),w(this,Kc,null),this._signal=null;for(const o of h(this,Os).values())o.destroy();h(this,Os).clear(),h(this,ps).clear(),h(this,tl).clear(),w(this,jn,null),h(this,_e).clear(),h(this,li).destroy(),(n=h(this,Yc))==null||n.destroy(),(i=h(this,ar))==null||i.hide(),w(this,ar,null),h(this,or)&&(clearTimeout(h(this,or)),w(this,or,null)),h(this,lr)&&(clearTimeout(h(this,lr)),w(this,lr,null)),(r=this._editorUndoBar)==null||r.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Xd)}get useNewAltTextFlow(){return h(this,Vd)}get useNewAltTextWhenAddingImage(){return h(this,Qc)}get hcmFilter(){return ie(this,"hcmFilter",h(this,sl)?h(this,$d).addHCMFilter(h(this,sl).foreground,h(this,sl).background):"none")}get direction(){return ie(this,"direction",getComputedStyle(h(this,Gr)).direction)}get highlightColors(){return ie(this,"highlightColors",h(this,Zc)?new Map(h(this,Zc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,Qa,t)}setMainHighlightColorPicker(t){w(this,zd,t)}editAltText(t,e=!1){var n;(n=h(this,Yc))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":w(this,Qc,e);break}}onPageChanging({pageNumber:t}){w(this,Jc,t-1)}focusMainContainer(){h(this,Gr).focus()}findParent(t,e){for(const n of h(this,Os).values()){const{x:i,y:r,width:o,height:a}=n.div.getBoundingClientRect();if(t>=i&&t<=i+o&&e>=r&&e<=r+a)return n}return null}disableUserSelect(t=!1){h(this,Yd).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,tl).add(t)}removeShouldRescale(t){h(this,tl).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Ca.PDF_TO_CSS_UNITS;for(const n of h(this,tl))n.onScaleChanging();(e=h(this,Qa))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}=e,a=e.toString(),c=C(this,ct,ng).call(this,e).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;e.empty();const d=C(this,ct,my).call(this,c),f=h(this,As)===qt.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(qt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Vr)&&!h(this,Vr).has(t.id)&&h(this,Vr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Ko)&&(w(this,Ko,!1),C(this,ct,ig).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,_e))if(e.div.contains(t)){w(this,el,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,el))return;const[t,e]=h(this,el);w(this,el,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){C(this,ct,vy).call(this),C(this,ct,by).call(this)}removeEditListeners(){C(this,ct,XC).call(this),C(this,ct,yy).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of h(this,Oi))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of h(this,Oi))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=h(this,jn))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of h(this,_e)){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of h(this,Oi))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Qt(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;r.push(c)}const o=()=>{for(const l of r)C(this,ct,Ey).call(this,l);C(this,ct,Sy).call(this,r)},a=()=>{for(const l of r)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){Qt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,As)!==qt.NONE&&!this.isEditorHandlingKeyboard&&Bc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Ko)&&(w(this,Ko,!1),C(this,ct,ig).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(C(this,ct,GC).call(this),C(this,ct,by).call(this),C(this,ct,an).call(this,{isEditing:h(this,As)!==qt.NONE,isEmpty:C(this,ct,Rh).call(this),hasSomethingToUndo:h(this,li).hasSomethingToUndo(),hasSomethingToRedo:h(this,li).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,ct,zC).call(this),C(this,ct,yy).call(this),C(this,ct,an).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Oi)){w(this,Oi,t);for(const e of h(this,Oi))C(this,ct,kr).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,wm).id}get currentLayer(){return h(this,Os).get(h(this,Jc))}getLayer(t){return h(this,Os).get(t)}get currentPageIndex(){return h(this,Jc)}addLayer(t){h(this,Os).set(t.pageIndex,t),h(this,Yo)?t.enable():t.disable()}removeLayer(t){h(this,Os).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){var i;if(h(this,As)!==t&&!(h(this,ci)&&(await h(this,ci).promise,!h(this,ci)))){if(w(this,ci,Promise.withResolvers()),w(this,As,t),t===qt.NONE){this.setEditingState(!1),C(this,ct,YC).call(this),(i=this._editorUndoBar)==null||i.hide(),h(this,ci).resolve();return}this.setEditingState(!0),await C(this,ct,KC).call(this),this.unselectAll();for(const r of h(this,Os).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),h(this,ci).resolve();return}for(const r of h(this,ps).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,ci).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,As)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(h(this,Oi)){switch(t){case he.CREATE:this.currentLayer.addNewEditor();return;case he.HIGHLIGHT_DEFAULT_COLOR:(n=h(this,zd))==null||n.updateColor(e);break;case he.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Wd)||w(this,Wd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const i of h(this,_e))i.updateParams(t,e);for(const i of h(this,Oi))i.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const o of h(this,ps).values())o.editorType===t&&o.show(e);(((r=h(this,Wd))==null?void 0:r.get(he.HIGHLIGHT_SHOW_ALL))??!0)!==e&&C(this,ct,kr).call(this,[[he.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Gd)!==t){w(this,Gd,t);for(const e of h(this,Os).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of h(this,ps).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return h(this,ps).get(t)}addEditor(t){h(this,ps).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,or)&&clearTimeout(h(this,or)),w(this,or,setTimeout(()=>{this.focusMainContainer(),w(this,or,null)},0))),h(this,ps).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Za).has(t.annotationElementId))&&((e=h(this,Vr))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Za).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Za).has(t)}removeDeletedAnnotationElement(t){h(this,Za).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,jn)!==t&&(w(this,jn,t),t&&C(this,ct,kr).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ct,qC)===t&&C(this,ct,kr).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){C(this,ct,kr).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(h(this,_e).has(t)){h(this,_e).delete(t),t.unselect(),C(this,ct,an).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,_e).add(t),t.select(),C(this,ct,kr).call(this,t.propertiesToUpdate),C(this,ct,an).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=h(this,Qa))==null||e.commitOrRemove();for(const n of h(this,_e))n!==t&&n.unselect();h(this,_e).clear(),h(this,_e).add(t),t.select(),C(this,ct,kr).call(this,t.propertiesToUpdate),C(this,ct,an).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,_e).has(t)}get firstSelectedEditor(){return h(this,_e).values().next().value}unselect(t){t.unselect(),h(this,_e).delete(t),C(this,ct,an).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,_e).size!==0}get isEnterHandled(){return h(this,_e).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;h(this,li).undo(),C(this,ct,an).call(this,{hasSomethingToUndo:h(this,li).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,ct,Rh).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){h(this,li).redo(),C(this,ct,an).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,li).hasSomethingToRedo(),isEmpty:C(this,ct,Rh).call(this)})}addCommands(t){h(this,li).add(t),C(this,ct,an).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,ct,Rh).call(this)})}cleanUndoStack(t){h(this,li).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...h(this,_e)],n=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},i=()=>{for(const o of e)C(this,ct,Ey).call(this,o)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=h(this,jn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,jn)||this.hasSelection}selectAll(){for(const t of h(this,_e))t.commit();C(this,ct,Sy).call(this,h(this,ps).values())}unselectAll(){var t;if(!(h(this,jn)&&(h(this,jn).commitOrRemove(),h(this,As)!==qt.NONE))&&!((t=h(this,Qa))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of h(this,_e))e.unselect();h(this,_e).clear(),C(this,ct,an).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;h(this,Jo)[0]+=t,h(this,Jo)[1]+=e;const[i,r]=h(this,Jo),o=[...h(this,_e)],a=1e3;h(this,lr)&&clearTimeout(h(this,lr)),w(this,lr,setTimeout(()=>{w(this,lr,null),h(this,Jo)[0]=h(this,Jo)[1]=0,this.addCommands({cmd:()=>{for(const l of o)h(this,ps).has(l.id)&&l.translateInPage(i,r)},undo:()=>{for(const l of o)h(this,ps).has(l.id)&&l.translateInPage(-i,-r)},mustExec:!1})},a));for(const l of o)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,rr,new Map);for(const t of h(this,_e))h(this,rr).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,rr))return!1;this.disableUserSelect(!1);const t=h(this,rr);w(this,rr,null);let e=!1;for(const[{x:i,y:r,pageIndex:o},a]of t)a.newX=i,a.newY=r,a.newPageIndex=o,e||(e=i!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!e)return!1;const n=(i,r,o,a)=>{if(h(this,ps).has(i.id)){const l=h(this,Os).get(a);l?i._setParentAndPosition(l,r,o):(i.pageIndex=a,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:a}]of t)n(i,r,o,a)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:a}]of t)n(i,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,rr))for(const n of h(this,rr).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,_e).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,jn)===t}getActive(){return h(this,jn)}getMode(){return h(this,As)}get imageManager(){return ie(this,"imageManager",new py)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,u=e.rangeCount;c<u;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(c,u,d,f)=>({x:(u-i)/o,y:1-(c+d-n)/r,width:f/o,height:d/r});break;case"180":a=(c,u,d,f)=>({x:1-(c+d-n)/r,y:1-(u+f-i)/o,width:d/r,height:f/o});break;case"270":a=(c,u,d,f)=>({x:1-(u+f-i)/o,y:(c-n)/r,width:f/o,height:d/r});break;default:a=(c,u,d,f)=>({x:(c-n)/r,y:(u-i)/o,width:d/r,height:f/o});break}const l=[];for(let c=0,u=e.rangeCount;c<u;c++){const d=e.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(a(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,qc)||w(this,qc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,qc))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=h(this,qc))==null?void 0:i.get(t.data.id);if(!e)return;const n=h(this,Vr).getRawValue(e);n&&(h(this,As)===qt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Kc=new WeakMap,jn=new WeakMap,ps=new WeakMap,Os=new WeakMap,Yc=new WeakMap,Vr=new WeakMap,qc=new WeakMap,li=new WeakMap,Xo=new WeakMap,Qa=new WeakMap,Jc=new WeakMap,Za=new WeakMap,rr=new WeakMap,Oi=new WeakMap,tl=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,Qc=new WeakMap,$d=new WeakMap,or=new WeakMap,Wo=new WeakMap,Zc=new WeakMap,Ko=new WeakMap,ar=new WeakMap,wm=new WeakMap,Yo=new WeakMap,Gd=new WeakMap,qo=new WeakMap,el=new WeakMap,zd=new WeakMap,Xd=new WeakMap,As=new WeakMap,_e=new WeakMap,$r=new WeakMap,sl=new WeakMap,Wd=new WeakMap,Kd=new WeakMap,Jo=new WeakMap,lr=new WeakMap,Gr=new WeakMap,Yd=new WeakMap,ci=new WeakMap,ct=new WeakSet,ng=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},my=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of h(this,Os).values())if(n.hasTextLayer(t))return n;return null},HC=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=C(this,ct,ng).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(h(this,ar)||w(this,ar,new pF(this)),h(this,ar).show(n,i,this.direction==="ltr"))},VC=function(){var r,o,a;const t=document.getSelection();if(!t||t.isCollapsed){h(this,$r)&&((r=h(this,ar))==null||r.hide(),w(this,$r,null),C(this,ct,an).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,$r))return;const i=C(this,ct,ng).call(this,t).closest(".textLayer");if(!i){h(this,$r)&&((o=h(this,ar))==null||o.hide(),w(this,$r,null),C(this,ct,an).call(this,{hasSelectedText:!1}));return}if((a=h(this,ar))==null||a.hide(),w(this,$r,e),C(this,ct,an).call(this,{hasSelectedText:!0}),!(h(this,As)!==qt.HIGHLIGHT&&h(this,As)!==qt.NONE)&&(h(this,As)===qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,Ko,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,As)===qt.HIGHLIGHT?C(this,ct,my).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&C(this,ct,ig).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},ig=function(t=""){h(this,As)===qt.HIGHLIGHT?this.highlightSelection(t):h(this,Hd)&&C(this,ct,HC).call(this)},$C=function(){document.addEventListener("selectionchange",C(this,ct,VC).bind(this),{signal:this._signal})},GC=function(){if(h(this,Wo))return;w(this,Wo,new AbortController);const t=this.combinedSignal(h(this,Wo));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},zC=function(){var t;(t=h(this,Wo))==null||t.abort(),w(this,Wo,null)},vy=function(){if(h(this,qo))return;w(this,qo,new AbortController);const t=this.combinedSignal(h(this,qo));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},XC=function(){var t;(t=h(this,qo))==null||t.abort(),w(this,qo,null)},by=function(){if(h(this,Xo))return;w(this,Xo,new AbortController);const t=this.combinedSignal(h(this,Xo));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},yy=function(){var t;(t=h(this,Xo))==null||t.abort(),w(this,Xo,null)},WC=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},an=function(t){Object.entries(t).some(([n,i])=>h(this,Kd)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Kd),t)}),h(this,As)===qt.HIGHLIGHT&&t.hasSelectedEditor===!1&&C(this,ct,kr).call(this,[[he.HIGHLIGHT_FREE,!0]]))},kr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},KC=async function(){if(!h(this,Yo)){w(this,Yo,!0);const t=[];for(const e of h(this,Os).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,ps).values())e.enable()}},YC=function(){if(this.unselectAll(),h(this,Yo)){w(this,Yo,!1);for(const t of h(this,Os).values())t.disable();for(const t of h(this,ps).values())t.disable()}},Ey=function(t){const e=h(this,Os).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},qC=function(){let t=null;for(t of h(this,_e));return t},Rh=function(){if(h(this,ps).size===0)return!0;if(h(this,ps).size===1)for(const t of h(this,ps).values())return t.isEmpty();return!1},Sy=function(t){for(const e of h(this,_e))e.unselect();h(this,_e).clear();for(const e of t)e.isEmpty()||(h(this,_e).add(e),e.select());C(this,ct,an).call(this,{hasSelectedEditor:this.hasSelection})},_t(Bc,"TRANSLATE_SMALL",1),_t(Bc,"TRANSLATE_BIG",10);let oc=Bc;var ws,cr,Mi,tu,ur,Hn,eu,hr,Pn,zr,nl,dr,Qo,Xi,Oh,rg;const cn=class cn{constructor(t){x(this,Xi);x(this,ws,null);x(this,cr,!1);x(this,Mi,null);x(this,tu,null);x(this,ur,null);x(this,Hn,null);x(this,eu,!1);x(this,hr,null);x(this,Pn,null);x(this,zr,null);x(this,nl,null);x(this,dr,!1);w(this,Pn,t),w(this,dr,t._uiManager.useNewAltTextFlow),h(cn,Qo)||w(cn,Qo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){cn._l10n??(cn._l10n=t)}async render(){const t=w(this,Mi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=w(this,tu,document.createElement("span"));t.append(e),h(this,dr)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(cn,Qo).missing),e.setAttribute("data-l10n-id",h(cn,Qo)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=h(this,Pn)._uiManager._signal;t.addEventListener("contextmenu",qi,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),h(this,Pn)._uiManager.editAltText(h(this,Pn)),h(this,dr)&&h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Xi,Oh)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(w(this,eu,!0),i(r))},{signal:n}),await C(this,Xi,rg).call(this),t}finish(){h(this,Mi)&&(h(this,Mi).focus({focusVisible:h(this,eu)}),w(this,eu,!1))}isEmpty(){return h(this,dr)?h(this,ws)===null:!h(this,ws)&&!h(this,cr)}hasData(){return h(this,dr)?h(this,ws)!==null||!!h(this,zr):this.isEmpty()}get guessedText(){return h(this,zr)}async setGuessedText(t){h(this,ws)===null&&(w(this,zr,t),w(this,nl,await cn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),C(this,Xi,rg).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,dr)||h(this,ws)){(e=h(this,hr))==null||e.remove(),w(this,hr,null);return}if(!h(this,hr)){const n=w(this,hr,document.createElement("div"));n.className="noAltTextBadge",h(this,Pn).div.append(n)}h(this,hr).classList.toggle("hidden",!t)}serialize(t){let e=h(this,ws);return!t&&h(this,zr)===e&&(e=h(this,nl)),{altText:e,decorative:h(this,cr),guessedText:h(this,zr),textWithDisclaimer:h(this,nl)}}get data(){return{altText:h(this,ws),decorative:h(this,cr)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(w(this,zr,n),w(this,nl,i)),!(h(this,ws)===t&&h(this,cr)===e)&&(r||(w(this,ws,t),w(this,cr,e)),C(this,Xi,rg).call(this))}toggle(t=!1){h(this,Mi)&&(!t&&h(this,Hn)&&(clearTimeout(h(this,Hn)),w(this,Hn,null)),h(this,Mi).disabled=!t)}shown(){h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Xi,Oh)}})}destroy(){var t,e;(t=h(this,Mi))==null||t.remove(),w(this,Mi,null),w(this,tu,null),w(this,ur,null),(e=h(this,hr))==null||e.remove(),w(this,hr,null)}};ws=new WeakMap,cr=new WeakMap,Mi=new WeakMap,tu=new WeakMap,ur=new WeakMap,Hn=new WeakMap,eu=new WeakMap,hr=new WeakMap,Pn=new WeakMap,zr=new WeakMap,nl=new WeakMap,dr=new WeakMap,Qo=new WeakMap,Xi=new WeakSet,Oh=function(){return h(this,ws)&&"added"||h(this,ws)===null&&this.guessedText&&"review"||"missing"},rg=async function(){var i,r,o;const t=h(this,Mi);if(!t)return;if(h(this,dr)){if(t.classList.toggle("done",!!h(this,ws)),t.setAttribute("data-l10n-id",h(cn,Qo)[h(this,Xi,Oh)]),(i=h(this,tu))==null||i.setAttribute("data-l10n-id",h(cn,Qo)[`${h(this,Xi,Oh)}-label`]),!h(this,ws)){(r=h(this,ur))==null||r.remove();return}}else{if(!h(this,ws)&&!h(this,cr)){t.classList.remove("done"),(o=h(this,ur))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,ur);if(!e){w(this,ur,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Pn).id}`;const a=100,l=h(this,Pn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Hn)),w(this,Hn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{w(this,Hn,setTimeout(()=>{w(this,Hn,null),h(this,ur).classList.add("show"),h(this,Pn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;h(this,Hn)&&(clearTimeout(h(this,Hn)),w(this,Hn,null)),(c=h(this,ur))==null||c.classList.remove("show")},{signal:l})}h(this,cr)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,ws)),e.parentNode||t.append(e);const n=h(this,Pn).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},x(cn,Qo,null),_t(cn,"_l10n",null);let sm=cn;var il,Ni,Ge,su,Zo,qd,rl,Ms,ol,ta,ea,Jd,al,ui,Qd,ll,Xr,fr,nu,iu,hi,Zd,Tm,Xt,Ay,tf,wy,Ty,JC,QC,Cy,xy,_y,Py,ZC,Iy,tx,ex,sx,Ry,Mh;const Ce=class Ce{constructor(t){x(this,Xt);x(this,il,null);x(this,Ni,null);x(this,Ge,null);x(this,su,!1);x(this,Zo,null);x(this,qd,"");x(this,rl,!1);x(this,Ms,null);x(this,ol,null);x(this,ta,null);x(this,ea,null);x(this,Jd,"");x(this,al,!1);x(this,ui,null);x(this,Qd,!1);x(this,ll,!1);x(this,Xr,!1);x(this,fr,null);x(this,nu,0);x(this,iu,0);x(this,hi,null);_t(this,"_editToolbar",null);_t(this,"_initialOptions",Object.create(null));_t(this,"_initialData",null);_t(this,"_isVisible",!0);_t(this,"_uiManager",null);_t(this,"_focusEventsAllowed",!0);x(this,Zd,!1);x(this,Tm,Ce._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,o];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ce.prototype._resizeWithKeyboard,e=oc.TRANSLATE_SMALL,n=oc.TRANSLATE_BIG;return ie(this,"_resizerKeyboardManager",new dp([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Ce.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new vF({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Ce._l10n??(Ce._l10n=t),Ce._l10nResizer||(Ce._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Ce._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Ce._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Re("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Zd)}set _isDraggable(t){var e;w(this,Zd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Tm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):C(this,Xt,Mh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,al)?w(this,al,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,o]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/o,this.fixAndSetPosition()}translate(t,e){C(this,Xt,Ay).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,ui)||w(this,ui,[this.x,this.y,this.width,this.height]),C(this,Xt,Ay).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,ui)||w(this,ui,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=n;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!h(this,ui)&&(h(this,ui)[0]!==this.x||h(this,ui)[1]!==this.y)}get _hasBeenResized(){return!!h(this,ui)&&(h(this,ui)[2]!==this.width||h(this,ui)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Ce,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,i]}=this;let{x:r,y:o,width:a,height:l}=this;if(a*=n,l*=i,r*=n,o*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(n-a,r)),o=Math.max(0,Math.min(i-l,o));break;case 90:r=Math.max(0,Math.min(n-l,r)),o=Math.min(i,Math.max(a,o));break;case 180:r=Math.min(n,Math.max(a,r)),o=Math.min(i,Math.max(l,o));break;case 270:r=Math.min(n,Math.max(l,r)),o=Math.max(0,Math.min(i-a,o));break}this.x=r/=n,this.y=o/=i;const[c,u]=this.getBaseTranslation();r+=c,o+=u,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return C(n=Ce,tf,wy).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return C(n=Ce,tf,wy).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/n).toFixed(2)}%`,h(this,rl)||(r.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),r=!h(this,rl)&&e.endsWith("%");if(i&&r)return;const[o,a]=this.parentDimensions;i||(t.width=`${(100*parseFloat(n)/o).toFixed(2)}%`),!h(this,rl)&&!r&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}_onResizing(){}altTextFinish(){var t;(t=h(this,Ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,ll)?this._editToolbar:(this._editToolbar=new dy(this),this.div.append(this._editToolbar.render()),h(this,Ge)&&await this._editToolbar.addAltText(h(this,Ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,Ge))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,Ge)||(sm.initialize(Ce._l10n),w(this,Ge,new sm(this)),h(this,il)&&(h(this,Ge).data=h(this,il),w(this,il,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,Ge))==null?void 0:t.data}set altTextData(t){h(this,Ge)&&(h(this,Ge).data=t)}get guessedAltText(){var t;return(t=h(this,Ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,Ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,Ge))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,Ge)&&!h(this,Ge).isEmpty()}hasAltTextData(){var t;return((t=h(this,Ge))==null?void 0:t.hasData())??!1}render(){var r;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,su)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),C(this,Xt,Iy).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),em(this,this.div,["pointerdown"]),(r=this._uiManager._editorUndoBar)==null||r.hide(),this.div}pointerdown(t){const{isMac:e}=bn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(w(this,al,!0),this._isDraggable){C(this,Xt,ZC).call(this,t);return}C(this,Xt,Py).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,fr)&&clearTimeout(h(this,fr)),w(this,fr,setTimeout(()=>{var t;w(this,fr,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/i,u=e/i,d=this.x*r,f=this.y*o,p=this.width*r,g=this.height*o;switch(n){case 0:return[d+c+a,o-f-u-g+l,d+c+p+a,o-f-u+l];case 90:return[d+u+a,o-f+c+l,d+u+g+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+u+l,d-c+a,o-f+u+g+l];case 270:return[d-u-g+a,o-f-c-p+l,d-u+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,o]=t,a=r-n,l=o-i;switch(this.rotation){case 0:return[n,e-o,a,l];case 90:return[n,e-i,l,a];case 180:return[r,e-i,a,l];case 270:return[r,e-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,ll,!0)}disableEditMode(){w(this,ll,!1)}isInEditMode(){return h(this,ll)}shouldGetKeyboardEvents(){return h(this,Xr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&i>0&&t<r&&n>0}rebuild(){C(this,Xt,Iy).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Re("An editor must be serializable")}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});i.rotation=t.rotation,w(i,il,t.accessibilityData);const[r,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(t.rect,o);return i.x=a/r,i.y=l/o,i.width=c/r,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,ea))==null||t.abort(),w(this,ea,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,fr)&&(clearTimeout(h(this,fr)),w(this,fr,null)),C(this,Xt,Mh).call(this),this.removeEditToolbar(),h(this,hi)){for(const e of h(this,hi).values())clearTimeout(e);w(this,hi,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,Xt,JC).call(this),h(this,Ms).classList.remove("hidden"),em(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),w(this,ta,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,Ms).children;if(!h(this,Ni)){w(this,Ni,Array.from(e));const o=C(this,Xt,tx).bind(this),a=C(this,Xt,ex).bind(this),l=this._uiManager._signal;for(const c of h(this,Ni)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",C(this,Xt,sx).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",Ce._l10nResizer[u])}}const n=h(this,Ni)[0];let i=0;for(const o of e){if(o===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ni).length/4);if(r!==i){if(r<i)for(let a=0;a<i-r;a++)h(this,Ms).append(h(this,Ms).firstChild);else if(r>i)for(let a=0;a<r-i;a++)h(this,Ms).firstChild.before(h(this,Ms).lastChild);let o=0;for(const a of e){const c=h(this,Ni)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",Ce._l10nResizer[c])}}C(this,Xt,Ry).call(this,0),w(this,Xr,!0),h(this,Ms).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Xr)&&C(this,Xt,_y).call(this,h(this,Jd),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){C(this,Xt,Mh).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(n=h(this,Ge))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,i,r;(t=h(this,Ms))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=h(this,Ge))==null||r.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,Qd)}set isEditing(t){w(this,Qd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){w(this,rl,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,hi)||w(this,hi,new Map);const{action:n}=t;let i=h(this,hi).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),h(this,hi).delete(n),h(this,hi).size===0&&w(this,hi,null)},Ce._telemetryTimeout),h(this,hi).set(n,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),w(this,su,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,su,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};il=new WeakMap,Ni=new WeakMap,Ge=new WeakMap,su=new WeakMap,Zo=new WeakMap,qd=new WeakMap,rl=new WeakMap,Ms=new WeakMap,ol=new WeakMap,ta=new WeakMap,ea=new WeakMap,Jd=new WeakMap,al=new WeakMap,ui=new WeakMap,Qd=new WeakMap,ll=new WeakMap,Xr=new WeakMap,fr=new WeakMap,nu=new WeakMap,iu=new WeakMap,hi=new WeakMap,Zd=new WeakMap,Tm=new WeakMap,Xt=new WeakSet,Ay=function([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},tf=new WeakSet,wy=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Ty=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},JC=function(){if(h(this,Ms))return;w(this,Ms,document.createElement("div")),h(this,Ms).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const i=document.createElement("div");h(this,Ms).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",C(this,Xt,QC).bind(this,n),{signal:e}),i.addEventListener("contextmenu",qi,{signal:e}),i.tabIndex=-1}this.div.prepend(h(this,Ms))},QC=function(t,e){var u;e.preventDefault();const{isMac:n}=bn.platform;if(e.button!==0||e.ctrlKey&&n)return;(u=h(this,Ge))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,w(this,ol,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,Xt,_y).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",zi,{passive:!1,signal:o}),window.addEventListener("contextmenu",qi,{signal:o}),w(this,ta,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var d;r.abort(),this.parent.togglePointerEvents(!0),(d=h(this,Ge))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,C(this,Xt,xy).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},Cy=function(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e;const[r,o]=this.parentDimensions;this.setDims(r*n,o*i),this.fixAndSetPosition(),this._onResized()},xy=function(){if(!h(this,ta))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=h(this,ta);w(this,ta,null);const r=this.x,o=this.y,a=this.width,l=this.height;r===t&&o===e&&a===n&&l===i||this.addCommands({cmd:C(this,Xt,Cy).bind(this,r,o,a,l),undo:C(this,Xt,Cy).bind(this,t,e,n,i),mustExec:!0})},_y=function(t,e){const[n,i]=this.parentDimensions,r=this.x,o=this.y,a=this.width,l=this.height,c=Ce.MIN_SIZE/n,u=Ce.MIN_SIZE/i,d=H=>Math.round(H*1e4)/1e4,f=C(this,Xt,Ty).call(this,this.rotation),p=(H,W)=>[f[0]*H+f[2]*W,f[1]*H+f[3]*W],g=C(this,Xt,Ty).call(this,360-this.rotation),m=(H,W)=>[g[0]*H+g[2]*W,g[1]*H+g[3]*W];let v,b,S=!1,E=!1;switch(t){case"topLeft":S=!0,v=(H,W)=>[0,0],b=(H,W)=>[H,W];break;case"topMiddle":v=(H,W)=>[H/2,0],b=(H,W)=>[H/2,W];break;case"topRight":S=!0,v=(H,W)=>[H,0],b=(H,W)=>[0,W];break;case"middleRight":E=!0,v=(H,W)=>[H,W/2],b=(H,W)=>[0,W/2];break;case"bottomRight":S=!0,v=(H,W)=>[H,W],b=(H,W)=>[0,0];break;case"bottomMiddle":v=(H,W)=>[H/2,W],b=(H,W)=>[H/2,0];break;case"bottomLeft":S=!0,v=(H,W)=>[0,W],b=(H,W)=>[H,0];break;case"middleLeft":E=!0,v=(H,W)=>[0,W/2],b=(H,W)=>[H,W/2];break}const A=v(a,l),T=b(a,l);let P=p(...T);const R=d(r+P[0]),O=d(o+P[1]);let _=1,N=1,L,F;if(e.fromKeyboard)({deltaX:L,deltaY:F}=e);else{const{screenX:H,screenY:W}=e,[At,Ht]=h(this,ol);[L,F]=this.screenToPageTranslation(H-At,W-Ht),h(this,ol)[0]=H,h(this,ol)[1]=W}if([L,F]=m(L/n,F/i),S){const H=Math.hypot(a,l);_=N=Math.max(Math.min(Math.hypot(T[0]-A[0]-L,T[1]-A[1]-F)/H,1/a,1/l),c/a,u/l)}else E?_=Math.max(c,Math.min(1,Math.abs(T[0]-A[0]-L)))/a:N=Math.max(u,Math.min(1,Math.abs(T[1]-A[1]-F)))/l;const U=d(a*_),V=d(l*N);P=p(...b(U,V));const J=R-P[0],j=O-P[1];h(this,ui)||w(this,ui,[this.x,this.y,this.width,this.height]),this.width=U,this.height=V,this.x=J,this.y=j,this.setDims(n*U,i*V),this.fixAndSetPosition(),this._onResizing()},Py=function(t){const{isMac:e}=bn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},ZC=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n),r={capture:!0,passive:!1,signal:i},o=l=>{n.abort(),w(this,Zo,null),w(this,al,!1),this._uiManager.endDragSession()||C(this,Xt,Py).call(this,l)};e&&(w(this,nu,t.clientX),w(this,iu,t.clientY),w(this,Zo,t.pointerId),w(this,qd,t.pointerType),window.addEventListener("pointermove",l=>{const{clientX:c,clientY:u,pointerId:d}=l;if(d!==h(this,Zo)){zi(l);return}const[f,p]=this.screenToPageTranslation(c-h(this,nu),u-h(this,iu));w(this,nu,c),w(this,iu,u),this._uiManager.dragSelectedEditors(f,p)},r),window.addEventListener("touchmove",zi,r),window.addEventListener("pointerdown",l=>{l.isPrimary&&l.pointerType===h(this,qd)&&o(l),zi(l)},r)),this._onStartDragging();const a=l=>{if(!h(this,Zo)||h(this,Zo)===l.pointerId){o(l),this._onStopDragging();return}zi(l)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},Iy=function(){if(h(this,ea)||!this.div)return;w(this,ea,new AbortController);const t=this._uiManager.combinedSignal(h(this,ea));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},tx=function(t){Ce._resizerKeyboardManager.exec(this,t)},ex=function(t){var e;h(this,Xr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,Ms)&&C(this,Xt,Mh).call(this)},sx=function(t){w(this,Jd,h(this,Xr)?t:"")},Ry=function(t){if(h(this,Ni))for(const e of h(this,Ni))e.tabIndex=t},Mh=function(){w(this,Xr,!1),C(this,Xt,Ry).call(this,-1),C(this,Xt,xy).call(this)},x(Ce,tf),_t(Ce,"_l10n",null),_t(Ce,"_l10nResizer",null),_t(Ce,"_borderLineWidth",-1),_t(Ce,"_colorManager",new gy),_t(Ce,"_zIndex",1),_t(Ce,"_telemetryTimeout",1e3);let We=Ce;class vF extends We{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const L0=3285377520,ii=4294901760,tr=65535;class nx{constructor(t){this.h1=t?t&4294967295:L0,this.h2=t?t&4294967295:L0}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let m=0,v=t.length;m<v;m++){const b=t.charCodeAt(m);b<=255?e[n++]=b:(e[n++]=b>>>8,e[n++]=b&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,o=new Uint32Array(e.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&tr,g=f&tr;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*d&ii|a*p&tr,a=a<<15|a>>>17,a=a*f&ii|a*g&tr,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[m],l=l*d&ii|l*p&tr,l=l<<15|l>>>17,l=l*f&ii|l*g&tr,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,r){case 3:a^=e[i*4+2]<<16;case 2:a^=e[i*4+1]<<8;case 1:a^=e[i*4],a=a*d&ii|a*p&tr,a=a<<15|a>>>17,a=a*f&ii|a*g&tr,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ii|t*36045&tr,e=e*4283543511&ii|((e<<16|t>>>16)*2950163797&ii)>>>16,t^=e>>>1,t=t*444984403&ii|t*60499&tr,e=e*3301882366&ii|((e<<16|t>>>16)*3120437893&ii)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Oy=Object.freeze({map:null,hash:"",transfer:void 0});var cl,ul,Ts,Cm,ix;class ES{constructor(){x(this,Cm);x(this,cl,!1);x(this,ul,null);x(this,Ts,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=h(this,Ts).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return h(this,Ts).get(t)}remove(t){if(h(this,Ts).delete(t),h(this,Ts).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Ts).values())if(e instanceof We)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=h(this,Ts).get(t);let i=!1;if(n!==void 0)for(const[r,o]of Object.entries(e))n[r]!==o&&(i=!0,n[r]=o);else i=!0,h(this,Ts).set(t,e);i&&C(this,Cm,ix).call(this),e instanceof We&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Ts).has(t)}getAll(){return h(this,Ts).size>0?pS(h(this,Ts)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return h(this,Ts).size}resetModified(){h(this,cl)&&(w(this,cl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new rx(this)}get serializable(){if(h(this,Ts).size===0)return Oy;const t=new Map,e=new nx,n=[],i=Object.create(null);let r=!1;for(const[o,a]of h(this,Ts)){const l=a instanceof We?a.serialize(!1,i):a;l&&(t.set(o,l),e.update(`${o}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const o of t.values())o.bitmap&&n.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Oy}get editorStats(){let t=null;const e=new Map;for(const n of h(this,Ts).values()){if(!(n instanceof We))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[n,i]of e)t[n]=i.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){w(this,ul,null)}get modifiedIds(){if(h(this,ul))return h(this,ul);const t=[];for(const e of h(this,Ts).values())!(e instanceof We)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return w(this,ul,{ids:new Set(t),hash:t.join(",")})}}cl=new WeakMap,ul=new WeakMap,Ts=new WeakMap,Cm=new WeakSet,ix=function(){h(this,cl)||(w(this,cl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ef;class rx extends ES{constructor(e){super();x(this,ef);const{map:n,hash:i,transfer:r}=e.serializable,o=structuredClone(n,r?{transfer:r}:null);w(this,ef,{map:o,hash:i,transfer:r})}get print(){Re("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,ef)}get modifiedIds(){return ie(this,"modifiedIds",{ids:new Set,hash:""})}}ef=new WeakMap;var ru;class bF{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,ru,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,ru).has(t.loadedName))){if(us(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=t,o=new FontFace(n,i,r);this.addNativeFontFace(o);try{await o.load(),h(this,ru).add(n),e==null||e(t)}catch{Qt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Re("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Qt(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ie(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(mn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),ie(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(us(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ie(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(A,T){return A.charCodeAt(T)<<24|A.charCodeAt(T+1)<<16|A.charCodeAt(T+2)<<8|A.charCodeAt(T+3)&255}function i(A,T,P,R){const O=A.substring(0,T),_=A.substring(T+P);return O+R+_}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(A,T){if(++c>30){Qt("Load test font never loaded."),T();return}if(l.font="30px "+A,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(u.bind(null,A,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,m=1482184792;let v=n(f,g);for(r=0,o=d.length-3;r<o;r+=4)v=v-m+n(d,r)|0;r<d.length&&(v=v-m+n(d+"XXX",r)|0),f=i(f,g,4,nF(v));const b=`url(data:font/opentype;base64,${btoa(f)});`,S=`@font-face {font-family:"${d}";src:${b}}`;this.insertRule(S);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const A of[t.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=A,E.append(T)}this._document.body.append(E),u(d,()=>{E.remove(),e.complete()})}}ru=new WeakMap;class yF{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${cF(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){Qt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,o){};const i=[];for(let r=0,o=n.length;r<o;)switch(n[r++]){case Nr.BEZIER_CURVE_TO:{const[a,l,c,u,d,f]=n.slice(r,r+6);i.push(p=>p.bezierCurveTo(a,l,c,u,d,f)),r+=6}break;case Nr.MOVE_TO:{const[a,l]=n.slice(r,r+2);i.push(c=>c.moveTo(a,l)),r+=2}break;case Nr.LINE_TO:{const[a,l]=n.slice(r,r+2);i.push(c=>c.lineTo(a,l)),r+=2}break;case Nr.QUADRATIC_CURVE_TO:{const[a,l,c,u]=n.slice(r,r+4);i.push(d=>d.quadraticCurveTo(a,l,c,u)),r+=4}break;case Nr.RESTORE:i.push(a=>a.restore());break;case Nr.SAVE:i.push(a=>a.save());break;case Nr.SCALE:us(i.length===2,"Scale command is only valid at the third position.");break;case Nr.TRANSFORM:{const[a,l,c,u,d,f]=n.slice(r,r+6);i.push(p=>p.transform(a,l,c,u,d,f)),r+=6}break;case Nr.TRANSLATE:{const[a,l]=n.slice(r,r+2);i.push(c=>c.translate(a,l)),r+=2}break}return i.push(r=>r.closePath()),this.compiledGlyphs[e]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}var sf;class ox{constructor({enableHWA:t=!1}){x(this,sf,!1);w(this,sf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!h(this,sf)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Re("Abstract method `_createCanvas` called.")}}sf=new WeakMap;class EF extends ox{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class ax{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Re("Abstract method `_fetch` called.")}}class lx extends ax{async _fetch(t){const e=await bv(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):vv(e)}}class cx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(t=!1){}}var hl,ou,Wr,Kr,zs,dl,fl,pt,Vs,Nh,Pc,og,Ic,ux,My,Rc,Dh,Lh,Ny,kh;class SF extends cx{constructor({docId:e,ownerDocument:n=globalThis.document}){super();x(this,pt);x(this,hl);x(this,ou);x(this,Wr);x(this,Kr);x(this,zs);x(this,dl);x(this,fl,0);w(this,Kr,e),w(this,zs,n)}addFilter(e){if(!e)return"none";let n=h(this,pt,Vs).get(e);if(n)return n;const[i,r,o]=C(this,pt,og).call(this,e),a=e.length===1?i:`${i}${r}${o}`;if(n=h(this,pt,Vs).get(a),n)return h(this,pt,Vs).set(e,n),n;const l=`g_${h(this,Kr)}_transfer_map_${rn(this,fl)._++}`,c=C(this,pt,Ic).call(this,l);h(this,pt,Vs).set(e,c),h(this,pt,Vs).set(a,c);const u=C(this,pt,Rc).call(this,l);return C(this,pt,Lh).call(this,i,r,o,u),c}addHCMFilter(e,n){var g;const i=`${e}-${n}`,r="base";let o=h(this,pt,Nh).get(r);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},h(this,pt,Nh).set(r,o)),!e||!n))return o.url;const a=C(this,pt,kh).call(this,e);e=wt.makeHexColor(...a);const l=C(this,pt,kh).call(this,n);if(n=wt.makeHexColor(...l),h(this,pt,Pc).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return o.url;const c=new Array(256);for(let m=0;m<=255;m++){const v=m/255;c[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,Kr)}_hcm_filter`,f=o.filter=C(this,pt,Rc).call(this,d);C(this,pt,Lh).call(this,u,u,u,f),C(this,pt,My).call(this,f);const p=(m,v)=>{const b=a[m]/255,S=l[m]/255,E=new Array(v+1);for(let A=0;A<=v;A++)E[A]=b+A/v*(S-b);return E.join(",")};return C(this,pt,Lh).call(this,p(0,5),p(1,5),p(2,5),f),o.url=C(this,pt,Ic).call(this,d),o.url}addAlphaFilter(e){let n=h(this,pt,Vs).get(e);if(n)return n;const[i]=C(this,pt,og).call(this,[e]),r=`alpha_${i}`;if(n=h(this,pt,Vs).get(r),n)return h(this,pt,Vs).set(e,n),n;const o=`g_${h(this,Kr)}_alpha_map_${rn(this,fl)._++}`,a=C(this,pt,Ic).call(this,o);h(this,pt,Vs).set(e,a),h(this,pt,Vs).set(r,a);const l=C(this,pt,Rc).call(this,o);return C(this,pt,Ny).call(this,i,l),a}addLuminosityFilter(e){let n=h(this,pt,Vs).get(e||"luminosity");if(n)return n;let i,r;if(e?([i]=C(this,pt,og).call(this,[e]),r=`luminosity_${i}`):r="luminosity",n=h(this,pt,Vs).get(r),n)return h(this,pt,Vs).set(e,n),n;const o=`g_${h(this,Kr)}_luminosity_map_${rn(this,fl)._++}`,a=C(this,pt,Ic).call(this,o);h(this,pt,Vs).set(e,a),h(this,pt,Vs).set(r,a);const l=C(this,pt,Rc).call(this,o);return C(this,pt,ux).call(this,l),e&&C(this,pt,Ny).call(this,i,l),a}addHighlightHCMFilter(e,n,i,r,o){var S;const a=`${n}-${i}-${r}-${o}`;let l=h(this,pt,Nh).get(e);if((l==null?void 0:l.key)===a||(l?((S=l.filter)==null||S.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},h(this,pt,Nh).set(e,l)),!n||!i))return l.url;const[c,u]=[n,i].map(C(this,pt,kh).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[r,o].map(C(this,pt,kh).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,pt,Pc).style.color="";const m=(E,A,T)=>{const P=new Array(256),R=(f-d)/T,O=E/255,_=(A-E)/(255*T);let N=0;for(let L=0;L<=T;L++){const F=Math.round(d+L*R),U=O+L*_;for(let V=N;V<=F;V++)P[V]=U;N=F+1}for(let L=N;L<256;L++)P[L]=P[N-1];return P.join(",")},v=`g_${h(this,Kr)}_hcm_${e}_filter`,b=l.filter=C(this,pt,Rc).call(this,v);return C(this,pt,My).call(this,b),C(this,pt,Lh).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),b),l.url=C(this,pt,Ic).call(this,v),l.url}destroy(e=!1){var n,i,r,o;e&&((n=h(this,dl))!=null&&n.size)||((i=h(this,Wr))==null||i.parentNode.parentNode.remove(),w(this,Wr,null),(r=h(this,ou))==null||r.clear(),w(this,ou,null),(o=h(this,dl))==null||o.clear(),w(this,dl,null),w(this,fl,0))}}hl=new WeakMap,ou=new WeakMap,Wr=new WeakMap,Kr=new WeakMap,zs=new WeakMap,dl=new WeakMap,fl=new WeakMap,pt=new WeakSet,Vs=function(){return h(this,ou)||w(this,ou,new Map)},Nh=function(){return h(this,dl)||w(this,dl,new Map)},Pc=function(){if(!h(this,Wr)){const e=h(this,zs).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=h(this,zs).createElementNS(Lr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),w(this,Wr,h(this,zs).createElementNS(Lr,"defs")),e.append(i),i.append(h(this,Wr)),h(this,zs).body.append(e)}return h(this,Wr)},og=function(e){if(e.length===1){const c=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[n,i,r]=e,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=n[c]/255,a[c]=i[c]/255,l[c]=r[c]/255;return[o.join(","),a.join(","),l.join(",")]},Ic=function(e){if(h(this,hl)===void 0){w(this,hl,"");const n=h(this,zs).URL;n!==h(this,zs).baseURI&&(yv(n)?Qt('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,hl,n.split("#",1)[0]))}return`url(${h(this,hl)}#${e})`},ux=function(e){const n=h(this,zs).createElementNS(Lr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},My=function(e){const n=h(this,zs).createElementNS(Lr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Rc=function(e){const n=h(this,zs).createElementNS(Lr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),h(this,pt,Pc).append(n),n},Dh=function(e,n,i){const r=h(this,zs).createElementNS(Lr,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)},Lh=function(e,n,i,r){const o=h(this,zs).createElementNS(Lr,"feComponentTransfer");r.append(o),C(this,pt,Dh).call(this,o,"feFuncR",e),C(this,pt,Dh).call(this,o,"feFuncG",n),C(this,pt,Dh).call(this,o,"feFuncB",i)},Ny=function(e,n){const i=h(this,zs).createElementNS(Lr,"feComponentTransfer");n.append(i),C(this,pt,Dh).call(this,i,"feFuncA",e)},kh=function(e){return h(this,pt,Pc).style.color=e,yS(getComputedStyle(h(this,pt,Pc)).getPropertyValue("color"))};class hx{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Re("Abstract method `_fetch` called.")}}class dx extends hx{async _fetch(t){const e=await bv(t,"arraybuffer");return new Uint8Array(e)}}async function fx(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class AF extends cx{}class wF extends ox{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class TF extends ax{async _fetch(t){return fx(t)}}class CF extends hx{async _fetch(t){return fx(t)}}const Ys={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Dy(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,n),s.clip(i)}class SS{getPattern(){Re("Abstract method `getPattern` called.")}}class xF extends SS{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===Ys.STROKE||i===Ys.FILL){const o=e.current.getClippedPathBoundingBox(i,Be(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=e.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),n=wt.transform(n,[1,0,0,1,o[0],o[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Dy(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else Dy(t,this._bbox),r=this._createGradient(t);return r}}function fb(s,t,e,n,i,r,o,a){const l=t.coords,c=t.colors,u=s.data,d=s.width*4;let f;l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=o,o=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=o,o=a,a=f),l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=o,o=f);const p=(l[e]+t.offsetX)*t.scaleX,g=(l[e+1]+t.offsetY)*t.scaleY,m=(l[n]+t.offsetX)*t.scaleX,v=(l[n+1]+t.offsetY)*t.scaleY,b=(l[i]+t.offsetX)*t.scaleX,S=(l[i+1]+t.offsetY)*t.scaleY;if(g>=S)return;const E=c[r],A=c[r+1],T=c[r+2],P=c[o],R=c[o+1],O=c[o+2],_=c[a],N=c[a+1],L=c[a+2],F=Math.round(g),U=Math.round(S);let V,J,j,H,W,At,Ht,Mt;for(let Ct=F;Ct<=U;Ct++){if(Ct<v){const G=Ct<g?0:(g-Ct)/(g-v);V=p-(p-m)*G,J=E-(E-P)*G,j=A-(A-R)*G,H=T-(T-O)*G}else{let G;Ct>S?G=1:v===S?G=0:G=(v-Ct)/(v-S),V=m-(m-b)*G,J=P-(P-_)*G,j=R-(R-N)*G,H=O-(O-L)*G}let Ft;Ct<g?Ft=0:Ct>S?Ft=1:Ft=(g-Ct)/(g-S),W=p-(p-b)*Ft,At=E-(E-_)*Ft,Ht=A-(A-N)*Ft,Mt=T-(T-L)*Ft;const me=Math.round(Math.min(V,W)),Ee=Math.round(Math.max(V,W));let Pt=d*Ct+me*4;for(let G=me;G<=Ee;G++)Ft=(V-G)/(V-W),Ft<0?Ft=0:Ft>1&&(Ft=1),u[Pt++]=J-(J-At)*Ft|0,u[Pt++]=j-(j-Ht)*Ft|0,u[Pt++]=H-(H-Mt)*Ft|0,u[Pt++]=255}}function _F(s,t,e){const n=t.coords,i=t.colors;let r,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(n.length/a)-1,c=a-1;for(r=0;r<l;r++){let u=r*a;for(let d=0;d<c;d++,u++)fb(s,e,n[u],n[u+1],n[u+a],i[u],i[u+1],i[u+a]),fb(s,e,n[u+a+1],n[u+1],n[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(r=0,o=n.length;r<o;r+=3)fb(s,e,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class PF extends SS{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=c/d,g=u/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/g},v=d+2*2,b=f+2*2,S=n.getCanvas("mesh",v,b),E=S.context,A=E.createImageData(d,f);if(e){const P=A.data;for(let R=0,O=P.length;R<O;R+=4)P[R]=e[0],P[R+1]=e[1],P[R+2]=e[2],P[R+3]=255}for(const P of this._figures)_F(A,P,m);return E.putImageData(A,2,2),{canvas:S.canvas,offsetX:a-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(t,e,n,i){Dy(t,this._bbox);let r;if(i===Ys.SHADING)r=wt.singularValueDecompose2dScale(Be(t));else if(r=wt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const a=wt.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}const o=this._createMeshCanvas(r,i===Ys.SHADING?null:this._background,e.cachedCanvases);return i!==Ys.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class IF extends SS{getPattern(){return"hotpink"}}function RF(s){switch(s[0]){case"RadialAxial":return new xF(s);case"Mesh":return new PF(s);case"Dummy":return new IF}throw new Error(`Unknown IR type: ${s[0]}`)}const k0={COLORED:1,UNCOLORED:2},xm=class xm{constructor(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:i,tilingType:r,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),gv("TilingType: "+r);const u=e[0],d=e[1],f=e[2],p=e[3],g=f-u,m=p-d,v=wt.singularValueDecompose2dScale(this.matrix),b=wt.singularValueDecompose2dScale(this.baseTransform),S=v[0]*b[0],E=v[1]*b[1];let A=g,T=m,P=!1,R=!1;const O=Math.ceil(l*S),_=Math.ceil(c*E),N=Math.ceil(g*S),L=Math.ceil(m*E);O>=N?A=l:P=!0,_>=L?T=c:R=!0;const F=this.getSizeAndScale(A,this.ctx.canvas.width,S),U=this.getSizeAndScale(T,this.ctx.canvas.height,E),V=t.cachedCanvases.getCanvas("pattern",F.size,U.size),J=V.context,j=a.createCanvasGraphics(J);if(j.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(j,i,o),J.translate(-F.scale*u,-U.scale*d),j.transform(F.scale,0,0,U.scale,0,0),J.save(),this.clipBbox(j,u,d,f,p),j.baseTransform=Be(j.ctx),j.executeOperatorList(n),j.endDrawing(),J.restore(),P||R){const H=V.canvas;P&&(A=l),R&&(T=c);const W=this.getSizeAndScale(A,this.ctx.canvas.width,S),At=this.getSizeAndScale(T,this.ctx.canvas.height,E),Ht=W.size,Mt=At.size,Ct=t.cachedCanvases.getCanvas("pattern-workaround",Ht,Mt),Ft=Ct.context,me=P?Math.floor(g/l):0,Ee=R?Math.floor(m/c):0;for(let Pt=0;Pt<=me;Pt++)for(let G=0;G<=Ee;G++)Ft.drawImage(H,Ht*Pt,Mt*G,Ht,Mt,0,0,Ht,Mt);return{canvas:Ct.canvas,scaleX:W.scale,scaleY:At.scale,offsetX:u,offsetY:d}}return{canvas:V.canvas,scaleX:F.scale,scaleY:U.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,e,n){const i=Math.max(xm.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const o=i-e,a=r-n;t.ctx.rect(e,n,o,a),t.current.updateRectMinMax(Be(t.ctx),[e,n,i,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case k0.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case k0.UNCOLORED:const a=wt.makeHexColor(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new sF(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,i){let r=n;i!==Ys.SHADING&&(r=wt.transform(r,e.baseTransform),this.matrix&&(r=wt.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=t.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};_t(xm,"MAX_PATTERN_SIZE",3e3);let Ly=xm;function OF({src:s,srcPos:t=0,dest:e,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=bn.isLittleEndian?4278190080:255,[l,c]=o?[r,a]:[a,r],u=n>>3,d=n&7,f=s.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<i;g++){for(const v=t+u;t<v;t++){const b=t<f?s[t]:255;e[p++]=b&128?c:l,e[p++]=b&64?c:l,e[p++]=b&32?c:l,e[p++]=b&16?c:l,e[p++]=b&8?c:l,e[p++]=b&4?c:l,e[p++]=b&2?c:l,e[p++]=b&1?c:l}if(d===0)continue;const m=t<f?s[t++]:255;for(let v=0;v<d;v++)e[p++]=m&1<<7-v?c:l}return{srcPos:t,destPos:p}}const F0=16,U0=100,MF=15,B0=10,j0=1e3,Nn=16;function NF(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},s.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},s.transform=function(n,i,r,o,a,l){t.transform(n,i,r,o,a,l),this.__originalTransform(n,i,r,o,a,l)},s.setTransform=function(n,i,r,o,a,l){t.setTransform(n,i,r,o,a,l),this.__originalSetTransform(n,i,r,o,a,l)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(n){t.rotate(n),this.__originalRotate(n)},s.clip=function(n){t.clip(n),this.__originalClip(n)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,i,r,o,a){t.bezierCurveTo(e,n,i,r,o,a),this.__originalBezierCurveTo(e,n,i,r,o,a)},s.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class DF{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Mp(s,t,e,n,i,r,o,a,l,c){const[u,d,f,p,g,m]=Be(s);if(d===0&&f===0){const S=o*u+g,E=Math.round(S),A=a*p+m,T=Math.round(A),P=(o+l)*u+g,R=Math.abs(Math.round(P)-E)||1,O=(a+c)*p+m,_=Math.abs(Math.round(O)-T)||1;return s.setTransform(Math.sign(u),0,0,Math.sign(p),E,T),s.drawImage(t,e,n,i,r,0,0,R,_),s.setTransform(u,d,f,p,g,m),[R,_]}if(u===0&&p===0){const S=a*f+g,E=Math.round(S),A=o*d+m,T=Math.round(A),P=(a+c)*f+g,R=Math.abs(Math.round(P)-E)||1,O=(o+l)*d+m,_=Math.abs(Math.round(O)-T)||1;return s.setTransform(0,Math.sign(d),Math.sign(f),0,E,T),s.drawImage(t,e,n,i,r,0,0,_,R),s.setTransform(u,d,f,p,g,m),[_,R]}s.drawImage(t,e,n,i,r,o,a,l,c);const v=Math.hypot(u,d),b=Math.hypot(f,p);return[v*l,b*c]}function LF(s){const{width:t,height:e}=s;if(t>j0||e>j0)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let o=new Uint8Array(r*(e+1)),a,l,c;const u=t+7&-8;let d=new Uint8Array(u*e),f=0;for(const b of s.data){let S=128;for(;S>0;)d[f++]=b&S?0:255,S>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<e;a++){f=a*u,c=a*r,d[f-u]!==d[f]&&(o[c]=d[f]?1:8,++p);let b=(d[f]?4:0)+(d[f-u]?8:0);for(l=1;l<t;l++)b=(b>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0),i[b]&&(o[c+l]=i[b],++p),f++;if(d[f-u]!==d[f]&&(o[c+l]=d[f]?2:4,++p),p>n)return null}for(f=u*(e-1),c=a*r,d[f]!==0&&(o[c]=8,++p),l=1;l<t;l++)d[f]!==d[f+1]&&(o[c+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[c+l]=4,++p),p>n)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=new Path2D;for(a=0;p&&a<=e;a++){let b=a*r;const S=b+t;for(;b<S&&!o[b];)b++;if(b===S)continue;m.moveTo(b%r,a);const E=b;let A=o[b];do{const T=g[A];do b+=T;while(!o[b]);const P=o[b];P!==5&&P!==10?(A=P,o[b]=0):(A=P&51*A>>4,o[b]&=A>>2|A<<2),m.lineTo(b%r,b/r|0),o[b]||--p}while(E!==b);--a}return d=null,o=null,function(b){b.save(),b.scale(1/t,-1/e),b.translate(0,-e),b.fill(m),b.beginPath(),b.restore()}}class H0{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=RC,this.textMatrixScale=1,this.fontMatrix=ay,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Hs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=wt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=wt.applyTransform(e,t),i=wt.applyTransform(e.slice(2),t),r=wt.applyTransform([e[0],e[3]],t),o=wt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],r[0],o[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],o[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],o[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],o[1])}updateScalingPathMinMax(t,e){wt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,r,o,a,l,c,u){const d=wt.bezierBoundingBox(e,n,i,r,o,a,l,c,u);u||this.updateRectMinMax(t,d)}getPathBoundingBox(t=Ys.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ys.STROKE){e||Re("Stroke bounding box must include transform.");const i=wt.singularValueDecompose2dScale(e),r=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=wt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ys.FILL,e=null){return wt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function V0(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,i=e%Nn,r=(e-i)/Nn,o=i===0?r:r+1,a=s.createImageData(n,Nn);let l=0,c;const u=t.data,d=a.data;let f,p,g,m;if(t.kind===Zp.GRAYSCALE_1BPP){const v=u.byteLength,b=new Uint32Array(d.buffer,0,d.byteLength>>2),S=b.length,E=n+7>>3,A=4294967295,T=bn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<r?Nn:i,c=0,p=0;p<g;p++){const P=v-l;let R=0;const O=P>E?n:P*8-7,_=O&-8;let N=0,L=0;for(;R<_;R+=8)L=u[l++],b[c++]=L&128?A:T,b[c++]=L&64?A:T,b[c++]=L&32?A:T,b[c++]=L&16?A:T,b[c++]=L&8?A:T,b[c++]=L&4?A:T,b[c++]=L&2?A:T,b[c++]=L&1?A:T;for(;R<O;R++)N===0&&(L=u[l++],N=128),b[c++]=L&N?A:T,N>>=1}for(;c<S;)b[c++]=0;s.putImageData(a,0,f*Nn)}}else if(t.kind===Zp.RGBA_32BPP){for(p=0,m=n*Nn*4,f=0;f<r;f++)d.set(u.subarray(l,l+m)),l+=m,s.putImageData(a,0,p),p+=Nn;f<o&&(m=n*i*4,d.set(u.subarray(l,l+m)),s.putImageData(a,0,p))}else if(t.kind===Zp.RGB_24BPP)for(g=Nn,m=n*g,f=0;f<o;f++){for(f>=r&&(g=i,m=n*g),c=0,p=m;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;s.putImageData(a,0,f*Nn)}else throw new Error(`bad image kind: ${t.kind}`)}function $0(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,i=e%Nn,r=(e-i)/Nn,o=i===0?r:r+1,a=s.createImageData(n,Nn);let l=0;const c=t.data,u=a.data;for(let d=0;d<o;d++){const f=d<r?Nn:i;({srcPos:l}=OF({src:c,srcPos:l,dest:u,width:n,height:f,nonBlackColor:0})),s.putImageData(a,0,d*Nn)}}function Ah(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Np(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!mn){const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}}function G0(s,t){if(t)return!0;const e=wt.singularValueDecompose2dScale(s);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Ca.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const kF=["butt","round","square"],FF=["miter","round","bevel"],UF={},z0={};var Pa,ky,Fy;const rA=class rA{constructor(t,e,n,i,r,{optionalContentConfig:o,markedContentStack:a=null},l,c){x(this,Pa);this.ctx=t,this.current=new H0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new DF(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,n){const l=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Be(this.compositeCtx))}this.ctx.save(),Np(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Be(this.ctx)}executeOperatorList(t,e,n,i){const r=t.argsArray,o=t.fnArray;let a=e||0;const l=r.length;if(l===a)return a;const c=l-a>B0&&typeof n=="function",u=c?Date.now()+MF:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(g=o[a],g!==Ii.dependency)this[g].apply(this,r[a]);else for(const m of r[a]){const v=m.startsWith("g_")?f:p;if(!v.has(m))return v.get(m,n),a}if(a++,a===l)return a;if(c&&++d>B0){if(Date.now()>u)return n(),a;d=0}}}endDrawing(){C(this,Pa,ky).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),C(this,Pa,Fy).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=n,l=i,c="prescale1",u,d;for(;r>2&&a>1||o>2&&l>1;){let f=a,p=l;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,a,l,0,0,f,p),t=u.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:i}=t,r=this.current.fillColor,o=this.current.patternFill,a=Be(e);let l,c,u,d;if((t.bitmap||t.data)&&t.count>1){const O=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),r]),l=this._cachedBitmapsMap.get(O),l||(l=new Map,this._cachedBitmapsMap.set(O,l));const _=l.get(c);if(_&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),L=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:_,offsetX:N,offsetY:L}}u=_}u||(d=this.cachedCanvases.getCanvas("maskCanvas",n,i),$0(d.context,t));let f=wt.transform(a,[1/n,0,0,-1/i,0,0]);f=wt.transform(f,[1,0,0,1,0,-i]);const[p,g,m,v]=wt.getAxialAlignedBoundingBox([0,0,n,i],f),b=Math.round(m-p)||1,S=Math.round(v-g)||1,E=this.cachedCanvases.getCanvas("fillCanvas",b,S),A=E.context,T=p,P=g;A.translate(-T,-P),A.transform(...f),u||(u=this._scaleImage(d.canvas,Zi(A)),u=u.img,l&&o&&l.set(c,u)),A.imageSmoothingEnabled=G0(Be(A),t.interpolate),Mp(A,u,0,0,u.width,u.height,0,0,n,i),A.globalCompositeOperation="source-in";const R=wt.transform(Zi(A),[1,0,0,1,-T,-P]);return A.fillStyle=o?r.getPattern(e,this,R,Ys.FILL):r,A.fillRect(0,0,n,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(T),offsetY:Math.round(P)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=kF[t]}setLineJoin(t){this.ctx.lineJoin=FF[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Be(this.suspendedCtx)),Ah(this.suspendedCtx,r),NF(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ah(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],o=i[1],a=i[2]-r,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(e.context,n,a,l,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,o,a,l,c,u,d){let f=t.canvas,p=l-u,g=c-d;if(o){const v=wt.makeHexColor(...o);if(p<0||g<0||p+n>f.width||g+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",n,i),S=b.context;S.drawImage(f,-p,-g),S.globalCompositeOperation="destination-atop",S.fillStyle=v,S.fillRect(0,0,n,i),S.globalCompositeOperation="source-over",f=b.canvas,p=g=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,n,i),t.clip(b),t.globalCompositeOperation="destination-atop",t.fillStyle=v,t.fillRect(p,g,n,i),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,c,n,i),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,n,i,l,c,n,i),e.restore()}save(){this.inSMaskMode?(Ah(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ah(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,r,o){this.ctx.transform(t,e,n,i,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,r=this.current;let o=r.x,a=r.y,l,c;const u=Be(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,f=d?n.slice(0):null;for(let p=0,g=0,m=t.length;p<m;p++)switch(t[p]|0){case Ii.rectangle:o=e[g++],a=e[g++];const v=e[g++],b=e[g++],S=o+v,E=a+b;i.moveTo(o,a),v===0||b===0?i.lineTo(S,E):(i.lineTo(S,a),i.lineTo(S,E),i.lineTo(o,E)),d||r.updateRectMinMax(u,[o,a,S,E]),i.closePath();break;case Ii.moveTo:o=e[g++],a=e[g++],i.moveTo(o,a),d||r.updatePathMinMax(u,o,a);break;case Ii.lineTo:o=e[g++],a=e[g++],i.lineTo(o,a),d||r.updatePathMinMax(u,o,a);break;case Ii.curveTo:l=o,c=a,o=e[g+4],a=e[g+5],i.bezierCurveTo(e[g],e[g+1],e[g+2],e[g+3],o,a),r.updateCurvePathMinMax(u,l,c,e[g],e[g+1],e[g+2],e[g+3],o,a,f),g+=6;break;case Ii.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,e[g],e[g+1],e[g+2],e[g+3]),r.updateCurvePathMinMax(u,l,c,o,a,e[g],e[g+1],e[g+2],e[g+3],f),o=e[g+2],a=e[g+3],g+=4;break;case Ii.curveTo3:l=o,c=a,o=e[g+2],a=e[g+3],i.bezierCurveTo(e[g],e[g+1],o,a,o,a),r.updateCurvePathMinMax(u,l,c,e[g],e[g+1],o,a,o,a,f),g+=4;break;case Ii.closePath:i.closePath();break}d&&r.updateScalingPathMinMax(u,f),r.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Zi(e),Ys.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(e.save(),e.fillStyle=n.getPattern(e,this,Zi(e),Ys.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=UF}eoClip(){this.pendingClip=z0}beginText(){this.current.textMatrix=RC,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var u;const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=n.fontMatrix||ay,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Qt("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif",o=((u=n.systemFontInfo)==null?void 0:u.css)||`"${r}", ${n.fallbackName}`;let a="normal";n.black?a="900":n.bold&&(a="bold");const l=n.italic?"italic":"normal";let c=e;e<F0?c=F0:e>U0&&(c=U0),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,r,o){this.current.textMatrix=[t,e,n,i,r,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i,r){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&Hs.FILL_STROKE_MASK,f=!!(c&Hs.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile,g=a.patternStroke&&!l.missingFile;let m;(l.disableFontFace||f||p||g)&&(m=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||g?(o.save(),o.translate(e,n),o.beginPath(),m(o,u),(d===Hs.FILL||d===Hs.FILL_STROKE)&&(i&&o.setTransform(...i),o.fill()),(d===Hs.STROKE||d===Hs.FILL_STROKE)&&(r&&o.setTransform(...r),o.stroke()),o.restore()):((d===Hs.FILL||d===Hs.FILL_STROKE)&&o.fillText(t,e,n),(d===Hs.STROKE||d===Hs.FILL_STROKE)&&o.strokeText(t,e,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Be(o),x:e,y:n,fontSize:u,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return ie(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(i===0)return;const r=this.ctx,o=e.fontSizeScale,a=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,d=t.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*e.fontMatrix[0],v=e.textRenderingMode===Hs.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),c>0?r.scale(u,-1):r.scale(u,1);let b,S;if(e.patternFill){r.save();const R=e.fillColor.getPattern(r,this,Zi(r),Ys.FILL);b=Be(r),r.restore(),r.fillStyle=R}if(e.patternStroke){r.save();const R=e.strokeColor.getPattern(r,this,Zi(r),Ys.STROKE);S=Be(r),r.restore(),r.strokeStyle=R}let E=e.lineWidth;const A=e.textMatrixScale;if(A===0||E===0){const R=e.textRenderingMode&Hs.FILL_STROKE_MASK;(R===Hs.STROKE||R===Hs.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=A;if(o!==1&&(r.scale(o,o),E/=o),r.lineWidth=E,n.isInvalidPDFjsFont){const R=[];let O=0;for(const _ of t)R.push(_.unicode),O+=_.width;r.fillText(R.join(""),0,0),e.x+=O*m*u,r.restore(),this.compose();return}let T=0,P;for(P=0;P<d;++P){const R=t[P];if(typeof R=="number"){T+=p*R*i/1e3;continue}let O=!1;const _=(R.isSpace?l:0)+a,N=R.fontChar,L=R.accent;let F,U,V=R.width;if(f){const j=R.vmetric||g,H=-(R.vmetric?j[1]:V*.5)*m,W=j[2]*m;V=j?-j[0]:V,F=H/o,U=(T+W)/o}else F=T/o,U=0;if(n.remeasure&&V>0){const j=r.measureText(N).width*1e3/i*o;if(V<j&&this.isFontSubpixelAAEnabled){const H=V/j;O=!0,r.save(),r.scale(H,1),F/=H}else V!==j&&(F+=(V-j)/2e3*i/o)}if(this.contentVisible&&(R.isInFont||n.missingFile)){if(v&&!L)r.fillText(N,F,U);else if(this.paintChar(N,F,U,b,S),L){const j=F+i*L.offset.x/o,H=U-i*L.offset.y/o;this.paintChar(L.fontChar,j,H,b,S)}}const J=f?V*m-_*c:V*m+_*c;T+=J,O&&r.restore()}f?e.y-=T:e.x+=T*u,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,r=n.fontSize,o=n.fontDirection,a=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*o,d=n.fontMatrix||ay,f=t.length,p=n.textRenderingMode===Hs.INVISIBLE;let g,m,v,b;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(u,o),g=0;g<f;++g){if(m=t[g],typeof m=="number"){b=a*m*r/1e3,this.ctx.translate(b,0),n.x+=b*u;continue}const S=(m.isSpace?c:0)+l,E=i.charProcOperatorList[m.operatorListId];if(!E){Qt(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),e.scale(r,r),e.transform(...d),this.executeOperatorList(E),this.restore()),v=wt.applyTransform([m.width,0],d)[0]*r+S,e.translate(v,0),n.x+=v*u}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,r,o){this.ctx.rect(n,i,r-n,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],i=this.baseTransform||Be(this.ctx),r={createCanvasGraphics:o=>new rA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ly(t,n,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=wt.makeHexColor(t,e,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=wt.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=RF(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Zi(e),Ys.SHADING);const i=Zi(e);if(i){const{width:r,height:o}=e.canvas,[a,l,c,u]=wt.getAxialAlignedBoundingBox([0,0,r,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Re("Should not call beginInlineImage")}beginImageData(){Re("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Be(this.ctx),e)){const n=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],n,i),this.current.updateRectMinMax(Be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||gv("TODO: Support non-isolated groups."),t.knockout&&Qt("Knockout groups not supported.");const n=Be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=wt.getAxialAlignedBoundingBox(t.bbox,Be(e));const r=[0,0,e.canvas.width,e.canvas.height];i=wt.intersect(i,r)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),f=d.context;f.translate(-o,-a),f.transform(...n),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),Ah(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=wt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,i,r){if(C(this,Pa,ky).call(this),Np(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],a=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a;const[l,c]=wt.singularValueDecompose2dScale(Be(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),Np(this.ctx)}else Np(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new H0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,Pa,Fy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=LF(t)),i.compiled)){i.compiled(n);return}const r=this._createMaskCanvas(t),o=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,i=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=Be(a);a.transform(e,n,i,r,0,0);const c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const f=wt.transform(l,[e,n,i,r,o[u],o[u+1]]),[p,g]=wt.applyTransform([0,0],f);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of t){const{data:o,width:a,height:l,transform:c}=r,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const f=this.getObject(o,r);$0(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?n.getPattern(d,this,Zi(e),Ys.FILL):n,d.fillRect(0,0,a,l),d.restore(),e.save(),e.transform(...c),e.scale(1,-1),Mp(e,u.canvas,0,0,a,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Qt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){Qt("Dependent image isn't ready yet");return}const o=r.width,a=r.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[e,0,0,n,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;if(this.save(),!mn){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;V0(l,t),r=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(r,Zi(i));i.imageSmoothingEnabled=G0(Be(i),t.interpolate),Mp(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const r=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,o).context;V0(l,t),i=this.applyTransferMapsToCanvas(l)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),Mp(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===z0?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let o,a;if(n===0&&i===0){const l=Math.abs(e),c=Math.abs(r);if(l===c)if(t===0)o=a=1/l;else{const u=l*t;o=a=u<1?1/u:1}else if(t===0)o=1/l,a=1/c;else{const u=l*t,d=c*t;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(e*r-n*i),c=Math.hypot(e,n),u=Math.hypot(i,r);if(t===0)o=u/l,a=c/l;else{const d=t*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(e.lineWidth=n||1,i===1&&r===1){e.stroke();return}const o=e.getLineDash();if(t&&e.save(),e.scale(i,r),o.length>0){const a=Math.max(i,r);e.setLineDash(o.map(l=>l/a)),e.lineDashOffset/=a}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Pa=new WeakSet,ky=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Fy=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let $c=rA;for(const s in Ii)$c.prototype[s]!==void 0&&($c.prototype[Ii[s]]=$c.prototype[s]);var nf,rf;class po{static get workerPort(){return h(this,nf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");w(this,nf,t)}static get workerSrc(){return h(this,rf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");w(this,rf,t)}}nf=new WeakMap,rf=new WeakMap,x(po,nf,null),x(po,rf,"");const Dp={UNKNOWN:0,DATA:1,ERROR:2},os={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function X0(){}function ri(s){switch(s instanceof Error||typeof s=="object"&&s!==null||Re('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new mc(s.message);case"MissingPDFException":return new up(s.message);case"PasswordException":return new ly(s.message,s.code);case"UnexpectedResponseException":return new mv(s.message,s.status);case"UnknownErrorException":return new cy(s.message,s.details);default:return new cy(s.message,s.toString())}}var au,Si,px,gx,mx,ag;class Fh{constructor(t,e,n){x(this,Si);x(this,au,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",C(this,Si,px).bind(this),{signal:h(this,au).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:r,data:e,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:os.PULL,streamId:r,desiredSize:c.desiredSize}),u.promise},cancel:c=>{us(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:os.CANCEL,streamId:r,reason:ri(c)}),u.promise}},n)}destroy(){var t;(t=h(this,au))==null||t.abort(),w(this,au,null)}}au=new WeakMap,Si=new WeakSet,px=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){C(this,Si,mx).call(this,t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Dp.DATA)i.resolve(t.data);else if(t.callback===Dp.ERROR)i.reject(ri(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:n,targetName:i,callback:Dp.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:n,targetName:i,callback:Dp.ERROR,callbackId:t.callbackId,reason:ri(o)})});return}if(t.streamId){C(this,Si,gx).call(this,t);return}e(t.data)},gx=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:os.ENQUEUE,streamId:e,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:os.CLOSE,streamId:e}),delete o.streamSinks[e])},error(c){us(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:os.ERROR,streamId:e,reason:ri(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(a,t.data,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:os.START_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:os.START_COMPLETE,streamId:e,reason:ri(c)})})},mx=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case os.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(ri(t.reason));break;case os.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(ri(t.reason));break;case os.PULL:if(!a){r.postMessage({sourceName:n,targetName:i,stream:os.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||X0).then(function(){r.postMessage({sourceName:n,targetName:i,stream:os.PULL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:os.PULL_COMPLETE,streamId:e,reason:ri(c)})});break;case os.ENQUEUE:if(us(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case os.CLOSE:if(us(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),C(this,Si,ag).call(this,o,e);break;case os.ERROR:us(o,"error should have stream controller"),o.controller.error(ri(t.reason)),C(this,Si,ag).call(this,o,e);break;case os.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(ri(t.reason)),C(this,Si,ag).call(this,o,e);break;case os.CANCEL:if(!a)break;const l=ri(t.reason);Promise.try(a.onCancel||X0,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:os.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:os.CANCEL_COMPLETE,streamId:e,reason:ri(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},ag=async function(t,e){var n,i,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var pl,of;class BF{constructor({parsedData:t,rawData:e}){x(this,pl);x(this,of);w(this,pl,t),w(this,of,e)}getRaw(){return h(this,of)}get(t){return h(this,pl).get(t)??null}getAll(){return pS(h(this,pl))}has(t){return h(this,pl).has(t)}}pl=new WeakMap,of=new WeakMap;const Oc=Symbol("INTERNAL");var af,lf,cf,lu;class jF{constructor(t,{name:e,intent:n,usage:i,rbGroups:r}){x(this,af,!1);x(this,lf,!1);x(this,cf,!1);x(this,lu,!0);w(this,af,!!(t&qn.DISPLAY)),w(this,lf,!!(t&qn.PRINT)),this.name=e,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(h(this,cf))return h(this,lu);if(!h(this,lu))return!1;const{print:t,view:e}=this.usage;return h(this,af)?(e==null?void 0:e.viewState)!=="OFF":h(this,lf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Oc&&Re("Internal method `_setVisible` called."),w(this,cf,n),w(this,lu,e)}}af=new WeakMap,lf=new WeakMap,cf=new WeakMap,lu=new WeakMap;var sa,Pe,cu,uu,uf,Uy;class HF{constructor(t,e=qn.DISPLAY){x(this,uf);x(this,sa,null);x(this,Pe,new Map);x(this,cu,null);x(this,uu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,w(this,uu,t.order);for(const n of t.groups)h(this,Pe).set(n.id,new jF(e,n));if(t.baseState==="OFF")for(const n of h(this,Pe).values())n._setVisible(Oc,!1);for(const n of t.on)h(this,Pe).get(n)._setVisible(Oc,!0);for(const n of t.off)h(this,Pe).get(n)._setVisible(Oc,!1);w(this,cu,this.getHash())}}isVisible(t){if(h(this,Pe).size===0)return!0;if(!t)return gv("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Pe).has(t.id)?h(this,Pe).get(t.id).visible:(Qt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return C(this,uf,Uy).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Pe).has(e))return Qt(`Optional content group not found: ${e}`),!0;if(h(this,Pe).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Pe).has(e))return Qt(`Optional content group not found: ${e}`),!0;if(!h(this,Pe).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Pe).has(e))return Qt(`Optional content group not found: ${e}`),!0;if(!h(this,Pe).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Pe).has(e))return Qt(`Optional content group not found: ${e}`),!0;if(h(this,Pe).get(e).visible)return!1}return!0}return Qt(`Unknown optional content policy ${t.policy}.`),!0}return Qt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var r;const i=h(this,Pe).get(t);if(!i){Qt(`Optional content group not found: ${t}`);return}if(n&&e&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==t&&((r=h(this,Pe).get(a))==null||r._setVisible(Oc,!1,!0));i._setVisible(Oc,!!e,!0),w(this,sa,null)}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=h(this,Pe).get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!r.visible,e);break}}w(this,sa,null)}get hasInitialVisibility(){return h(this,cu)===null||this.getHash()===h(this,cu)}getOrder(){return h(this,Pe).size?h(this,uu)?h(this,uu).slice():[...h(this,Pe).keys()]:null}getGroups(){return h(this,Pe).size>0?pS(h(this,Pe)):null}getGroup(t){return h(this,Pe).get(t)||null}getHash(){if(h(this,sa)!==null)return h(this,sa);const t=new nx;for(const[e,n]of h(this,Pe))t.update(`${e}:${n.visible}`);return w(this,sa,t.hexdigest())}}sa=new WeakMap,Pe=new WeakMap,cu=new WeakMap,uu=new WeakMap,uf=new WeakSet,Uy=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const r=t[i];let o;if(Array.isArray(r))o=C(this,uf,Uy).call(this,r);else if(h(this,Pe).has(r))o=h(this,Pe).get(r).visible;else return Qt(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return n==="And"};class VF{constructor(t,{disableRange:e=!1,disableStream:n=!1}){us(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});us(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,i,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){us(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new $F(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new GF(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class $F{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=vS(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GF{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zF(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let u=a(e);return u=unescape(u),u=l(u),u=c(u),r(u)}if(e=o(s),e){const u=c(e);return r(u)}if(e=n("filename","i").exec(s),e){e=e[1];let u=a(e);return u=c(u),r(u)}function n(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=vv(d);d=f.decode(p),t=!1}catch{}}return d}function r(u){return t&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),t&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,v,b]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[v,b]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[v,b]=d[m];b=a(b),v&&(b=unescape(b),m===0&&(b=l(b))),g.push(b)}return g.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function vx(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function Ev(s){try{return new URL(s).origin}catch{}return null}function bx({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(s.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function yx(s){const t=s.get("Content-Disposition");if(t){let e=zF(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(vS(e))return e}return null}function Sv(s,t){return s===404||s===0&&t.startsWith("file:")?new up('Missing PDF "'+t+'".'):new mv(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s)}function Ex(s){return s===200||s===206}function Sx(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Ax(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Qt(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class W0{constructor(t){_t(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=vx(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return us(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XF(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new WF(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class XF{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,Sx(n,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=Ev(r.url),!Ex(r.status))throw Sv(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:l}=bx({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=yx(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new mc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ax(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class WF{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${n-1}`);const o=i.url;fetch(o,Sx(r,this._withCredentials,this._abortController)).then(a=>{const l=Ev(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!Ex(a.status))throw Sv(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:Ax(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const pb=200,gb=206;function KF(s){const t=s.response;return typeof t!="string"?t:vv(t).buffer}class YF{constructor({url:t,httpHeaders:e,withCredentials:n}){_t(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=vx(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=gb):i.expectedStatus=pb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var i;const n=this.pendingRequests[t];n&&((i=n.onProgress)==null||i.call(n,e))}onStateChange(t,e){var l,c,u;const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const r=i.status||pb;if(!(r===pb&&n.expectedStatus===gb)&&r!==n.expectedStatus){(c=n.onError)==null||c.call(n,i.status);return}const a=KF(i);if(r===gb){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);n.onDone({begin:parseInt(f[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):(u=n.onError)==null||u.call(n,i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class qF{constructor(t){this._source=t,this._manager=new YF(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return us(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JF(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new QF(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class JF{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ev(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trim().split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=bx({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=yx(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Sv(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class QF{constructor(t,e,n){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Ev((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=Sv(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ZF=/^[a-z][a-z0-9\-+.]+:/i;function t3(s){if(ZF.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class e3{constructor(t){this.source=t,this.url=t3(t.url),us(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return us(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new s3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new n3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class s3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new up(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new mc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n3{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const i3=1e5,wn=30,r3=.8;var O1,na,In,hf,df,gl,Yr,ff,pf,ml,hu,du,ia,fu,gf,pu,vl,mf,vf,bl,yl,bf,ra,gu,xo,wx,Tx,By,si,lg,jy,Cx,xx;const fs=class fs{constructor({textContentSource:t,container:e,viewport:n}){x(this,xo);x(this,na,Promise.withResolvers());x(this,In,null);x(this,hf,!1);x(this,df,!!((O1=globalThis.FontInspector)!=null&&O1.enabled));x(this,gl,null);x(this,Yr,null);x(this,ff,0);x(this,pf,0);x(this,ml,null);x(this,hu,null);x(this,du,0);x(this,ia,0);x(this,fu,Object.create(null));x(this,gf,[]);x(this,pu,null);x(this,vl,[]);x(this,mf,new WeakMap);x(this,vf,null);var l;if(t instanceof ReadableStream)w(this,pu,t);else if(typeof t=="object")w(this,pu,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,In,w(this,hu,e)),w(this,ia,n.scale*(globalThis.devicePixelRatio||1)),w(this,du,n.rotation),w(this,Yr,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:o,pageY:a}=n.rawDims;w(this,vf,[1,0,0,-1,-o,a+r]),w(this,pf,i),w(this,ff,r),C(l=fs,si,Cx).call(l),rc(e,n),h(this,na).promise.finally(()=>{h(fs,gu).delete(this),w(this,Yr,null),w(this,fu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=bn.platform;return ie(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,ml).read().then(({value:e,done:n})=>{if(n){h(this,na).resolve();return}h(this,gl)??w(this,gl,e.lang),Object.assign(h(this,fu),e.styles),C(this,xo,wx).call(this,e.items),t()},h(this,na).reject)};return w(this,ml,h(this,pu).getReader()),h(fs,gu).add(this),t(),h(this,na).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==h(this,du)&&(e==null||e(),w(this,du,i),rc(h(this,hu),{rotation:i})),n!==h(this,ia)){e==null||e(),w(this,ia,n);const o={div:null,properties:null,ctx:C(r=fs,si,lg).call(r,h(this,gl))};for(const a of h(this,vl))o.properties=h(this,mf).get(a),o.div=a,C(this,xo,By).call(this,o)}}cancel(){var e;const t=new mc("TextLayer task cancelled.");(e=h(this,ml))==null||e.cancel(t).catch(()=>{}),w(this,ml,null),h(this,na).reject(t)}get textDivs(){return h(this,vl)}get textContentItemsStr(){return h(this,gf)}static cleanup(){if(!(h(this,gu).size>0)){h(this,bl).clear();for(const{canvas:t}of h(this,yl).values())t.remove();h(this,yl).clear()}}};na=new WeakMap,In=new WeakMap,hf=new WeakMap,df=new WeakMap,gl=new WeakMap,Yr=new WeakMap,ff=new WeakMap,pf=new WeakMap,ml=new WeakMap,hu=new WeakMap,du=new WeakMap,ia=new WeakMap,fu=new WeakMap,gf=new WeakMap,pu=new WeakMap,vl=new WeakMap,mf=new WeakMap,vf=new WeakMap,bl=new WeakMap,yl=new WeakMap,bf=new WeakMap,ra=new WeakMap,gu=new WeakMap,xo=new WeakSet,wx=function(t){var i,r;if(h(this,hf))return;(r=h(this,Yr)).ctx??(r.ctx=C(i=fs,si,lg).call(i,h(this,gl)));const e=h(this,vl),n=h(this,gf);for(const o of t){if(e.length>i3){Qt("Ignoring additional textDivs for performance reasons."),w(this,hf,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=h(this,In);w(this,In,document.createElement("span")),h(this,In).classList.add("markedContent"),o.id!==null&&h(this,In).setAttribute("id",`${o.id}`),a.append(h(this,In))}else o.type==="endMarkedContent"&&w(this,In,h(this,In).parentNode);continue}n.push(o.str),C(this,xo,Tx).call(this,o)}},Tx=function(t){var m;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,vl).push(e);const i=wt.transform(h(this,vf),t.transform);let r=Math.atan2(i[1],i[0]);const o=h(this,fu)[t.fontName];o.vertical&&(r+=Math.PI/2);let a=h(this,df)&&o.fontSubstitution||o.fontFamily;a=fs.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*C(m=fs,si,xx).call(m,a,h(this,gl));let u,d;r===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(r),d=i[5]-c*Math.cos(r));const f="calc(var(--scale-factor)*",p=e.style;h(this,In)===h(this,hu)?(p.left=`${(100*u/h(this,pf)).toFixed(2)}%`,p.top=`${(100*d/h(this,ff)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(fs,ra)*l).toFixed(2)}px)`,p.fontFamily=a,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,df)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const v=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);v!==b&&Math.max(v,b)/Math.min(v,b)>1.5&&(g=!0)}if(g&&(n.canvasWidth=o.vertical?t.height:t.width),h(this,mf).set(e,n),h(this,Yr).div=e,h(this,Yr).properties=n,C(this,xo,By).call(this,h(this,Yr)),n.hasText&&h(this,In).append(e),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),h(this,In).append(v)}},By=function(t){var a;const{div:e,properties:n,ctx:i}=t,{style:r}=e;let o="";if(h(fs,ra)>1&&(o=`scale(${1/h(fs,ra)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:u}=n;C(a=fs,si,jy).call(a,i,u*h(this,ia),l);const{width:d}=i.measureText(e.textContent);d>0&&(o=`scaleX(${c*h(this,ia)/d}) ${o}`)}n.angle!==0&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(r.transform=o)},si=new WeakSet,lg=function(t=null){let e=h(this,yl).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,yl).set(t,e),h(this,bf).set(e,{size:0,family:""})}return e},jy=function(t,e,n){const i=h(this,bf).get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)},Cx=function(){if(h(this,ra)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),w(this,ra,t.getBoundingClientRect().height),t.remove()},xx=function(t,e){const n=h(this,bl).get(t);if(n)return n;const i=C(this,si,lg).call(this,e);i.canvas.width=i.canvas.height=wn,C(this,si,jy).call(this,i,wn,t);const r=i.measureText("");let o=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(o){const u=o/(o+a);return h(this,bl).set(t,u),i.canvas.width=i.canvas.height=0,u}i.strokeStyle="red",i.clearRect(0,0,wn,wn),i.strokeText("g",0,0);let l=i.getImageData(0,0,wn,wn).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/wn);break}i.clearRect(0,0,wn,wn),i.strokeText("A",0,wn),l=i.getImageData(0,0,wn,wn).data,o=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){o=wn-Math.floor(u/4/wn);break}i.canvas.width=i.canvas.height=0;const c=o?o/(o+a):r3;return h(this,bl).set(t,c),c},x(fs,si),x(fs,bl,new Map),x(fs,yl,new Map),x(fs,bf,new WeakMap),x(fs,ra,null),x(fs,gu,new Set);let _d=fs;class Pd{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(r){var l;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(Pd.shouldBuildText(a))(l=r==null?void 0:r.attributes)!=null&&l.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const c of r.children)i(c)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const o3=65536,a3=100,l3=5e3,c3=mn?wF:EF,u3=mn?TF:lx,h3=mn?AF:SF,d3=mn?CF:dx;function f3(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new Hy,{docId:e}=t,n=s.url?p3(s.url):null,i=s.data?g3(s.data):null,r=s.httpHeaders||null,o=s.withCredentials===!0,a=s.password??null,l=s.range instanceof _x?s.range:null,c=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:o3;let u=s.worker instanceof Gc?s.worker:null;const d=s.verbosity,f=typeof s.docBaseUrl=="string"&&!yv(s.docBaseUrl)?s.docBaseUrl:null,p=typeof s.cMapUrl=="string"?s.cMapUrl:null,g=s.cMapPacked!==!1,m=s.CMapReaderFactory||u3,v=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,b=s.StandardFontDataFactory||d3,S=s.stopAtErrors!==!0,E=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,A=s.isEvalSupported!==!1,T=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!mn,P=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!mn&&(bn.platform.isFirefox||!globalThis.chrome),R=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,O=typeof s.disableFontFace=="boolean"?s.disableFontFace:mn,_=s.fontExtraProperties===!0,N=s.enableXfa===!0,L=s.ownerDocument||globalThis.document,F=s.disableRange===!0,U=s.disableStream===!0,V=s.disableAutoFetch===!0,J=s.pdfBug===!0,j=s.CanvasFactory||c3,H=s.FilterFactory||h3,W=s.enableHWA===!0,At=l?l.length:s.length??NaN,Ht=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!mn&&!O,Mt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:m===lx&&b===dx&&p&&v&&Ih(p,document.baseURI)&&Ih(v,document.baseURI);s.canvasFactory&&D0("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&D0("`filterFactory`-instance option, please use `FilterFactory` instead.");const Ct=null;Q2(d);const Ft={canvasFactory:new j({ownerDocument:L,enableHWA:W}),filterFactory:new H({docId:e,ownerDocument:L}),cMapReaderFactory:Mt?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:Mt?null:new b({baseUrl:v})};if(!u){const Pt={verbosity:d,port:po.workerPort};u=Pt.port?Gc.fromPort(Pt):new Gc(Pt),t._worker=u}const me={docId:e,apiVersion:"4.9.155",data:i,password:a,disableAutoFetch:V,rangeChunkSize:c,length:At,docBaseUrl:f,enableXfa:N,evaluatorOptions:{maxImageSize:E,disableFontFace:O,ignoreErrors:S,isEvalSupported:A,isOffscreenCanvasSupported:T,isImageDecoderSupported:P,canvasMaxAreaInBytes:R,fontExtraProperties:_,useSystemFonts:Ht,cMapUrl:Mt?p:null,standardFontDataUrl:Mt?v:null}},Ee={disableFontFace:O,fontExtraProperties:_,ownerDocument:L,pdfBug:J,styleElement:Ct,loadingParams:{disableAutoFetch:V,enableXfa:N}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Pt=u.messageHandler.sendWithPromise("GetDocRequest",me,i?[i.buffer]:null);let G;if(l)G=new VF(l,{disableRange:F,disableStream:U});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let rt;if(mn)if(Ih(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");rt=W0}else rt=e3;else rt=Ih(n)?W0:qF;G=new rt({url:n,length:At,httpHeaders:r,withCredentials:o,rangeChunkSize:c,disableRange:F,disableStream:U})}return Pt.then(rt=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const st=new Fh(e,rt,u.port),ft=new y3(st,t,G,Ee,Ft);t._transport=ft,st.send("Ready",null)})}).catch(t._capability.reject),t}function p3(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(mn&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function g3(s){if(mn&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return vv(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function K0(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var _m;const Pm=class Pm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${rn(Pm,_m)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};_m=new WeakMap,x(Pm,_m,0);let Hy=Pm;class _x{constructor(t,e,n=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Re("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class m3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var oa,qr,mi,Mc,cg;class v3{constructor(t,e,n,i=!1){x(this,mi);x(this,oa,null);x(this,qr,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new N0:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Px,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new hp({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:i=Vo.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){var A,T;(A=this._stats)==null||A.time("Overall");const f=this._transport.getRenderingIntent(n,i,u,d),{renderingIntent:p,cacheKey:g}=f;w(this,qr,!1),C(this,mi,cg).call(this),a||(a=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(p&qn.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(f));const b=P=>{var R;m.renderTasks.delete(S),(this._maybeCleanupAfterRender||v)&&w(this,qr,!0),C(this,mi,Mc).call(this,!v),P?(S.capability.reject(P),this._abortOperatorList({intentState:m,reason:P instanceof Error?P:new Error(P)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new $y({callback:b,params:{canvasContext:t,viewport:e,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(m.renderTasks||(m.renderTasks=new Set)).add(S);const E=S.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([P,R])=>{var O;if(this.destroyed){b();return}if((O=this._stats)==null||O.time("Rendering"),!(R.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:P,optionalContentConfig:R}),S.operatorListChanged()}).catch(b),E}getOperatorList({intent:t="display",annotationMode:e=Vo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(t,e,n,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Pd.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,i){function r(){o.read().then(function({value:l,done:c}){if(c){n(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),r()},i)}const o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),w(this,qr,!1),C(this,mi,cg).call(this),Promise.all(t)}cleanup(t=!1){w(this,qr,!0);const e=C(this,mi,Mc).call(this,!1);return t&&e&&this._stats&&(this._stats=new N0),e}_startRenderPage(t,e){var i,r;const n=this._intentStates.get(e);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&C(this,mi,Mc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:o}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:i},o).getReader(),c=this._intentStates.get(e);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();C(this,mi,Mc).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof mS){let i=a3;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new mc(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}oa=new WeakMap,qr=new WeakMap,mi=new WeakSet,Mc=function(t=!1){if(C(this,mi,cg).call(this),!h(this,qr)||this.destroyed)return!1;if(t)return w(this,oa,setTimeout(()=>{w(this,oa,null),C(this,mi,Mc).call(this,!1)},l3)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,qr,!1),!0},cg=function(){h(this,oa)&&(clearTimeout(h(this,oa)),w(this,oa,null))};var Jr,Im;class b3{constructor(){x(this,Jr,new Map);x(this,Im,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};h(this,Im).then(()=>{for(const[i]of h(this,Jr))i.call(this,n)})}addEventListener(t,e,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted){Qt("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);i=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}h(this,Jr).set(e,i)}removeEventListener(t,e){const n=h(this,Jr).get(e);n==null||n(),h(this,Jr).delete(e)}terminate(){for(const[,t]of h(this,Jr))t==null||t();h(this,Jr).clear()}}Jr=new WeakMap,Im=new WeakMap;var Rm,El,Sl,mu,ug,vu,hg;const Ue=class Ue{constructor({name:t=null,port:e=null,verbosity:n=Z2()}={}){x(this,mu);var i;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((i=h(Ue,Sl))!=null&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(Ue,Sl)||w(Ue,Sl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Fh("main","worker",t),this._messageHandler.on("ready",function(){}),C(this,mu,ug).call(this)}_initialize(){if(h(Ue,El)||h(Ue,vu,hg)){this._setupFakeWorker();return}let{workerSrc:t}=Ue;try{Ue._isSameOrigin(window.location.href,t)||(t=Ue._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Fh("main","worker",e),i=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),n.on("test",a=>{if(r.abort(),this.destroyed||!a){i();return}this._messageHandler=n,this._port=e,this._webWorker=e,C(this,mu,ug).call(this)}),n.on("ready",a=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;n.send("test",a,[a.buffer])};o();return}catch{gv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(Ue,El)||(Qt("Setting up fake worker."),w(Ue,El,!0)),Ue._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new b3;this._port=e;const n=`fake${rn(Ue,Rm)._++}`,i=new Fh(n+"_worker",n,e);t.setup(i,e),this._messageHandler=new Fh(n,n+"_worker",e),C(this,mu,ug).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,n;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=h(Ue,Sl))==null||e.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=h(this,Sl))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ue(t)}static get workerSrc(){if(po.workerSrc)return po.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ie(this,"_setupFakeWorkerGlobal",(async()=>h(this,vu,hg)?h(this,vu,hg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Rm=new WeakMap,El=new WeakMap,Sl=new WeakMap,mu=new WeakSet,ug=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},vu=new WeakSet,hg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(Ue,vu),x(Ue,Rm,0),x(Ue,El,!1),x(Ue,Sl),mn&&(w(Ue,El,!0),po.workerSrc||(po.workerSrc="./pdf.worker.mjs")),Ue._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},Ue._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let Gc=Ue;var Qr,pr,bu,yu,gr,Al,Uh;class y3{constructor(t,e,n,i,r){x(this,Al);x(this,Qr,new Map);x(this,pr,new Map);x(this,bu,new Map);x(this,yu,new Map);x(this,gr,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Px,this.fontLoader=new bF({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ie(this,"annotationStorage",new ES)}getRenderingIntent(t,e=Vo.ENABLE,n=null,i=!1,r=!1){let o=qn.DISPLAY,a=Oy;switch(t){case"any":o=qn.ANY;break;case"display":break;case"print":o=qn.PRINT;break;default:Qt(`getRenderingIntent - invalid intent: ${t}`)}const l=o&qn.PRINT&&n instanceof rx?n:this.annotationStorage;switch(e){case Vo.DISABLE:o+=qn.ANNOTATIONS_DISABLE;break;case Vo.ENABLE:break;case Vo.ENABLE_FORMS:o+=qn.ANNOTATIONS_FORMS;break;case Vo.ENABLE_STORAGE:o+=qn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Qt(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(o+=qn.IS_EDITING),r&&(o+=qn.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=h(this,gr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of h(this,pr).values())t.push(i._destroy());h(this,pr).clear(),h(this,bu).clear(),h(this,yu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i,r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Qr).clear(),this.filterFactory.destroy(),_d.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new mc("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,i)=>{us(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}us(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async n=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:o}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(n,i)=>{us(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){i.close();return}us(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new m3(n,this))}),t.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new ly(n.message,n.code);break;case"InvalidPDFException":i=new OC(n.message);break;case"MissingPDFException":i=new up(n.message);break;case"UnexpectedResponseException":i=new mv(n.message,n.status);break;case"UnknownErrorException":i=new cy(n.message,n.details);break;default:Re("DocException - expected a valid Error.")}e._capability.reject(i)}),t.on("PasswordRequest",n=>{if(w(this,gr,Promise.withResolvers()),e.onPassword){const i=r=>{r instanceof Error?h(this,gr).reject(r):h(this,gr).resolve({password:r})};try{e.onPassword(i,n.code)}catch(r){h(this,gr).reject(r)}}else h(this,gr).reject(new ly(n.message,n.code));return h(this,gr).promise}),t.on("DataLoaded",n=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;h(this,pr).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,r])=>{var o;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const p=r.error;Qt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const u=c&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new yF(r,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=r;us(f,"The imageRef must be defined.");for(const p of h(this,pr).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,r,o])=>{var l;if(this.destroyed)return;const a=h(this,pr).get(i);if(!a.objs.has(n)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(r){case"Image":a.objs.resolve(n,o),(o==null?void 0:o.dataLen)>K2&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Qt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=h(this,bu).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&h(this,yu).set(r.refStr,t);const o=new v3(e,r,this,this._params.pdfBug);return h(this,pr).set(e,o),o});return h(this,bu).set(e,i),i}getPageIndex(t){return K0(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return C(this,Al,Uh).call(this,"GetFieldObjects")}hasJSActions(){return C(this,Al,Uh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,Al,Uh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return C(this,Al,Uh).call(this,"GetOptionalContentConfig").then(e=>new HF(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,Qr).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(i=>{var r,o;return{info:i[0],metadata:i[1]?new BF(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,Qr).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,pr).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Qr).clear(),this.filterFactory.destroy(!0),_d.cleanup()}}cachedPageNumber(t){if(!K0(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,yu).get(e)??null}}Qr=new WeakMap,pr=new WeakMap,bu=new WeakMap,yu=new WeakMap,gr=new WeakMap,Al=new WeakSet,Uh=function(t,e=null){const n=h(this,Qr).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return h(this,Qr).set(t,i),i};const Lp=Symbol("INITIAL_DATA");var Di,yf,Vy;class Px{constructor(){x(this,yf);x(this,Di,Object.create(null))}get(t,e=null){if(e){const i=C(this,yf,Vy).call(this,t);return i.promise.then(()=>e(i.data)),null}const n=h(this,Di)[t];if(!n||n.data===Lp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=h(this,Di)[t];return!!e&&e.data!==Lp}resolve(t,e=null){const n=C(this,yf,Vy).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in h(this,Di)){const{data:n}=h(this,Di)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}w(this,Di,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Di)){const{data:e}=h(this,Di)[t];e!==Lp&&(yield[t,e])}}}Di=new WeakMap,yf=new WeakSet,Vy=function(t){var e;return(e=h(this,Di))[t]||(e[t]={...Promise.withResolvers(),data:Lp})};var aa;class E3{constructor(t){x(this,aa,null);w(this,aa,t),this.onContinue=null}get promise(){return h(this,aa).capability.promise}cancel(t=0){h(this,aa).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,aa).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,aa);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}aa=new WeakMap;var la,wl;const za=class za{constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null}){x(this,la,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new E3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var a,l;if(this.cancelled)return;if(this._canvas){if(h(za,wl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(za,wl).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:o}=this.params;this.gfx=new $c(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),h(this,la)&&(window.cancelAnimationFrame(h(this,la)),w(this,la,null)),h(za,wl).delete(this._canvas),this.callback(t||new mS(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,la,window.requestAnimationFrame(()=>{w(this,la,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(za,wl).delete(this._canvas),this.callback())))}};la=new WeakMap,wl=new WeakMap,x(za,wl,new WeakSet);let $y=za;const S3="4.9.155",A3="a4eb8407c";function Y0(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function wh(s){return Math.max(0,Math.min(255,255*s))}class q0{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=wh(t),[t,t,t]}static G_HTML([t]){const e=Y0(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(wh)}static RGB_HTML(t){return`#${t.map(Y0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[wh(1-Math.min(1,t+i)),wh(1-Math.min(1,n+i)),wh(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,r=1-e,o=1-n,a=Math.min(i,r,o);return["CMYK",i,r,o,a]}}class w3{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Re("Abstract method `_createSVG` called.")}}class AS extends w3{_createSVG(t){return document.createElementNS(Lr,t)}}class Ix{static setupStorage(t,e,n,i,r){const o=i.getValue(e,{value:null});switch(n.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",a=>{i.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of n.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:r}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&r.addLinkAttributes(t,o.href,o.newWindow),n&&o.dataId&&this.setupStorage(t,o.dataId,e,n)}static render(t){var d,f;const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:n});const a=r!=="richText",l=t.div;if(l.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&Pd.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const v=p.children[++u.at(-1)[1]];if(v===null)continue;const{name:b}=v;if(b==="#text"){const E=document.createTextNode(v.value);c.push(E),m.append(E);continue}const S=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,b):document.createElement(b);if(m.append(S),v.attributes&&this.setAttributes({html:S,element:v,storage:e,intent:r,linkService:n}),((f=v.children)==null?void 0:f.length)>0)u.push([v,-1,S]);else if(v.value){const E=document.createTextNode(v.value);a&&Pd.shouldBuildText(b)&&c.push(E),S.append(E)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const fp=1e3,T3=9,ac=new WeakSet;function Sa(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class C3{static create(t){switch(t.data.annotationType){case ds.LINK:return new Rx(t);case ds.TEXT:return new x3(t);case ds.WIDGET:switch(t.data.fieldType){case"Tx":return new _3(t);case"Btn":return t.data.radioButton?new Nx(t):t.data.checkBox?new I3(t):new R3(t);case"Ch":return new O3(t);case"Sig":return new P3(t)}return new vc(t);case ds.POPUP:return new zy(t);case ds.FREETEXT:return new Ux(t);case ds.LINE:return new N3(t);case ds.SQUARE:return new D3(t);case ds.CIRCLE:return new L3(t);case ds.POLYLINE:return new Bx(t);case ds.CARET:return new F3(t);case ds.INK:return new wS(t);case ds.POLYGON:return new k3(t);case ds.HIGHLIGHT:return new jx(t);case ds.UNDERLINE:return new U3(t);case ds.SQUIGGLY:return new B3(t);case ds.STRIKEOUT:return new j3(t);case ds.STAMP:return new Hx(t);case ds.FILEATTACHMENT:return new H3(t);default:return new rs(t)}}}var Tl,Eu,Su,Ef,Gy;const oA=class oA{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){x(this,Ef);x(this,Tl,null);x(this,Eu,!1);x(this,Su,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return oA._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;h(this,Tl)||w(this,Tl,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&C(this,Ef,Gy).call(this,e),(n=h(this,Su))==null||n.popup.updateEdited(t)}resetEdited(){var t;h(this,Tl)&&(C(this,Ef,Gy).call(this,h(this,Tl).rect),(t=h(this,Su))==null||t.popup.resetEdited(),w(this,Tl,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof vc||(r.tabIndex=fp);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof zy){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}const{width:a,height:l}=Sa(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,v=e.borderStyle.verticalCornerRadius;if(m>0||v>0){const S=`calc(${m}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;o.borderRadius=S}else if(this instanceof Nx){const S=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=S}switch(e.borderStyle.style){case Sh.SOLID:o.borderStyle="solid";break;case Sh.DASHED:o.borderStyle="dashed";break;case Sh.BEVELED:Qt("Unimplemented border style: beveled");break;case Sh.INSET:Qt("Unimplemented border style: inset");break;case Sh.UNDERLINE:o.borderBottomStyle="solid";break}const b=e.borderColor||null;b?(w(this,Eu,!0),o.borderColor=wt.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const c=wt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(c[0]-f)/u}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(g,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:o}=Sa(this.data.rect);let a,l;t%180===0?(a=100*r/n,l=100*o/i):(a=100*o/n,l=100*r/i),e.style.width=`${a}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,i)=>{const r=i.detail[e],o=r[0],a=r.slice(1);i.target.style[n]=q0[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[n]:q0[`${o}_rgb`](a)})};return ie(this,"_commonActions",{display:e=>{const{display:n}=e.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const o=n[i];if(o){const a={detail:{[i]:r},target:t};o(a),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,v,b,S]=t.subarray(2,6);if(i===m&&r===v&&e===b&&n===S)return}const{style:o}=this.container;let a;if(h(this,Eu)){const{borderColor:m,borderWidth:v}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-e,c=r-n,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,v=t.length;m<v;m+=8){const b=t[m],S=t[m+1],E=t[m+2],A=t[m+3],T=u.createElement("rect"),P=(E-e)/l,R=(r-S)/c,O=(b-E)/l,_=(S-A)/c;T.setAttribute("x",P),T.setAttribute("y",R),T.setAttribute("width",O),T.setAttribute("height",_),p.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${R}" width="${O}" height="${_}"/>`)}h(this,Eu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:t}=this,e=w(this,Su,new zy({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Re("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:r,id:o,exportValues:a}of i){if(r===-1||o===e)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!ac.has(c)){Qt(`_getElementsByName - element not allowed: ${o}`);continue}n.push({id:o,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(t)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==e&&ac.has(i)&&n.push({id:o,exportValue:r,domElement:i})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Tl=new WeakMap,Eu=new WeakMap,Su=new WeakMap,Ef=new WeakSet,Gy=function(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}}}=this;n==null||n.splice(0,4,...t);const{width:c,height:u}=Sa(t);e.left=`${100*(t[0]-a)/r}%`,e.top=`${100*(o-t[3]+l)/o}%`,i===0?(e.width=`${100*c/r}%`,e.height=`${100*u/o}%`):this.setRotation(i)};let rs=oA;var Qn,Ba,Ox,Mx;class Rx extends rs{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});x(this,Qn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(C(this,Qn,Ox).call(this,i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(C(this,Qn,Mx).call(this,i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&C(this,Qn,Ba).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),C(this,Qn,Ba).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const o=i.get(r);o&&(e[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),C(this,Qn,Ba).call(this)}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),C(this,Qn,Ba).call(this),!this._fieldObjects){Qt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var d;i==null||i();const{fields:r,refs:o,include:a}=n,l=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;c.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";c.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ac.has(g)){Qt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Qn=new WeakSet,Ba=function(){this.container.setAttribute("data-internal-link","")},Ox=function(e,n,i=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,i),!1},C(this,Qn,Ba).call(this)},Mx=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),C(this,Qn,Ba).call(this)};class x3 extends rs{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class vc extends rs{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return bn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(n,o=>{var a;if(n==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}}))})}_setEventListeners(t,e,n,i){var r,o,a;for(const[l,c]of n)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":wt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||T3,r=t.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(ub*i))||1,d=c/u;o=Math.min(i,l(d/ub))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/ub))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=wt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class _3 extends vc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=n),r.setValue(o.id,{[i]:n})}render(){var i,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let a=o.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ac.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=fp,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=u.userValue=p,u.formattedValue=null});let d=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var m;if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){u.userValue=m.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),m.target.value=u.userValue},formattedValue(m){const{formattedValue:v}=m.detail;u.formattedValue=v,v!=null&&m.target!==document.activeElement&&(m.target.value=v),t.setValue(e,{formattedValue:v})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var E;const{charLimit:v}=m.detail,{target:b}=m;if(v===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",v);let S=u.userValue;!S||S.length<=v||(S=S.slice(0,v),b.value=u.userValue=S,t.setValue(e,{value:S}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),n.addEventListener("keydown",p=>{var v;u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:m}=p.target;u.lastCommittedValue!==m&&(u.lastCommittedValue=m,u.userValue=m,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,n.addEventListener("blur",p=>{var m,v;if(!u.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var T;u.lastCommittedValue=null;const{data:g,target:m}=p,{value:v,selectionStart:b,selectionEnd:S}=m;let E=b,A=S;switch(p.inputType){case"deleteWordBackward":{const P=v.substring(0,b).match(/\w*[^\w]*$/);P&&(E-=P[0].length);break}case"deleteWordForward":{const P=v.substring(b).match(/^[^\w]*\w*/);P&&(A+=P[0].length);break}case"deleteContentBackward":b===S&&(E-=1);break;case"deleteContentForward":b===S&&(A+=1);break}p.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,change:g||"",willCommit:!1,selStart:E,selEnd:A}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&n.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class P3 extends vc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class I3 extends vc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return ac.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=fp,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n)){const u=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(n,{value:l})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Nx extends vc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const o of this._getElementsByName(e.fieldName,n))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(ac.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=fp,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=u&&d.id===n;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class R3 extends Rx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class O3 extends vc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");ac.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=fp;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,n.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let o=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=g.has(m.value);t.setValue(e,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,v=>v.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,v=i.children[p],b=document.createElement("option");b.textContent=g,b.value=m,v?v.before(b):i.append(b),t.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:m,exportValue:v}=g,b=document.createElement("option");b.textContent=m,b.value=v,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=a(!0),f=a(!1);t.setValue(e,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class zy extends rs{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:rs._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new M3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${gS}${n}`).join(",")),this.container}}var Au,Om,Mm,wu,Cl,Qe,Zr,Tu,Sf,Af,Cu,to,Li,eo,wf,so,Tf,xl,_l,Oe,dg,Xy,Dx,Lx,kx,Fx,fg,pg,Wy;class M3{constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:r,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){x(this,Oe);x(this,Au,C(this,Oe,kx).bind(this));x(this,Om,C(this,Oe,Wy).bind(this));x(this,Mm,C(this,Oe,pg).bind(this));x(this,wu,C(this,Oe,fg).bind(this));x(this,Cl,null);x(this,Qe,null);x(this,Zr,null);x(this,Tu,null);x(this,Sf,null);x(this,Af,null);x(this,Cu,null);x(this,to,!1);x(this,Li,null);x(this,eo,null);x(this,wf,null);x(this,so,null);x(this,Tf,null);x(this,xl,null);x(this,_l,!1);var f;w(this,Qe,t),w(this,Tf,i),w(this,Zr,o),w(this,so,a),w(this,Af,l),w(this,Cl,e),w(this,wf,c),w(this,Cu,u),w(this,Sf,n),w(this,Tu,bS.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,wu)),p.addEventListener("mouseenter",h(this,Mm)),p.addEventListener("mouseleave",h(this,Om)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",h(this,Au));h(this,Qe).hidden=!0,d&&C(this,Oe,fg).call(this)}render(){if(h(this,Li))return;const t=w(this,Li,document.createElement("div"));if(t.className="popup",h(this,Cl)){const r=t.style.outlineColor=wt.makeHexColor(...h(this,Cl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=wt.makeHexColor(...h(this,Cl).map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=h(this,Tf),t.append(e),h(this,Tu)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Tu).valueOf()})),e.append(r)}const i=h(this,Oe,dg);if(i)Ix.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(h(this,Zr));t.append(r)}h(this,Qe).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let r=0,o=i.length;r<o;++r){const a=i[r];n.append(document.createTextNode(a)),r<o-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;h(this,xl)||w(this,xl,{contentsObj:h(this,Zr),richText:h(this,so)}),t&&w(this,eo,null),e&&(w(this,so,C(this,Oe,Lx).call(this,e)),w(this,Zr,null)),(n=h(this,Li))==null||n.remove(),w(this,Li,null)}resetEdited(){var t;h(this,xl)&&({contentsObj:rn(this,Zr)._,richText:rn(this,so)._}=h(this,xl),w(this,xl,null),(t=h(this,Li))==null||t.remove(),w(this,Li,null),w(this,eo,null))}forceHide(){w(this,_l,this.isVisible),h(this,_l)&&(h(this,Qe).hidden=!0)}maybeShow(){h(this,_l)&&(h(this,Li)||C(this,Oe,pg).call(this),w(this,_l,!1),h(this,Qe).hidden=!1)}get isVisible(){return h(this,Qe).hidden===!1}}Au=new WeakMap,Om=new WeakMap,Mm=new WeakMap,wu=new WeakMap,Cl=new WeakMap,Qe=new WeakMap,Zr=new WeakMap,Tu=new WeakMap,Sf=new WeakMap,Af=new WeakMap,Cu=new WeakMap,to=new WeakMap,Li=new WeakMap,eo=new WeakMap,wf=new WeakMap,so=new WeakMap,Tf=new WeakMap,xl=new WeakMap,_l=new WeakMap,Oe=new WeakSet,dg=function(){const t=h(this,so),e=h(this,Zr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,so).html||null},Xy=function(){var t,e,n;return((n=(e=(t=h(this,Oe,dg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},Dx=function(){var t,e,n;return((n=(e=(t=h(this,Oe,dg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},Lx=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:h(this,Oe,Dx),fontSize:h(this,Oe,Xy)?`calc(${h(this,Oe,Xy)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:i});return n},kx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,to))&&C(this,Oe,fg).call(this)},Fx=function(){if(h(this,eo)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=h(this,Af);let o=!!h(this,Cu),a=o?h(this,Cu):h(this,wf);for(const g of h(this,Sf))if(!a||wt.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const l=wt.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),u=o?a[2]-a[0]+5:0,d=l[0]+u,f=l[1];w(this,eo,[100*(d-i)/e,100*(f-r)/n]);const{style:p}=h(this,Qe);p.left=`${h(this,eo)[0]}%`,p.top=`${h(this,eo)[1]}%`},fg=function(){w(this,to,!h(this,to)),h(this,to)?(C(this,Oe,pg).call(this),h(this,Qe).addEventListener("click",h(this,wu)),h(this,Qe).addEventListener("keydown",h(this,Au))):(C(this,Oe,Wy).call(this),h(this,Qe).removeEventListener("click",h(this,wu)),h(this,Qe).removeEventListener("keydown",h(this,Au)))},pg=function(){h(this,Li)||this.render(),this.isVisible?h(this,to)&&h(this,Qe).classList.add("focused"):(C(this,Oe,Fx).call(this),h(this,Qe).hidden=!1,h(this,Qe).style.zIndex=parseInt(h(this,Qe).style.zIndex)+1e3)},Wy=function(){h(this,Qe).classList.remove("focused"),!(h(this,to)||!this.isVisible)&&(h(this,Qe).hidden=!0,h(this,Qe).style.zIndex=parseInt(h(this,Qe).style.zIndex)-1e3)};class Ux extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Cf;class N3 extends rs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Cf,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:i}=Sa(e.rect),r=this.svgFactory.create(n,i,!0),o=w(this,Cf,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Cf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cf=new WeakMap;var xf;class D3 extends rs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,xf,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:i}=Sa(e.rect),r=this.svgFactory.create(n,i,!0),o=e.borderStyle.width,a=w(this,xf,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",n-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,xf)}addHighlightArea(){this.container.classList.add("highlightArea")}}xf=new WeakMap;var _f;class L3 extends rs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,_f,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:i}=Sa(e.rect),r=this.svgFactory.create(n,i,!0),o=e.borderStyle.width,a=w(this,_f,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",i/2),a.setAttribute("rx",n/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,_f)}addHighlightArea(){this.container.classList.add("highlightArea")}}_f=new WeakMap;var Pf;class Bx extends rs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Pf,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:i,popupRef:r}}=this;if(!n)return this.container;const{width:o,height:a}=Sa(e),l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=n.length;d<f;d+=2){const p=n[d]-e[0],g=e[3]-n[d+1];c.push(`${p},${g}`)}c=c.join(" ");const u=w(this,Pf,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Pf)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pf=new WeakMap;class k3 extends Bx{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class F3 extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var If,Pl,Rf,Ky;class wS extends rs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Rf);x(this,If,null);x(this,Pl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?qt.HIGHLIGHT:qt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:a,width:l,height:c}=C(this,Rf,Ky).call(this,n,e),u=this.svgFactory.create(l,c,!0),d=w(this,If,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=i.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);h(this,Pl).push(g),g.setAttribute("points",i[f].join(",")),d.append(g)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:i,rect:r}=e,o=h(this,If);if(n>=0&&o.setAttribute("stroke-width",n||1),i)for(let a=0,l=h(this,Pl).length;a<l;a++)h(this,Pl)[a].setAttribute("points",i[a].join(","));if(r){const{transform:a,width:l,height:c}=C(this,Rf,Ky).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return h(this,Pl)}addHighlightArea(){this.container.classList.add("highlightArea")}}If=new WeakMap,Pl=new WeakMap,Rf=new WeakSet,Ky=function(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class jx extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=qt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class U3 extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class B3 extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class j3 extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Hx extends rs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Of,Mf,Yy;class H3 extends rs{constructor(e){var i;super(e,{isRenderable:!0});x(this,Mf);x(this,Of,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",C(this,Mf,Yy).bind(this)),w(this,Of,i);const{isMac:r}=bn.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&C(this,Mf,Yy).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return h(this,Of)}addHighlightArea(){this.container.classList.add("highlightArea")}}Of=new WeakMap,Mf=new WeakSet,Yy=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Nf,Il,Rl,Df,dc,Vx,qy;class V3{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:o,structTreeLayer:a}){x(this,dc);x(this,Nf,null);x(this,Il,null);x(this,Rl,new Map);x(this,Df,null);this.div=t,w(this,Nf,e),w(this,Il,n),w(this,Df,a||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return h(this,Rl).size>0}async render(t){var o;const{annotations:e}=t,n=this.div;rc(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new AS,annotationStorage:t.annotationStorage||new ES,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const l=a.annotationType===ds.POPUP;if(l){const d=i.get(a.id);if(!d)continue;r.elements=d}else{const{width:d,height:f}=Sa(a.rect);if(d<=0||f<=0)continue}r.data=a;const c=C3.create(r);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await C(this,dc,Vx).call(this,u,a.id),c._isEditable&&(h(this,Rl).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}C(this,dc,qy).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,rc(e,{rotation:t.rotation}),C(this,dc,qy).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Rl).values())}getEditableAnnotation(t){return h(this,Rl).get(t)}}Nf=new WeakMap,Il=new WeakMap,Rl=new WeakMap,Df=new WeakMap,dc=new WeakSet,Vx=async function(t,e){var o,a;const n=t.firstChild||t,i=n.id=`${gS}${e}`,r=await((o=h(this,Df))==null?void 0:o.getAriaAttributes(i));if(r)for(const[l,c]of r)n.setAttribute(l,c);this.div.append(t),(a=h(this,Nf))==null||a.moveElementInDOM(this.div,t,n,!1)},qy=function(){if(!h(this,Il))return;const t=this.div;for(const[e,n]of h(this,Il)){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}h(this,Il).clear()};const kp=/\r\n?|\n/g;var ki,Vn,Lf,Ol,$n,hs,$x,Gx,zx,gg,So,mg,vg,Xx,Qy,Wx;const Ne=class Ne extends We{constructor(e){super({...e,name:"freeTextEditor"});x(this,hs);x(this,ki);x(this,Vn,"");x(this,Lf,`${this.id}-editor`);x(this,Ol,null);x(this,$n);w(this,ki,e.color||Ne._defaultColor||We._defaultLineColor),w(this,$n,e.fontSize||Ne._defaultFontSize)}static get _keyboardManager(){const e=Ne.prototype,n=o=>o.isEmpty(),i=oc.TRANSLATE_SMALL,r=oc.TRANSLATE_BIG;return ie(this,"_keyboardManager",new dp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){We.initialize(e,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case he.FREETEXT_SIZE:Ne._defaultFontSize=n;break;case he.FREETEXT_COLOR:Ne._defaultColor=n;break}}updateParams(e,n){switch(e){case he.FREETEXT_SIZE:C(this,hs,$x).call(this,n);break;case he.FREETEXT_COLOR:C(this,hs,Gx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[he.FREETEXT_SIZE,Ne._defaultFontSize],[he.FREETEXT_COLOR,Ne._defaultColor||We._defaultLineColor]]}get propertiesToUpdate(){return[[he.FREETEXT_SIZE,h(this,$n)],[he.FREETEXT_COLOR,h(this,ki)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ne._internalPadding*e,-(Ne._internalPadding+h(this,$n))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(qt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,Ol,new AbortController);const e=this._uiManager.combinedSignal(h(this,Ol));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Lf)),this._isDraggable=!0,(e=h(this,Ol))==null||e.abort(),w(this,Ol,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Vn),n=w(this,Vn,C(this,hs,zx).call(this).trimEnd());if(e===n)return;const i=r=>{if(w(this,Vn,r),!r){this.remove();return}C(this,hs,vg).call(this),this._uiManager.rebuild(this),C(this,hs,gg).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),C(this,hs,gg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ne._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Lf)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,$n)}px * var(--scale-factor))`,i.color=h(this,ki),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),em(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(a[0]-f)/u,m=n+this.height-(a[1]-p)/d;break;case 90:g=e+(a[0]-f)/u,m=n-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:g=e-this.width+(a[0]-f)/u,m=n-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=e+(a[0]-f-this.height*d)/u,m=n+(a[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*r,m*o,l,c)}else this.setAt(e*r,n*o,this.width*r,this.height*o);C(this,hs,vg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,v;const n=e.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=C(g=Ne,So,Qy).call(g,n.getData("text")||"").replaceAll(kp,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const b=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(kp,"")),b!==this.editorDiv){let S=u;for(const E of this.editorDiv.childNodes){if(E===b){S=d;continue}S.push(C(m=Ne,So,mg).call(m,E))}}u.push(l.nodeValue.slice(0,c).replaceAll(kp,""))}else if(l===this.editorDiv){let b=u,S=0;for(const E of this.editorDiv.childNodes)S++===c&&(b=d),b.push(C(v=Ne,So,mg).call(v,E))}w(this,Vn,`${u.join(`
`)}${r}${d.join(`
`)}`),C(this,hs,vg).call(this);const f=new Range;let p=u.reduce((b,S)=>b+S.length,0);for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(p<=S){f.setStart(b,p),f.setEnd(b,p);break}p-=S}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,i){var a;let r=null;if(e instanceof Ux){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:f,popupRef:p},textContent:g,textPosition:m,parent:{page:{pageNumber:v}}}=e;if(!g||g.length===0)return null;r=e={annotationType:qt.FREETEXT,color:Array.from(c),fontSize:l,value:g.join(`
`),position:m,pageIndex:v-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(e,n,i);return w(o,$n,e.fontSize),w(o,ki,wt.makeHexColor(...e.color)),w(o,Vn,C(a=Ne,So,Qy).call(a,e.value)),o.annotationElementId=e.id||null,o._initialData=r,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ne._internalPadding*this.parentScale,i=this.getRect(n,n),r=We._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,ki)),o={annotationType:qt.FREETEXT,color:r,fontSize:h(this,$n),value:C(this,hs,Xx).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!C(this,hs,Wx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${h(this,$n)}px * var(--scale-factor))`,i.color=h(this,ki),n.replaceChildren();for(const o of h(this,Vn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),n.append(a)}const r=Ne._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:h(this,Vn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ki=new WeakMap,Vn=new WeakMap,Lf=new WeakMap,Ol=new WeakMap,$n=new WeakMap,hs=new WeakSet,$x=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-h(this,$n))*this.parentScale),w(this,$n,r),C(this,hs,gg).call(this)},i=h(this,$n);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Gx=function(e){const n=r=>{w(this,ki,this.editorDiv.style.color=r)},i=h(this,ki);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zx=function(){var i;const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(C(i=Ne,So,mg).call(i,r)),n=r);return e.join(`
`)},gg=function(){const[e,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/n):(this.width=i.height/e,this.height=i.width/n),this.fixAndSetPosition()},So=new WeakSet,mg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(kp,"")},vg=function(){if(this.editorDiv.replaceChildren(),!!h(this,Vn))for(const e of h(this,Vn).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Xx=function(){return h(this,Vn).replaceAll(""," ")},Qy=function(e){return e.replaceAll(" ","")},Wx=function(e){const{value:n,fontSize:i,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==i||e.color.some((a,l)=>a!==r[l])||e.pageIndex!==o},x(Ne,So),_t(Ne,"_freeTextDefaultContent",""),_t(Ne,"_internalPadding",0),_t(Ne,"_defaultColor",null),_t(Ne,"_defaultFontSize",10),_t(Ne,"_type","freetext"),_t(Ne,"_editorType",qt.FREETEXT);let Jy=Ne;class gt{toSVGPath(){Re("Abstract method `toSVGPath` must be implemented.")}get box(){Re("Abstract getter `box` must be implemented.")}serialize(t,e){Re("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,r,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a]*i,o[a+1]=n+t[a+1]*r;return o}static _rescaleAndSwap(t,e,n,i,r,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=e+t[a+1]*i,o[a+1]=n+t[a]*r;return o}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)i[r]=e+t[r],i[r+1]=n+t[r+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,i,r){switch(r){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,r,o){return[(t+5*n)/6,(e+5*i)/6,(5*n+r)/6,(5*i+o)/6,(n+r)/2,(i+o)/2]}}_t(gt,"PRECISION",1e-4);var Gn,Fi,xu,_u,mr,te,Ml,Nl,kf,Ff,Pu,Iu,ca,Uf,Nm,Dm,Es,Bh,Kx,Yx,qx,Jx,Qx,Zx;const Hr=class Hr{constructor({x:t,y:e},n,i,r,o,a=0){x(this,Es);x(this,Gn);x(this,Fi,[]);x(this,xu);x(this,_u);x(this,mr,[]);x(this,te,new Float32Array(18));x(this,Ml);x(this,Nl);x(this,kf);x(this,Ff);x(this,Pu);x(this,Iu);x(this,ca,[]);w(this,Gn,n),w(this,Iu,r*i),w(this,_u,o),h(this,te).set([NaN,NaN,NaN,NaN,t,e],6),w(this,xu,a),w(this,Ff,h(Hr,Uf)*i),w(this,kf,h(Hr,Dm)*i),w(this,Pu,i),h(this,ca).push(t,e)}isEmpty(){return isNaN(h(this,te)[8])}add({x:t,y:e}){var _;w(this,Ml,t),w(this,Nl,e);const[n,i,r,o]=h(this,Gn);let[a,l,c,u]=h(this,te).subarray(8,12);const d=t-c,f=e-u,p=Math.hypot(d,f);if(p<h(this,kf))return!1;const g=p-h(this,Ff),m=g/p,v=m*d,b=m*f;let S=a,E=l;a=c,l=u,c+=v,u+=b,(_=h(this,ca))==null||_.push(t,e);const A=-b/g,T=v/g,P=A*h(this,Iu),R=T*h(this,Iu);return h(this,te).set(h(this,te).subarray(2,8),0),h(this,te).set([c+P,u+R],4),h(this,te).set(h(this,te).subarray(14,18),12),h(this,te).set([c-P,u-R],16),isNaN(h(this,te)[6])?(h(this,mr).length===0&&(h(this,te).set([a+P,l+R],2),h(this,mr).push(NaN,NaN,NaN,NaN,(a+P-n)/r,(l+R-i)/o),h(this,te).set([a-P,l-R],14),h(this,Fi).push(NaN,NaN,NaN,NaN,(a-P-n)/r,(l-R-i)/o)),h(this,te).set([S,E,a,l,c,u],6),!this.isEmpty()):(h(this,te).set([S,E,a,l,c,u],6),Math.abs(Math.atan2(E-l,S-a)-Math.atan2(b,v))<Math.PI/2?([a,l,c,u]=h(this,te).subarray(2,6),h(this,mr).push(NaN,NaN,NaN,NaN,((a+c)/2-n)/r,((l+u)/2-i)/o),[a,l,S,E]=h(this,te).subarray(14,18),h(this,Fi).push(NaN,NaN,NaN,NaN,((S+a)/2-n)/r,((E+l)/2-i)/o),!0):([S,E,a,l,c,u]=h(this,te).subarray(0,6),h(this,mr).push(((S+5*a)/6-n)/r,((E+5*l)/6-i)/o,((5*a+c)/6-n)/r,((5*l+u)/6-i)/o,((a+c)/2-n)/r,((l+u)/2-i)/o),[c,u,a,l,S,E]=h(this,te).subarray(12,18),h(this,Fi).push(((S+5*a)/6-n)/r,((E+5*l)/6-i)/o,((5*a+c)/6-n)/r,((5*l+u)/6-i)/o,((a+c)/2-n)/r,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,mr),e=h(this,Fi);if(isNaN(h(this,te)[6])&&!this.isEmpty())return C(this,Es,Kx).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);C(this,Es,qx).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return C(this,Es,Yx).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,r,o){return new t_(t,e,n,i,r,o)}getOutlines(){var d;const t=h(this,mr),e=h(this,Fi),n=h(this,te),[i,r,o,a]=h(this,Gn),l=new Float32Array((((d=h(this,ca))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,ca)[f]-i)/o,l[f+1]=(h(this,ca)[f+1]-r)/a;if(l[l.length-2]=(h(this,Ml)-i)/o,l[l.length-1]=(h(this,Nl)-r)/a,isNaN(n[6])&&!this.isEmpty())return C(this,Es,Jx).call(this,l);const c=new Float32Array(h(this,mr).length+24+h(this,Fi).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}u=C(this,Es,Zx).call(this,c,u);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=e[f+p],c[u+1]=e[f+p+1],u+=2}return C(this,Es,Qx).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,Gn),h(this,Pu),h(this,xu),h(this,_u))}};Gn=new WeakMap,Fi=new WeakMap,xu=new WeakMap,_u=new WeakMap,mr=new WeakMap,te=new WeakMap,Ml=new WeakMap,Nl=new WeakMap,kf=new WeakMap,Ff=new WeakMap,Pu=new WeakMap,Iu=new WeakMap,ca=new WeakMap,Uf=new WeakMap,Nm=new WeakMap,Dm=new WeakMap,Es=new WeakSet,Bh=function(){const t=h(this,te).subarray(4,6),e=h(this,te).subarray(16,18),[n,i,r,o]=h(this,Gn);return[(h(this,Ml)+(t[0]-e[0])/2-n)/r,(h(this,Nl)+(t[1]-e[1])/2-i)/o,(h(this,Ml)+(e[0]-t[0])/2-n)/r,(h(this,Nl)+(e[1]-t[1])/2-i)/o]},Kx=function(){const[t,e,n,i]=h(this,Gn),[r,o,a,l]=C(this,Es,Bh).call(this);return`M${(h(this,te)[2]-t)/n} ${(h(this,te)[3]-e)/i} L${(h(this,te)[4]-t)/n} ${(h(this,te)[5]-e)/i} L${r} ${o} L${a} ${l} L${(h(this,te)[16]-t)/n} ${(h(this,te)[17]-e)/i} L${(h(this,te)[14]-t)/n} ${(h(this,te)[15]-e)/i} Z`},Yx=function(t){const e=h(this,Fi);t.push(`L${e[4]} ${e[5]} Z`)},qx=function(t){const[e,n,i,r]=h(this,Gn),o=h(this,te).subarray(4,6),a=h(this,te).subarray(16,18),[l,c,u,d]=C(this,Es,Bh).call(this);t.push(`L${(o[0]-e)/i} ${(o[1]-n)/r} L${l} ${c} L${u} ${d} L${(a[0]-e)/i} ${(a[1]-n)/r}`)},Jx=function(t){const e=h(this,te),[n,i,r,o]=h(this,Gn),[a,l,c,u]=C(this,Es,Bh).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-i)/o,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-i)/o,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-i)/o],0),this.newFreeDrawOutline(d,t,h(this,Gn),h(this,Pu),h(this,xu),h(this,_u))},Qx=function(t,e){const n=h(this,Fi);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},Zx=function(t,e){const n=h(this,te).subarray(4,6),i=h(this,te).subarray(16,18),[r,o,a,l]=h(this,Gn),[c,u,d,f]=C(this,Es,Bh).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/a,(n[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/l],e),e+=24},x(Hr,Uf,8),x(Hr,Nm,2),x(Hr,Dm,h(Hr,Uf)+h(Hr,Nm));let nm=Hr;var Ru,Dl,no,Bf,zn,jf,ns,Lm,e_;class t_ extends gt{constructor(e,n,i,r,o,a){super();x(this,Lm);x(this,Ru);x(this,Dl,new Float32Array(4));x(this,no);x(this,Bf);x(this,zn);x(this,jf);x(this,ns);w(this,ns,e),w(this,zn,n),w(this,Ru,i),w(this,jf,r),w(this,no,o),w(this,Bf,a),this.lastPoint=[NaN,NaN],C(this,Lm,e_).call(this,a);const[l,c,u,d]=h(this,Dl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/u,e[f+1]=(e[f+1]-c)/d;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/d}toSVGPath(){const e=[`M${h(this,ns)[4]} ${h(this,ns)[5]}`];for(let n=6,i=h(this,ns).length;n<i;n+=6){if(isNaN(h(this,ns)[n])){e.push(`L${h(this,ns)[n+4]} ${h(this,ns)[n+5]}`);continue}e.push(`C${h(this,ns)[n]} ${h(this,ns)[n+1]} ${h(this,ns)[n+2]} ${h(this,ns)[n+3]} ${h(this,ns)[n+4]} ${h(this,ns)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,r],o){const a=i-e,l=r-n;let c,u;switch(o){case 0:c=gt._rescale(h(this,ns),e,r,a,-l),u=gt._rescale(h(this,zn),e,r,a,-l);break;case 90:c=gt._rescaleAndSwap(h(this,ns),e,n,a,l),u=gt._rescaleAndSwap(h(this,zn),e,n,a,l);break;case 180:c=gt._rescale(h(this,ns),i,n,-a,l),u=gt._rescale(h(this,zn),i,n,-a,l);break;case 270:c=gt._rescaleAndSwap(h(this,ns),i,r,-a,-l),u=gt._rescaleAndSwap(h(this,zn),i,r,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,Dl)}newOutliner(e,n,i,r,o,a=0){return new nm(e,n,i,r,o,a)}getNewOutline(e,n){const[i,r,o,a]=h(this,Dl),[l,c,u,d]=h(this,Ru),f=o*u,p=a*d,g=i*u+l,m=r*d+c,v=this.newOutliner({x:h(this,zn)[0]*f+g,y:h(this,zn)[1]*p+m},h(this,Ru),h(this,jf),e,h(this,Bf),n??h(this,no));for(let b=2;b<h(this,zn).length;b+=2)v.add({x:h(this,zn)[b]*f+g,y:h(this,zn)[b+1]*p+m});return v.getOutlines()}}Ru=new WeakMap,Dl=new WeakMap,no=new WeakMap,Bf=new WeakMap,zn=new WeakMap,jf=new WeakMap,ns=new WeakMap,Lm=new WeakSet,e_=function(e){const n=h(this,ns);let i=n[4],r=n[5],o=i,a=r,l=i,c=r,u=i,d=r;const f=e?Math.max:Math.min;for(let g=6,m=n.length;g<m;g+=6){if(isNaN(n[g]))o=Math.min(o,n[g+4]),a=Math.min(a,n[g+5]),l=Math.max(l,n[g+4]),c=Math.max(c,n[g+5]),d<n[g+5]?(u=n[g+4],d=n[g+5]):d===n[g+5]&&(u=f(u,n[g+4]));else{const v=wt.bezierBoundingBox(i,r,...n.slice(g,g+6));o=Math.min(o,v[0]),a=Math.min(a,v[1]),l=Math.max(l,v[2]),c=Math.max(c,v[3]),d<v[3]?(u=v[2],d=v[3]):d===v[3]&&(u=f(u,v[2]))}i=n[g+4],r=n[g+5]}const p=h(this,Dl);p[0]=o-h(this,no),p[1]=a-h(this,no),p[2]=l-o+2*h(this,no),p[3]=c-a+2*h(this,no),this.lastPoint=[u,d]};var Hf,Vf,ua,Ui,En,s_,bg,n_,i_,tE;class Zy{constructor(t,e=0,n=0,i=!0){x(this,En);x(this,Hf);x(this,Vf);x(this,ua,[]);x(this,Ui,[]);let r=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:b,y:S,width:E,height:A}of t){const T=Math.floor((b-e)/u)*u,P=Math.ceil((b+E+e)/u)*u,R=Math.floor((S-e)/u)*u,O=Math.ceil((S+A+e)/u)*u,_=[T,R,O,!0],N=[P,R,O,!1];h(this,ua).push(_,N),r=Math.min(r,T),o=Math.max(o,P),a=Math.min(a,R),l=Math.max(l,O)}const d=o-r+2*n,f=l-a+2*n,p=r-n,g=a-n,m=h(this,ua).at(i?-1:-2),v=[m[0],m[2]];for(const b of h(this,ua)){const[S,E,A]=b;b[0]=(S-p)/d,b[1]=(E-g)/f,b[2]=(A-g)/f}w(this,Hf,new Float32Array([p,g,d,f])),w(this,Vf,v)}getOutlines(){h(this,ua).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of h(this,ua))e[3]?(t.push(...C(this,En,tE).call(this,e)),C(this,En,n_).call(this,e)):(C(this,En,i_).call(this,e),t.push(...C(this,En,tE).call(this,e)));return C(this,En,s_).call(this,t)}}Hf=new WeakMap,Vf=new WeakMap,ua=new WeakMap,Ui=new WeakMap,En=new WeakSet,s_=function(t){const e=[],n=new Set;for(const o of t){const[a,l,c]=o;e.push([a,l,o],[a,c,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){const l=e[o][2],c=e[o+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let r;for(;n.size>0;){const o=n.values().next().value;let[a,l,c,u,d]=o;n.delete(o);let f=a,p=l;for(r=[a,c],i.push(r);;){let g;if(n.has(u))g=u;else if(n.has(d))g=d;else break;n.delete(g),[a,l,c,u,d]=g,f!==a&&(r.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}r.push(f,p)}return new $3(i,h(this,Hf),h(this,Vf))},bg=function(t){const e=h(this,Ui);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,o=e[r][0];if(o===t)return r;o<t?n=r+1:i=r-1}return i+1},n_=function([,t,e]){const n=C(this,En,bg).call(this,t);h(this,Ui).splice(n,0,[t,e])},i_=function([,t,e]){const n=C(this,En,bg).call(this,t);for(let i=n;i<h(this,Ui).length;i++){const[r,o]=h(this,Ui)[i];if(r!==t)break;if(r===t&&o===e){h(this,Ui).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,o]=h(this,Ui)[i];if(r!==t)break;if(r===t&&o===e){h(this,Ui).splice(i,1);return}}},tE=function(t){const[e,n,i]=t,r=[[e,n,i]],o=C(this,En,bg).call(this,i);for(let a=0;a<o;a++){const[l,c]=h(this,Ui)[a];for(let u=0,d=r.length;u<d;u++){const[,f,p]=r[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)r[u][1]=c;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=l,p>c&&r.push([e,c,p])}}}return r};var $f,Ou;class $3 extends gt{constructor(e,n,i){super();x(this,$f);x(this,Ou);w(this,Ou,e),w(this,$f,n),this.lastPoint=i}toSVGPath(){const e=[];for(const n of h(this,Ou)){let[i,r]=n;e.push(`M${i} ${r}`);for(let o=2;o<n.length;o+=2){const a=n[o],l=n[o+1];a===i?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${a}`),i=a)}e.push("Z")}return e.join(" ")}serialize([e,n,i,r],o){const a=[],l=i-e,c=r-n;for(const u of h(this,Ou)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*l,d[f+1]=r-u[f+1]*c;a.push(d)}return a}get box(){return h(this,$f)}get classNamesForOutlining(){return["highlightOutline"]}}$f=new WeakMap,Ou=new WeakMap;class eE extends nm{newFreeDrawOutline(t,e,n,i,r,o){return new G3(t,e,n,i,r,o)}}class G3 extends t_{newOutliner(t,e,n,i,r,o=0){return new eE(t,e,n,i,r,o)}}var Bi,Ll,Mu,gs,Gf,Nu,zf,Xf,ha,ji,Du,Wf,Ie,sE,nE,iE,ja,r_,Do;const _n=class _n{constructor({editor:t=null,uiManager:e=null}){x(this,Ie);x(this,Bi,null);x(this,Ll,null);x(this,Mu);x(this,gs,null);x(this,Gf,!1);x(this,Nu,!1);x(this,zf,null);x(this,Xf);x(this,ha,null);x(this,ji,null);x(this,Du);var n;t?(w(this,Nu,!1),w(this,Du,he.HIGHLIGHT_COLOR),w(this,zf,t)):(w(this,Nu,!0),w(this,Du,he.HIGHLIGHT_DEFAULT_COLOR)),w(this,ji,(t==null?void 0:t._uiManager)||e),w(this,Xf,h(this,ji)._eventBus),w(this,Mu,(t==null?void 0:t.color)||((n=h(this,ji))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),h(_n,Wf)||w(_n,Wf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ie(this,"_keyboardManager",new dp([[["Escape","mac+Escape"],_n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],_n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],_n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],_n.prototype._moveToPrevious],[["Home","mac+Home"],_n.prototype._moveToBeginning],[["End","mac+End"],_n.prototype._moveToEnd]]))}renderButton(){const t=w(this,Bi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,ji)._signal;t.addEventListener("click",C(this,Ie,ja).bind(this),{signal:e}),t.addEventListener("keydown",C(this,Ie,iE).bind(this),{signal:e});const n=w(this,Ll,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=h(this,Mu),t.append(n),t}renderMainDropdown(){const t=w(this,gs,C(this,Ie,sE).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Bi)){C(this,Ie,ja).call(this,t);return}const e=t.target.getAttribute("data-color");e&&C(this,Ie,nE).call(this,e,t)}_moveToNext(t){var e,n;if(!h(this,Ie,Do)){C(this,Ie,ja).call(this,t);return}if(t.target===h(this,Bi)){(e=h(this,gs).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=h(this,gs))==null?void 0:e.firstChild)||t.target===h(this,Bi)){h(this,Ie,Do)&&this._hideDropdownFromKeyboard();return}h(this,Ie,Do)||C(this,Ie,ja).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!h(this,Ie,Do)){C(this,Ie,ja).call(this,t);return}(e=h(this,gs).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,Ie,Do)){C(this,Ie,ja).call(this,t);return}(e=h(this,gs).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,gs))==null||t.classList.add("hidden"),(e=h(this,ha))==null||e.abort(),w(this,ha,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Nu)){if(!h(this,Ie,Do)){(t=h(this,zf))==null||t.unselect();return}this.hideDropdown(),h(this,Bi).focus({preventScroll:!0,focusVisible:h(this,Gf)})}}updateColor(t){if(h(this,Ll)&&(h(this,Ll).style.backgroundColor=t),!h(this,gs))return;const e=h(this,ji).highlightColors.values();for(const n of h(this,gs).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Bi))==null||t.remove(),w(this,Bi,null),w(this,Ll,null),(e=h(this,gs))==null||e.remove(),w(this,gs,null)}};Bi=new WeakMap,Ll=new WeakMap,Mu=new WeakMap,gs=new WeakMap,Gf=new WeakMap,Nu=new WeakMap,zf=new WeakMap,Xf=new WeakMap,ha=new WeakMap,ji=new WeakMap,Du=new WeakMap,Wf=new WeakMap,Ie=new WeakSet,sE=function(){const t=document.createElement("div"),e=h(this,ji)._signal;t.addEventListener("contextmenu",qi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of h(this,ji).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",h(_n,Wf)[n]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.setAttribute("aria-selected",i===h(this,Mu)),r.addEventListener("click",C(this,Ie,nE).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",C(this,Ie,iE).bind(this),{signal:e}),t},nE=function(t,e){e.stopPropagation(),h(this,Xf).dispatch("switchannotationeditorparams",{source:this,type:h(this,Du),value:t})},iE=function(t){_n._keyboardManager.exec(this,t)},ja=function(t){if(h(this,Ie,Do)){this.hideDropdown();return}if(w(this,Gf,t.detail===0),h(this,ha)||(w(this,ha,new AbortController),window.addEventListener("pointerdown",C(this,Ie,r_).bind(this),{signal:h(this,ji).combinedSignal(h(this,ha))})),h(this,gs)){h(this,gs).classList.remove("hidden");return}const e=w(this,gs,C(this,Ie,sE).call(this));h(this,Bi).append(e)},r_=function(t){var e;(e=h(this,gs))!=null&&e.contains(t.target)||this.hideDropdown()},Do=function(){return h(this,gs)&&!h(this,gs).classList.contains("hidden")},x(_n,Wf,null);let im=_n;var Lu,Kf,io,kl,ku,Rn,Yf,qf,Fl,di,Xn,Ns,Fu,ro,Xs,Uu,fi,Jf,Yt,rE,yg,o_,a_,l_,oE,Ha,vi,Nc,c_,Eg,jh,u_,h_,d_,f_,p_;const Se=class Se extends We{constructor(e){super({...e,name:"highlightEditor"});x(this,Yt);x(this,Lu,null);x(this,Kf,0);x(this,io);x(this,kl,null);x(this,ku,null);x(this,Rn,null);x(this,Yf,null);x(this,qf,0);x(this,Fl,null);x(this,di,null);x(this,Xn,null);x(this,Ns,!1);x(this,Fu,null);x(this,ro);x(this,Xs,null);x(this,Uu,"");x(this,fi);x(this,Jf,"");this.color=e.color||Se._defaultColor,w(this,fi,e.thickness||Se._defaultThickness),w(this,ro,e.opacity||Se._defaultOpacity),w(this,io,e.boxes||null),w(this,Jf,e.methodOfCreation||""),w(this,Uu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(w(this,Ns,!0),C(this,Yt,yg).call(this,e),C(this,Yt,Ha).call(this)):h(this,io)&&(w(this,Lu,e.anchorNode),w(this,Kf,e.anchorOffset),w(this,Yf,e.focusNode),w(this,qf,e.focusOffset),C(this,Yt,rE).call(this),C(this,Yt,Ha).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Se.prototype;return ie(this,"_keyboardManager",new dp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Ns)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,fi),methodOfCreation:h(this,Jf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var i;We.initialize(e,n),Se._defaultColor||(Se._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case he.HIGHLIGHT_DEFAULT_COLOR:Se._defaultColor=n;break;case he.HIGHLIGHT_THICKNESS:Se._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return h(this,Fu)}updateParams(e,n){switch(e){case he.HIGHLIGHT_COLOR:C(this,Yt,o_).call(this,n);break;case he.HIGHLIGHT_THICKNESS:C(this,Yt,a_).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[he.HIGHLIGHT_DEFAULT_COLOR,Se._defaultColor],[he.HIGHLIGHT_THICKNESS,Se._defaultThickness]]}get propertiesToUpdate(){return[[he.HIGHLIGHT_COLOR,this.color||Se._defaultColor],[he.HIGHLIGHT_THICKNESS,h(this,fi)||Se._defaultThickness],[he.HIGHLIGHT_FREE,h(this,Ns)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(w(this,ku,new im({editor:this})),e.addColorPicker(h(this,ku))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Yt,jh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,C(this,Yt,jh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){C(this,Yt,oE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Yt,Ha).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?C(this,Yt,oE).call(this):e&&(C(this,Yt,Ha).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,o,a;const{drawLayer:n}=this.parent;let i;h(this,Ns)?(e=(e-this.rotation+360)%360,i=C(r=Se,vi,Nc).call(r,h(this,di).box,e)):i=C(o=Se,vi,Nc).call(o,[this.x,this.y,this.width,this.height],e),n.updateProperties(h(this,Xn),{bbox:i,root:{"data-main-rotation":e}}),n.updateProperties(h(this,Xs),{bbox:C(a=Se,vi,Nc).call(a,h(this,Rn).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();h(this,Uu)&&(e.setAttribute("aria-label",h(this,Uu)),e.setAttribute("role","mark")),h(this,Ns)?e.classList.add("free"):this.div.addEventListener("keydown",C(this,Yt,c_).bind(this),{signal:this._uiManager._signal});const n=w(this,Fl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=h(this,kl);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),em(this,h(this,Fl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Xs),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(h(this,Xs),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:C(this,Yt,Eg).call(this,!0);break;case 1:case 3:C(this,Yt,Eg).call(this,!1);break}}select(){var e;super.select(),h(this,Xs)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Xs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),h(this,Xs)&&((e=this.parent)==null||e.drawLayer.updateProperties(h(this,Xs),{rootClass:{selected:!1}}),h(this,Ns)||C(this,Yt,Eg).call(this,!1))}get _mustFixPosition(){return!h(this,Ns)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Xn),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(h(this,Xs),{rootClass:{hidden:!e}}))}static startHighlighting(e,n,{target:i,x:r,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d),p=g=>{d.abort(),C(this,vi,f_).call(this,e,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",zi,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",qi,{signal:f}),i.addEventListener("pointermove",C(this,vi,d_).bind(this,e),{signal:f}),this._freeHighlight=new eE({x:r,y:o},[a,l,c,u],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,n,i){var m,v,b,S;let r=null;if(e instanceof jx){const{data:{quadPoints:E,rect:A,rotation:T,id:P,color:R,opacity:O,popupRef:_},parent:{page:{pageNumber:N}}}=e;r=e={annotationType:qt.HIGHLIGHT,color:Array.from(R),opacity:O,quadPoints:E,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:T,id:P,deleted:!1,popupRef:_}}else if(e instanceof wS){const{data:{inkLists:E,rect:A,rotation:T,id:P,color:R,borderStyle:{rawWidth:O},popupRef:_},parent:{page:{pageNumber:N}}}=e;r=e={annotationType:qt.HIGHLIGHT,color:Array.from(R),thickness:O,inkLists:E,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:T,id:P,deleted:!1,popupRef:_}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=e,u=await super.deserialize(e,n,i);u.color=wt.makeHexColor(...o),w(u,ro,c||1),l&&w(u,fi,e.thickness),u.annotationElementId=e.id||null,u._initialData=r;const[d,f]=u.pageDimensions,[p,g]=u.pageTranslation;if(a){const E=w(u,io,[]);for(let A=0;A<a.length;A+=8)E.push({x:(a[A]-p)/d,y:1-(a[A+1]-g)/f,width:(a[A+2]-a[A])/d,height:(a[A+1]-a[A+5])/f});C(m=u,Yt,rE).call(m),C(v=u,Yt,Ha).call(v),u.rotate(u.rotation)}else if(l){w(u,Ns,!0);const E=l[0],A={x:E[0]-p,y:f-(E[1]-g)},T=new eE(A,[0,0,d,f],1,h(u,fi)/2,!0,.001);for(let O=0,_=E.length;O<_;O+=2)A.x=E[O]-p,A.y=f-(E[O+1]-g),T.add(A);const{id:P,clipPathId:R}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);C(b=u,Yt,yg).call(b,{highlightOutlines:T.getOutlines(),highlightId:P,clipPathId:R}),C(S=u,Yt,Ha).call(S)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=We._colorManager.convert(this.color),r={annotationType:qt.HIGHLIGHT,color:i,opacity:h(this,ro),thickness:h(this,fi),quadPoints:C(this,Yt,u_).call(this),outlines:C(this,Yt,h_).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:C(this,Yt,jh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,Yt,p_).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Lu=new WeakMap,Kf=new WeakMap,io=new WeakMap,kl=new WeakMap,ku=new WeakMap,Rn=new WeakMap,Yf=new WeakMap,qf=new WeakMap,Fl=new WeakMap,di=new WeakMap,Xn=new WeakMap,Ns=new WeakMap,Fu=new WeakMap,ro=new WeakMap,Xs=new WeakMap,Uu=new WeakMap,fi=new WeakMap,Jf=new WeakMap,Yt=new WeakSet,rE=function(){const e=new Zy(h(this,io),.001);w(this,di,e.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,di).box;const n=new Zy(h(this,io),.0025,.001,this._uiManager.direction==="ltr");w(this,Rn,n.getOutlines());const{lastPoint:i}=h(this,Rn);w(this,Fu,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},yg=function({highlightOutlines:e,highlightId:n,clipPathId:i}){var d,f;if(w(this,di,e),w(this,Rn,e.getNewOutline(h(this,fi)/2+1.5,.0025)),n>=0)w(this,Xn,n),w(this,kl,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),w(this,Xs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,Rn).box,path:{d:h(this,Rn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Xn),{bbox:C(d=Se,vi,Nc).call(d,h(this,di).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,Xs),{bbox:C(f=Se,vi,Nc).call(f,h(this,Rn).box,p),path:{d:h(this,Rn).toSVGPath()}})}const[o,a,l,c]=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*g/p,this.height=c*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*g/p,this.height=c*p/g;break}}const{lastPoint:u}=h(this,Rn);w(this,Fu,[(u[0]-o)/l,(u[1]-a)/c])},o_=function(e){const n=(o,a)=>{var l,c;this.color=o,w(this,ro,a),(l=this.parent)==null||l.drawLayer.updateProperties(h(this,Xn),{root:{fill:o,"fill-opacity":a}}),(c=h(this,ku))==null||c.updateColor(o)},i=this.color,r=h(this,ro);this.addCommands({cmd:n.bind(this,e,Se._defaultOpacity),undo:n.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},a_=function(e){const n=h(this,fi),i=r=>{w(this,fi,r),C(this,Yt,l_).call(this,r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:he.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},l_=function(e){if(!h(this,Ns))return;C(this,Yt,yg).call(this,{highlightOutlines:h(this,di).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},oE=function(){h(this,Xn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Xn)),w(this,Xn,null),this.parent.drawLayer.remove(h(this,Xs)),w(this,Xs,null))},Ha=function(e=this.parent){h(this,Xn)===null&&({id:rn(this,Xn)._,clipPathId:rn(this,kl)._}=e.drawLayer.draw({bbox:h(this,di).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,ro)},rootClass:{highlight:!0,free:h(this,Ns)},path:{d:h(this,di).toSVGPath()}},!1,!0),w(this,Xs,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Ns)},bbox:h(this,Rn).box,path:{d:h(this,Rn).toSVGPath()}},h(this,Ns))),h(this,Fl)&&(h(this,Fl).style.clipPath=h(this,kl)))},vi=new WeakSet,Nc=function([e,n,i,r],o){switch(o){case 90:return[1-n-r,e,r,i];case 180:return[1-e-i,1-n-r,i,r];case 270:return[n,1-e-i,r,i]}return[e,n,i,r]},c_=function(e){Se._keyboardManager.exec(this,e)},Eg=function(e){if(!h(this,Lu))return;const n=window.getSelection();e?n.setPosition(h(this,Lu),h(this,Kf)):n.setPosition(h(this,Yf),h(this,qf))},jh=function(){return h(this,Ns)?this.rotation:0},u_=function(){if(h(this,Ns))return null;const[e,n]=this.pageDimensions,[i,r]=this.pageTranslation,o=h(this,io),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of o){const p=c*e+i,g=(1-u)*n+r;a[l]=a[l+4]=p,a[l+1]=a[l+3]=g,a[l+2]=a[l+6]=p+d*e,a[l+5]=a[l+7]=g-f*n,l+=8}return a},h_=function(e){return h(this,di).serialize(e,C(this,Yt,jh).call(this))},d_=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},f_=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},p_=function(e){const{color:n}=this._initialData;return e.color.some((i,r)=>i!==n[r])},x(Se,vi),_t(Se,"_defaultColor",null),_t(Se,"_defaultOpacity",1),_t(Se,"_defaultThickness",12),_t(Se,"_type","highlight"),_t(Se,"_editorType",qt.HIGHLIGHT),_t(Se,"_freeHighlightId",-1),_t(Se,"_freeHighlight",null),_t(Se,"_freeHighlightClipId","");let rm=Se;var Ul;class z3{constructor(){x(this,Ul,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))this.updateProperty(e,n)}updateSVGProperty(t,e){h(this,Ul)[t]=e}toSVGProperties(){const t=h(this,Ul);return w(this,Ul,Object.create(null)),{root:t}}reset(){w(this,Ul,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){Re("Not implemented")}}Ul=new WeakMap;var Wn,Bu,ge,lE,cE,uE,Hh,g_,Sg,Vh,Dc;const ai=class ai extends We{constructor(e){super(e);x(this,ge);x(this,Wn,null);x(this,Bu);_t(this,"_drawId",null);w(this,Bu,e.mustBeCommitted||!1),e.drawOutlines&&(C(this,ge,lE).call(this,e),C(this,ge,Hh).call(this))}static _mergeSVGProperties(e,n){const i=new Set(Object.keys(e));for(const[r,o]of Object.entries(n))i.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){Re("Not implemented")}static get typesMap(){Re("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(this._currentDraw.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,n[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,n[r]]);return e}_updateProperty(e,n,i){const r=this._drawingOptions,o=r[n],a=l=>{var u;r.updateProperty(n,l);const c=h(this,Wn).updateProperty(n,l);c&&C(this,ge,Vh).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ai._mergeSVGProperties(h(this,Wn).getPathResizingSVGProperties(C(this,ge,Sg).call(this)),{bbox:C(this,ge,Dc).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ai._mergeSVGProperties(h(this,Wn).getPathResizedSVGProperties(C(this,ge,Sg).call(this)),{bbox:C(this,ge,Dc).call(this)}))}_onTranslating(e,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:C(this,ge,Dc).call(this,e,n)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,ai._mergeSVGProperties(h(this,Wn).getPathTranslatedSVGProperties(C(this,ge,Sg).call(this),this.parentDimensions),{bbox:C(this,ge,Dc).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Bu)&&(w(this,Bu,!1),this.commit(),this.parent.setSelected(this),this.isOnScreen&&this.div.focus())}remove(){C(this,ge,uE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,ge,Hh).call(this),C(this,ge,Vh).call(this,h(this,Wn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),C(this,ge,uE).call(this)):e&&(this._uiManager.addShouldRescale(this),C(this,ge,Hh).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ai._mergeSVGProperties({bbox:C(this,ge,Dc).call(this)},h(this,Wn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&C(this,ge,Vh).call(this,h(this,Wn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const n=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,n,i,r,o){Re("Not implemented")}static startDrawing(e,n,i,{target:r,offsetX:o,offsetY:a}){var p;const{viewport:{rotation:l}}=e,{width:c,height:u}=r.getBoundingClientRect(),d=new AbortController,f=e.combinedSignal(d);if(window.addEventListener("pointerup",g=>{d.abort(),e.toggleDrawing(!0),this._endDraw(g)},{signal:f}),window.addEventListener("pointerdown",zi,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",qi,{signal:f}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),e.toggleDrawing(),(p=n._editorUndoBar)==null||p.hide(),this._currentDraw){e.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.startNew(o,a,c,u,l));return}n.updateUIForDefaultProperties(this),this._currentDraw=this.createDrawerInstance(o,a,c,u,l),this._currentDrawingOptions=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(this._currentDrawingOptions.toSVGProperties(),this._currentDraw.defaultSVGProperties),!0,!1)}static _drawMove({offsetX:e,offsetY:n}){this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.add(e,n))}static _endDraw({offsetX:e,offsetY:n}){const i=this._currentParent;if(i.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.end(e,n)),this.supportMultipleDrawings){const r=this._currentDraw,o=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(o,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:he.DRAW_STEP});return}this.endDrawing(!1)}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(he.DRAW_STEP),!this._currentDraw.isEmpty()){const{pageDimensions:[i,r],scale:o}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:this._currentDraw.getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:this._currentDrawingOptions,mustBeCommitted:!e});return this._cleanup(),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(),null}static _cleanup(){this._currentDrawId=-1,this._currentDraw=null,this._currentDrawingOptions=null,this._currentParent=null}createDrawingOptions(e){}static deserializeDraw(e,n,i,r,o,a){Re("Not implemented")}static async deserialize(e,n,i){var d,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}=n.viewport,c=this.deserializeDraw(a,l,r,o,this._INNER_MARGIN,e),u=await super.deserialize(e,n,i);return u.createDrawingOptions(e),C(d=u,ge,lE).call(d,{drawOutlines:c}),C(f=u,ge,Hh).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(e){const[n,i]=this.pageTranslation,[r,o]=this.pageDimensions;return h(this,Wn).serialize([n,i,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Wn=new WeakMap,Bu=new WeakMap,ge=new WeakSet,lE=function({drawOutlines:e,drawId:n,drawingOptions:i}){w(this,Wn,e),this._drawingOptions||(this._drawingOptions=i),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=C(this,ge,cE).call(this,e,this.parent),C(this,ge,Vh).call(this,e.box)},cE=function(e,n){const{id:i}=n.drawLayer.draw(ai._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i},uE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Hh=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=C(this,ge,cE).call(this,h(this,Wn),e)}},g_=function([e,n,i,r]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[n,1-e,i*(a/o),r*(o/a)];case 180:return[1-e,1-n,i,r];case 270:return[1-n,e,i*(a/o),r*(o/a)];default:return[e,n,i,r]}},Sg=function(){const{x:e,y:n,width:i,height:r,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-n,e,i*(o/a),r*(a/o)];case 180:return[1-e,1-n,i,r];case 270:return[n,1-e,i*(o/a),r*(a/o)];default:return[e,n,i,r]}},Vh=function(e){if([this.x,this.y,this.width,this.height]=C(this,ge,g_).call(this,e),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Dc=function(){const{x:e,y:n,width:i,height:r,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-n-r,e,r,i];case 2:return[1-e-i,1-n-r,i,r];case 3:return[n,1-e-i,r,i];case 4:return[e,n-i*(l/c),r*(c/l),i*(l/c)];case 5:return[1-n,e,i*(l/c),r*(c/l)];case 6:return[1-e-r*(c/l),1-n,r*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-e-r*(c/l),i*(l/c),r*(c/l)];case 8:return[e-i,n-r,i,r];case 9:return[1-n,e-i,r,i];case 10:return[1-e,1-n,i,r];case 11:return[n-r,1-e,r,i];case 12:return[e-r*(c/l),n,r*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),e-r*(c/l),i*(l/c),r*(c/l)];case 14:return[1-e,1-n-i*(l/c),r*(c/l),i*(l/c)];case 15:return[n,1-e,i*(l/c),r*(c/l)];default:return[e,n,i,r]}},_t(ai,"_currentDrawId",-1),_t(ai,"_currentDraw",null),_t(ai,"_currentDrawingOptions",null),_t(ai,"_currentParent",null),_t(ai,"_INNER_MARGIN",3);let aE=ai;var vr,Cs,xs,Bl,ju,On,Ds,pi,jl,Hl,Vl,Hu,Ag;class X3{constructor(t,e,n,i,r,o){x(this,Hu);x(this,vr,new Float64Array(6));x(this,Cs);x(this,xs);x(this,Bl);x(this,ju);x(this,On);x(this,Ds,"");x(this,pi,0);x(this,jl,new om);x(this,Hl);x(this,Vl);w(this,Hl,n),w(this,Vl,i),w(this,Bl,r),w(this,ju,o),[t,e]=C(this,Hu,Ag).call(this,t,e);const a=w(this,Cs,[NaN,NaN,NaN,NaN,t,e]);w(this,On,[t,e]),w(this,xs,[{line:a,points:h(this,On)}]),h(this,vr).set(a,0)}updateProperty(t,e){t==="stroke-width"&&w(this,ju,e)}isEmpty(){return!h(this,xs)||h(this,xs).length===0}add(t,e){[t,e]=C(this,Hu,Ag).call(this,t,e);const[n,i,r,o]=h(this,vr).subarray(2,6),a=t-r,l=e-o;return Math.hypot(h(this,Hl)*a,h(this,Vl)*l)<=2?null:(h(this,On).push(t,e),isNaN(n)?(h(this,vr).set([r,o,t,e],2),h(this,Cs).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(h(this,vr)[0])&&h(this,Cs).splice(6,6),h(this,vr).set([n,i,r,o,t,e],0),h(this,Cs).push(...gt.createBezierPoints(n,i,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(h(this,On).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,r){w(this,Hl,n),w(this,Vl,i),w(this,Bl,r),[t,e]=C(this,Hu,Ag).call(this,t,e);const o=w(this,Cs,[NaN,NaN,NaN,NaN,t,e]);w(this,On,[t,e]);const a=h(this,xs).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),h(this,xs).push({line:o,points:h(this,On)}),h(this,vr).set(o,0),w(this,pi,0),this.toSVGPath(),null}getLastElement(){return h(this,xs).at(-1)}setLastElement(t){return h(this,xs)?(h(this,xs).push(t),w(this,Cs,t.line),w(this,On,t.points),w(this,pi,0),{path:{d:this.toSVGPath()}}):h(this,jl).setLastElement(t)}removeLastElement(){if(!h(this,xs))return h(this,jl).removeLastElement();h(this,xs).pop(),w(this,Ds,"");for(let t=0,e=h(this,xs).length;t<e;t++){const{line:n,points:i}=h(this,xs)[t];w(this,Cs,n),w(this,On,i),w(this,pi,0),this.toSVGPath()}return{path:{d:h(this,Ds)}}}toSVGPath(){const t=gt.svgRound(h(this,Cs)[4]),e=gt.svgRound(h(this,Cs)[5]);if(h(this,On).length===2)return w(this,Ds,`${h(this,Ds)} M ${t} ${e} Z`),h(this,Ds);if(h(this,On).length<=6){const i=h(this,Ds).lastIndexOf("M");w(this,Ds,`${h(this,Ds).slice(0,i)} M ${t} ${e}`),w(this,pi,6)}if(h(this,On).length===4){const i=gt.svgRound(h(this,Cs)[10]),r=gt.svgRound(h(this,Cs)[11]);return w(this,Ds,`${h(this,Ds)} L ${i} ${r}`),w(this,pi,12),h(this,Ds)}const n=[];h(this,pi)===0&&(n.push(`M ${t} ${e}`),w(this,pi,6));for(let i=h(this,pi),r=h(this,Cs).length;i<r;i+=6){const[o,a,l,c,u,d]=h(this,Cs).slice(i,i+6).map(gt.svgRound);n.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return w(this,Ds,h(this,Ds)+n.join(" ")),w(this,pi,h(this,Cs).length),h(this,Ds)}getOutlines(t,e,n,i){const r=h(this,xs).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),h(this,jl).build(h(this,xs),t,e,n,h(this,Bl),h(this,ju),i),w(this,vr,null),w(this,Cs,null),w(this,xs,null),w(this,Ds,null),h(this,jl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}vr=new WeakMap,Cs=new WeakMap,xs=new WeakMap,Bl=new WeakMap,ju=new WeakMap,On=new WeakMap,Ds=new WeakMap,pi=new WeakMap,jl=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,Hu=new WeakSet,Ag=function(t,e){return gt._normalizePoint(t,e,h(this,Hl),h(this,Vl),h(this,Bl))};var un,Qf,Zf,Kn,br,yr,Vu,$u,Gu,Fs,Fr,m_,v_,b_;const aA=class aA extends gt{constructor(){super(...arguments);x(this,Fs);x(this,un);x(this,Qf,0);x(this,Zf);x(this,Kn);x(this,br);x(this,yr);x(this,Vu);x(this,$u);x(this,Gu)}build(e,n,i,r,o,a,l){w(this,br,n),w(this,yr,i),w(this,Vu,r),w(this,$u,o),w(this,Gu,a),w(this,Zf,l??0),w(this,Kn,e),C(this,Fs,v_).call(this)}setLastElement(e){return h(this,Kn).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,Kn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of h(this,Kn)){if(e.push(`M${gt.svgRound(n[4])} ${gt.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12){e.push(`L${gt.svgRound(n[10])} ${gt.svgRound(n[11])}`);continue}for(let i=6,r=n.length;i<r;i+=6){const[o,a,l,c,u,d]=n.subarray(i,i+6).map(gt.svgRound);e.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}}return e.join("")}serialize([e,n,i,r],o){const a=[],l=[],[c,u,d,f]=C(this,Fs,m_).call(this);let p,g,m,v,b,S,E,A,T;switch(h(this,$u)){case 0:T=gt._rescale,p=e,g=n+r,m=i,v=-r,b=e+c*i,S=n+(1-u-f)*r,E=e+(c+d)*i,A=n+(1-u)*r;break;case 90:T=gt._rescaleAndSwap,p=e,g=n,m=i,v=r,b=e+u*i,S=n+c*r,E=e+(u+f)*i,A=n+(c+d)*r;break;case 180:T=gt._rescale,p=e+i,g=n,m=-i,v=r,b=e+(1-c-d)*i,S=n+u*r,E=e+(1-c)*i,A=n+(u+f)*r;break;case 270:T=gt._rescaleAndSwap,p=e+i,g=n+r,m=-i,v=-r,b=e+(1-u-f)*i,S=n+(1-c-d)*r,E=e+(1-u)*i,A=n+(1-c)*r;break}for(const{line:P,points:R}of h(this,Kn))a.push(T(P,p,g,m,v,o?new Array(P.length):null)),l.push(T(R,p,g,m,v,o?new Array(R.length):null));return{lines:a,points:l,rect:[b,S,E,A]}}static deserialize(e,n,i,r,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const d=[];let f,p,g,m,v;switch(c){case 0:v=gt._rescale,f=-e/i,p=n/r+1,g=1/i,m=-1/r;break;case 90:v=gt._rescaleAndSwap,f=-n/r,p=-e/i,g=1/r,m=1/i;break;case 180:v=gt._rescale,f=e/i+1,p=-n/r,g=-1/i,m=1/r;break;case 270:v=gt._rescaleAndSwap,f=n/r+1,p=e/i+1,g=-1/r,m=-1/i;break}if(!a){a=[];for(const S of l){const E=S.length;if(E===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(E===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const A=new Float32Array(3*(E-2));a.push(A);let[T,P,R,O]=S.subarray(0,4);A.set([NaN,NaN,NaN,NaN,T,P],0);for(let _=4;_<E;_+=2){const N=S[_],L=S[_+1];A.set(gt.createBezierPoints(T,P,R,O,N,L),(_-2)*3),[T,P,R,O]=[R,O,N,L]}}}for(let S=0,E=a.length;S<E;S++)d.push({line:v(a[S].map(A=>A??NaN),f,p,g,m),points:v(l[S].map(A=>A??NaN),f,p,g,m)});const b=new aA;return b.build(d,i,r,1,c,u,o),b}get box(){return h(this,un)}updateProperty(e,n){return e==="stroke-width"?C(this,Fs,b_).call(this,n):null}updateParentDimensions([e,n],i){const[r,o]=C(this,Fs,Fr).call(this);w(this,br,e),w(this,yr,n),w(this,Vu,i);const[a,l]=C(this,Fs,Fr).call(this),c=a-r,u=l-o,d=h(this,un);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(e){return w(this,Qf,e),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,un).map(gt.svgRound).join(" ")}get defaultProperties(){const[e,n]=h(this,un);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${gt.svgRound(e)} ${gt.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=h(this,un);let i=0,r=0,o=0,a=0,l=0,c=0;switch(h(this,Qf)){case 90:r=n/e,o=-e/n,l=e;break;case 180:i=-1,a=-1,l=e,c=n;break;case 270:r=-n/e,o=e/n,c=n;break;default:return""}return`matrix(${i} ${r} ${o} ${a} ${gt.svgRound(l)} ${gt.svgRound(c)})`}getPathResizingSVGProperties([e,n,i,r]){const[o,a]=C(this,Fs,Fr).call(this),[l,c,u,d]=h(this,un);if(Math.abs(u-o)<=gt.PRECISION||Math.abs(d-a)<=gt.PRECISION){const v=e+i/2-(l+u/2),b=n+r/2-(c+d/2);return{path:{"transform-origin":`${gt.svgRound(e)} ${gt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${b})`}}}const f=(i-2*o)/(u-2*o),p=(r-2*a)/(d-2*a),g=u/i,m=d/r;return{path:{"transform-origin":`${gt.svgRound(l)} ${gt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${gt.svgRound(o)} ${gt.svgRound(a)}) scale(${f} ${p}) translate(${gt.svgRound(-o)} ${gt.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,i,r]){const[o,a]=C(this,Fs,Fr).call(this),l=h(this,un),[c,u,d,f]=l;if(l[0]=e,l[1]=n,l[2]=i,l[3]=r,Math.abs(d-o)<=gt.PRECISION||Math.abs(f-a)<=gt.PRECISION){const b=e+i/2-(c+d/2),S=n+r/2-(u+f/2);for(const{line:E,points:A}of h(this,Kn))gt._translate(E,b,S,E),gt._translate(A,b,S,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${gt.svgRound(e)} ${gt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*o)/(d-2*o),g=(r-2*a)/(f-2*a),m=-p*(c+o)+e+o,v=-g*(u+a)+n+a;if(p!==1||g!==1||m!==0||v!==0)for(const{line:b,points:S}of h(this,Kn))gt._rescale(b,m,v,p,g,b),gt._rescale(S,m,v,p,g,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${gt.svgRound(e)} ${gt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],i){const[r,o]=i,a=h(this,un),l=e-a[0],c=n-a[1];if(h(this,br)===r&&h(this,yr)===o)for(const{line:u,points:d}of h(this,Kn))gt._translate(u,l,c,u),gt._translate(d,l,c,d);else{const u=h(this,br)/r,d=h(this,yr)/o;w(this,br,r),w(this,yr,o);for(const{line:f,points:p}of h(this,Kn))gt._rescale(f,l,c,u,d,f),gt._rescale(p,l,c,u,d,p);a[2]*=u,a[3]*=d}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${gt.svgRound(e)} ${gt.svgRound(n)}`}}}get defaultSVGProperties(){const e=h(this,un);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${gt.svgRound(e[0])} ${gt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}};un=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Kn=new WeakMap,br=new WeakMap,yr=new WeakMap,Vu=new WeakMap,$u=new WeakMap,Gu=new WeakMap,Fs=new WeakSet,Fr=function(e=h(this,Gu)){const n=h(this,Zf)+e/2*h(this,Vu);return h(this,$u)%180===0?[n/h(this,br),n/h(this,yr)]:[n/h(this,yr),n/h(this,br)]},m_=function(){const[e,n,i,r]=h(this,un),[o,a]=C(this,Fs,Fr).call(this,0);return[e+o,n+a,i-2*o,r-2*a]},v_=function(){const e=w(this,un,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of h(this,Kn)){if(r.length<=12){for(let l=4,c=r.length;l<c;l+=6){const[u,d]=r.subarray(l,l+2);e[0]=Math.min(e[0],u),e[1]=Math.min(e[1],d),e[2]=Math.max(e[2],u),e[3]=Math.max(e[3],d)}continue}let o=r[4],a=r[5];for(let l=6,c=r.length;l<c;l+=6){const[u,d,f,p,g,m]=r.subarray(l,l+6);wt.bezierBoundingBox(o,a,u,d,f,p,g,m,e),o=g,a=m}}const[n,i]=C(this,Fs,Fr).call(this);e[0]=Math.min(1,Math.max(0,e[0]-n)),e[1]=Math.min(1,Math.max(0,e[1]-i)),e[2]=Math.min(1,Math.max(0,e[2]+n)),e[3]=Math.min(1,Math.max(0,e[3]+i)),e[2]-=e[0],e[3]-=e[1]},b_=function(e){const[n,i]=C(this,Fs,Fr).call(this);w(this,Gu,e);const[r,o]=C(this,Fs,Fr).call(this),[a,l]=[r-n,o-i],c=h(this,un);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};let om=aA;var zu;const lA=class lA extends z3{constructor(e){super();x(this,zu);w(this,zu,e),super.updateProperties({fill:"none",stroke:We._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=h(this,zu).realScale),super.updateSVGProperty(e,n)}clone(){const e=new lA(h(this,zu));return e.updateAll(this),e}};zu=new WeakMap;let hE=lA;var km,y_;const jc=class jc extends aE{constructor(e){super({...e,name:"inkEditor"});x(this,km);this._willKeepAspectRatio=!0}static initialize(e,n){We.initialize(e,n),this._defaultDrawingOptions=new hE(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ie(this,"typesMap",new Map([[he.INK_THICKNESS,"stroke-width"],[he.INK_COLOR,"stroke"],[he.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,i,r,o){return new X3(e,n,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,i,r,o,a){return om.deserialize(e,n,i,r,o,a)}static async deserialize(e,n,i){let r=null;if(e instanceof wS){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g},parent:{page:{pageNumber:m}}}=e;r=e={annotationType:qt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:g}}const o=await super.deserialize(e,n,i);return o.annotationElementId=e.id||null,o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:i}){this._drawingOptions=jc.getDefaultDrawingOptions({stroke:wt.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:qt.INK,color:We._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!C(this,km,y_).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const{points:n,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};km=new WeakSet,y_=function(e){const{color:n,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((a,l)=>a!==n[l])||e.thickness!==i||e.opacity!==r||e.pageIndex!==o},_t(jc,"_type","ink"),_t(jc,"_editorType",qt.INK),_t(jc,"_defaultDrawingOptions",null);let dE=jc;var ze,Ls,da,oo,fa,Xu,Er,ao,Sr,Yn,Wu,le,$h,Gh,wg,pE,E_,Tg,gE,Cg,S_,A_;const hd=class hd extends We{constructor(e){super({...e,name:"stampEditor"});x(this,le);x(this,ze,null);x(this,Ls,null);x(this,da,null);x(this,oo,null);x(this,fa,null);x(this,Xu,"");x(this,Er,null);x(this,ao,null);x(this,Sr,null);x(this,Yn,!1);x(this,Wu,!1);w(this,oo,e.bitmapUrl),w(this,fa,e.bitmapFile)}static initialize(e,n){We.initialize(e,n)}static get supportedTypes(){return ie(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return ie(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(qt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=e||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e,n;h(this,Ls)&&(w(this,ze,null),this._uiManager.imageManager.deleteId(h(this,Ls)),(e=h(this,Er))==null||e.remove(),w(this,Er,null),(n=h(this,ao))==null||n.disconnect(),w(this,ao,null),h(this,Sr)&&(clearTimeout(h(this,Sr)),w(this,Sr,null))),super.remove()}rebuild(){if(!this.parent){h(this,Ls)&&C(this,le,wg).call(this);return}super.rebuild(),this.div!==null&&(h(this,Ls)&&h(this,Er)===null&&C(this,le,wg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,da)||h(this,ze)||h(this,oo)||h(this,fa)||h(this,Ls))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,ze)?C(this,le,pE).call(this):C(this,le,wg).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(e*i,n*r,this.width*i,this.height*r)}return this.div}copyCanvas(e,n,i=!1){var p;e||(e=224);const{width:r,height:o}=h(this,ze),a=new hy;let l=h(this,ze),c=r,u=o,d=null;if(n){if(r>n||o>n){const O=Math.min(n/r,n/o);c=Math.floor(r*O),u=Math.floor(o*O)}d=document.createElement("canvas");const g=d.width=Math.ceil(c*a.sx),m=d.height=Math.ceil(u*a.sy);h(this,Yn)||(l=C(this,le,Tg).call(this,g,m));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",S="#42414d");const E=15,A=E*a.sx,T=E*a.sy,P=new OffscreenCanvas(A*2,T*2),R=P.getContext("2d");R.fillStyle=b,R.fillRect(0,0,A*2,T*2),R.fillStyle=S,R.fillRect(0,0,A,T),R.fillRect(A,T,A,T),v.fillStyle=v.createPattern(P,"repeat"),v.fillRect(0,0,g,m),v.drawImage(l,0,0,l.width,l.height,0,0,g,m)}let f=null;if(i){let g,m;if(a.symmetric&&l.width<e&&l.height<e)g=l.width,m=l.height;else if(l=h(this,ze),r>e||o>e){const S=Math.min(e/r,e/o);g=Math.floor(r*S),m=Math.floor(o*S),h(this,Yn)||(l=C(this,le,Tg).call(this,g,m))}const b=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,g,m),f={width:g,height:m,data:b.getImageData(0,0,g,m).data}}return{canvas:d,width:c,height:u,imageData:f}}getImageForAltText(){return h(this,Er)}static async deserialize(e,n,i){var m;let r=null;if(e instanceof Hx){const{data:{rect:v,rotation:b,id:S,structParent:E,popupRef:A},container:T,parent:{page:{pageNumber:P}}}=e,R=T.querySelector("canvas"),O=i.imageManager.getFromCanvas(T.id,R);R.remove();const _=((m=await n._structTree.getAriaAttributes(`${gS}${S}`))==null?void 0:m.get("aria-label"))||"";r=e={annotationType:qt.STAMP,bitmapId:O.id,bitmap:O.bitmap,pageIndex:P-1,rect:v.slice(0),rotation:b,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:_},isSvg:!1,structParent:E,popupRef:A}}const o=await super.deserialize(e,n,i),{rect:a,bitmap:l,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:f}=e;u&&i.imageManager.isValidId(u)?(w(o,Ls,u),l&&w(o,ze,l)):w(o,oo,c),w(o,Yn,d);const[p,g]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/g,o.annotationElementId=e.id||null,f&&(o.altTextData=f),o._initialData=r,w(o,Wu,!!r),o}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:qt.STAMP,bitmapId:h(this,Ls),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Yn),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=C(this,le,Cg).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=C(this,le,A_).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const a=h(this,Yn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(h(this,Ls)))n.stamps.set(h(this,Ls),{area:a,serialized:i}),i.bitmap=C(this,le,Cg).call(this,!1);else if(h(this,Yn)){const l=n.stamps.get(h(this,Ls));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=C(this,le,Cg).call(this,!1))}return i}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ze=new WeakMap,Ls=new WeakMap,da=new WeakMap,oo=new WeakMap,fa=new WeakMap,Xu=new WeakMap,Er=new WeakMap,ao=new WeakMap,Sr=new WeakMap,Yn=new WeakMap,Wu=new WeakMap,le=new WeakSet,$h=function(e,n=!1){if(!e){this.remove();return}w(this,ze,e.bitmap),n||(w(this,Ls,e.id),w(this,Yn,e.isSvg)),e.file&&w(this,Xu,e.file.name),C(this,le,pE).call(this)},Gh=function(){if(w(this,da,null),this._uiManager.enableWaiting(!1),!!h(this,Er)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ze)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ze)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},wg=function(){if(h(this,Ls)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Ls)).then(i=>C(this,le,$h).call(this,i,!0)).finally(()=>C(this,le,Gh).call(this));return}if(h(this,oo)){const i=h(this,oo);w(this,oo,null),this._uiManager.enableWaiting(!0),w(this,da,this._uiManager.imageManager.getFromUrl(i).then(r=>C(this,le,$h).call(this,r)).finally(()=>C(this,le,Gh).call(this)));return}if(h(this,fa)){const i=h(this,fa);w(this,fa,null),this._uiManager.enableWaiting(!0),w(this,da,this._uiManager.imageManager.getFromFile(i).then(r=>C(this,le,$h).call(this,r)).finally(()=>C(this,le,Gh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=hd.supportedTypesStr;const n=this._uiManager._signal;w(this,da,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,le,$h).call(this,r)}i()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>C(this,le,Gh).call(this))),e.click()},pE=function(){const{div:e}=this;let{width:n,height:i}=h(this,ze);const[r,o]=this.pageDimensions,a=.75;if(this.width)n=this.width*r,i=this.height*o;else if(n>a*r||i>a*o){const d=Math.min(a*r/n,a*o/i);n*=d,i*=d}const[l,c]=this.parentDimensions;this.setDims(n*l/r,i*c/o),this._uiManager.enableWaiting(!1);const u=w(this,Er,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),C(this,le,gE).call(this,n,i),C(this,le,S_).call(this),h(this,Wu)||(this.parent.addUndoableEditor(this),w(this,Wu,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Xu)&&u.setAttribute("aria-label",h(this,Xu))},E_=function(e,n){var a;const[i,r]=this.parentDimensions;this.width=e/i,this.height=n/r,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,Sr)!==null&&clearTimeout(h(this,Sr)),w(this,Sr,setTimeout(()=>{w(this,Sr,null),C(this,le,gE).call(this,e,n)},200))},Tg=function(e,n){const{width:i,height:r}=h(this,ze);let o=i,a=r,l=h(this,ze);for(;o>2*e||a>2*n;){const c=o,u=a;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=d.transferToImageBitmap()}return l},gE=function(e,n){const i=new hy,r=Math.ceil(e*i.sx),o=Math.ceil(n*i.sy),a=h(this,Er);if(!a||a.width===r&&a.height===o)return;a.width=r,a.height=o;const l=h(this,Yn)?h(this,ze):C(this,le,Tg).call(this,r,o),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,o)},Cg=function(e){if(e){if(h(this,Yn)){const r=this._uiManager.imageManager.getSvgUrl(h(this,Ls));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=h(this,ze),n.getContext("2d").drawImage(h(this,ze),0,0),n.toDataURL()}if(h(this,Yn)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*Ca.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Ca.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(h(this,ze),0,0,h(this,ze).width,h(this,ze).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(h(this,ze))},S_=function(){this._uiManager._signal&&(w(this,ao,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&C(this,le,E_).call(this,n.width,n.height)})),h(this,ao).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ao))==null||e.disconnect(),w(this,ao,null)},{once:!0}))},A_=function(e){var a;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===n,o=(((a=e.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},_t(hd,"_type","stamp"),_t(hd,"_editorType",qt.STAMP);let fE=hd;var $l,Ku,Ar,pa,lo,gi,ga,Yu,Hi,Ws,co,St,ma,He,w_,sr,vE,bE,xg;const Pi=class Pi{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){x(this,He);x(this,$l);x(this,Ku,!1);x(this,Ar,null);x(this,pa,null);x(this,lo,null);x(this,gi,new Map);x(this,ga,!1);x(this,Yu,!1);x(this,Hi,null);x(this,Ws,null);x(this,co,null);x(this,St);const d=[...h(Pi,ma).values()];if(!Pi._initialized){Pi._initialized=!0;for(const f of d)f.initialize(u,t)}t.registerEditorTypes(d),w(this,St,t),this.pageIndex=e,this.div=n,w(this,$l,r),w(this,Ar,o),this.viewport=c,w(this,Ws,l),this.drawLayer=a,this._structTree=i,h(this,St).addLayer(this)}get isEmpty(){return h(this,gi).size===0}get isInvisible(){return this.isEmpty&&h(this,St).getMode()===qt.NONE}updateToolbar(t){h(this,St).updateToolbar(t)}updateMode(t=h(this,St).getMode()){switch(C(this,He,xg).call(this),t){case qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case qt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of h(Pi,ma).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,Ws))==null?void 0:e.div)}setEditingState(t){h(this,St).setEditingState(t)}addCommands(t){h(this,St).addCommands(t)}cleanUndoStack(t){h(this,St).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Ar))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of h(this,gi).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(h(this,St).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!h(this,Ar))return;const e=h(this,Ar).getEditableAnnotations();for(const n of e){if(n.hide(),h(this,St).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;w(this,Yu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of h(this,gi).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(h(this,Ar)){const r=h(this,Ar).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(h(this,St).isDeletedAnnotationElement(a))continue;let l=e.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(h(this,St).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}C(this,He,xg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of h(Pi,ma).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,Yu,!1)}getEditableAnnotation(t){var e;return((e=h(this,Ar))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,St).getActive()!==t&&h(this,St).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Ws))!=null&&t.div&&!h(this,co)){w(this,co,new AbortController);const e=h(this,St).combinedSignal(h(this,co));h(this,Ws).div.addEventListener("pointerdown",C(this,He,w_).bind(this),{signal:e}),h(this,Ws).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Ws))!=null&&t.div&&h(this,co)&&(h(this,co).abort(),w(this,co,null),h(this,Ws).div.classList.remove("highlighting"))}enableClick(){if(h(this,pa))return;w(this,pa,new AbortController);const t=h(this,St).combinedSignal(h(this,pa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,pa))==null||t.abort(),w(this,pa,null)}attach(t){h(this,gi).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,St).isDeletedAnnotationElement(e)&&h(this,St).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,gi).delete(t.id),(e=h(this,$l))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,Yu)&&t.annotationElementId&&h(this,St).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,St).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,St).addDeletedAnnotationElement(t.annotationElementId),We.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,St).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,St).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,lo)&&(t._focusEventsAllowed=!1,w(this,lo,setTimeout(()=>{w(this,lo,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,St)._signal}),e.focus())},0))),t._structTreeParentId=(n=h(this,$l))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return h(this,St).getId()}combinedSignal(t){return h(this,St).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,He,sr))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,St).updateToolbar(t),h(this,St).updateMode(t);const{offsetX:n,offsetY:i}=C(this,He,bE).call(this),r=this.getNextId(),o=C(this,He,vE).call(this,{parent:this,id:r,x:n,y:i,uiManager:h(this,St),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=h(Pi,ma).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,St)))||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),r=C(this,He,vE).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:h(this,St),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(C(this,He,bE).call(this),!0)}setSelected(t){h(this,St).setSelected(t)}toggleSelected(t){h(this,St).toggleSelected(t)}unselect(t){h(this,St).unselect(t)}pointerup(t){var n;const{isMac:e}=bn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,ga)&&(w(this,ga,!1),!((n=h(this,He,sr))!=null&&n.isDrawer&&h(this,He,sr).supportMultipleDrawings))){if(!h(this,Ku)){w(this,Ku,!0);return}if(h(this,St).getMode()===qt.STAMP){h(this,St).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){var i;if(h(this,St).getMode()===qt.HIGHLIGHT&&this.enableTextSelection(),h(this,ga)){w(this,ga,!1);return}const{isMac:e}=bn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(w(this,ga,!0),(i=h(this,He,sr))!=null&&i.isDrawer){this.startDrawingSession(t);return}const n=h(this,St).getActive();w(this,Ku,!n||n.isEmpty())}startDrawingSession(t){if(this.div.focus(),h(this,Hi)){h(this,He,sr).startDrawing(this,h(this,St),!1,t);return}h(this,St).setCurrentDrawingSession(this),w(this,Hi,new AbortController);const e=h(this,St).combinedSignal(h(this,Hi));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&this.commitOrRemove()},{signal:e}),h(this,He,sr).startDrawing(this,h(this,St),!1,t)}endDrawingSession(t=!1){return h(this,Hi)?(h(this,St).setCurrentDrawingSession(null),h(this,Hi).abort(),w(this,Hi,null),h(this,He,sr).endDrawing(t)):null}findNewParent(t,e,n){const i=h(this,St).findParent(e,n);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return h(this,Hi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,Hi)&&h(this,He,sr).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=h(this,St).getActive())==null?void 0:t.parent)===this&&(h(this,St).commitOrRemove(),h(this,St).setActiveEditor(null)),h(this,lo)&&(clearTimeout(h(this,lo)),w(this,lo,null));for(const n of h(this,gi).values())(e=h(this,$l))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,h(this,gi).clear(),h(this,St).removeLayer(this)}render({viewport:t}){this.viewport=t,rc(this.div,t);for(const e of h(this,St).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,St).commitOrRemove(),C(this,He,xg).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,rc(this.div,{rotation:n}),e!==n)for(const i of h(this,gi).values())i.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,St).viewParameters.realScale}};$l=new WeakMap,Ku=new WeakMap,Ar=new WeakMap,pa=new WeakMap,lo=new WeakMap,gi=new WeakMap,ga=new WeakMap,Yu=new WeakMap,Hi=new WeakMap,Ws=new WeakMap,co=new WeakMap,St=new WeakMap,ma=new WeakMap,He=new WeakSet,w_=function(t){h(this,St).unselectAll();const{target:e}=t;if(e===h(this,Ws).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,Ws).div.contains(e)){const{isMac:n}=bn.platform;if(t.button!==0||t.ctrlKey&&n)return;h(this,St).showAllEditors("highlight",!0,!0),h(this,Ws).div.classList.add("free"),this.toggleDrawing(),rm.startHighlighting(this,h(this,St).direction==="ltr",{target:h(this,Ws).div,x:t.x,y:t.y}),h(this,Ws).div.addEventListener("pointerup",()=>{h(this,Ws).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,St)._signal}),t.preventDefault()}},sr=function(){return h(Pi,ma).get(h(this,St).getMode())},vE=function(t){const e=h(this,He,sr);return e?new e.prototype.constructor(t):null},bE=function(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),a=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+i),c=(r+a)/2-t,u=(o+l)/2-e,[d,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:f}},xg=function(){for(const t of h(this,gi).values())t.isEmpty()&&t.remove()},_t(Pi,"_initialized",!1),x(Pi,ma,new Map([Jy,dE,fE,rm].map(t=>[t._editorType,t])));let mE=Pi;var Vi,tp,hn,Gl,Fm,T_,Rr,EE,C_,SE;const $s=class $s{constructor({pageIndex:t}){x(this,Rr);x(this,Vi,null);x(this,tp,0);x(this,hn,new Map);x(this,Gl,new Map);this.pageIndex=t}setParent(t){if(!h(this,Vi)){w(this,Vi,t);return}if(h(this,Vi)!==t){if(h(this,hn).size>0)for(const e of h(this,hn).values())e.remove(),t.append(e);w(this,Vi,t)}}static get _svgFactory(){return ie(this,"_svgFactory",new AS)}draw(t,e=!1,n=!1){const i=rn(this,tp)._++,r=C(this,Rr,EE).call(this),o=$s._svgFactory.createElement("defs");r.append(o);const a=$s._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),e&&h(this,Gl).set(i,a);const c=n?C(this,Rr,C_).call(this,o,l):null,u=$s._svgFactory.createElement("use");return r.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(r,t),h(this,hn).set(i,r),{id:i,clipPathId:`url(#${c})`}}drawOutline(t,e){const n=rn(this,tp)._++,i=C(this,Rr,EE).call(this),r=$s._svgFactory.createElement("defs");i.append(r);const o=$s._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const d=$s._svgFactory.createElement("mask");r.append(d),l=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=$s._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=$s._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=$s._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,t),h(this,hn).set(n,i),n}finalizeDraw(t,e){h(this,Gl).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:n,bbox:i,rootClass:r,path:o}=e,a=typeof t=="number"?h(this,hn).get(t):t;if(a){if(n&&C(this,Rr,SE).call(this,a,n),i&&C(l=$s,Fm,T_).call(l,a,i),r){const{classList:c}=a;for(const[u,d]of Object.entries(r))c.toggle(u,d)}if(o){const u=a.firstChild.firstChild;C(this,Rr,SE).call(this,u,o)}}}updateParent(t,e){if(e===this)return;const n=h(this,hn).get(t);n&&(h(e,Vi).append(n),h(this,hn).delete(t),h(e,hn).set(t,n))}remove(t){h(this,Gl).delete(t),h(this,Vi)!==null&&(h(this,hn).get(t).remove(),h(this,hn).delete(t))}destroy(){w(this,Vi,null);for(const t of h(this,hn).values())t.remove();h(this,hn).clear(),h(this,Gl).clear()}};Vi=new WeakMap,tp=new WeakMap,hn=new WeakMap,Gl=new WeakMap,Fm=new WeakSet,T_=function(t,[e,n,i,r]){const{style:o}=t;o.top=`${100*n}%`,o.left=`${100*e}%`,o.width=`${100*i}%`,o.height=`${100*r}%`},Rr=new WeakSet,EE=function(){const t=$s._svgFactory.create(1,1,!0);return h(this,Vi).append(t),t.setAttribute("aria-hidden",!0),t},C_=function(t,e){const n=$s._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=$s._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),i},SE=function(t,e){for(const[n,i]of Object.entries(e))i===null?t.removeAttribute(n):t.setAttribute(n,i)},x($s,Fm);let yE=$s;globalThis.pdfjsTestingUtils={HighlightOutliner:Zy};jt.AbortException;jt.AnnotationEditorLayer;jt.AnnotationEditorParamsType;jt.AnnotationEditorType;jt.AnnotationEditorUIManager;jt.AnnotationLayer;jt.AnnotationMode;jt.ColorPicker;jt.DOMSVGFactory;jt.DrawLayer;jt.FeatureTest;var W3=jt.GlobalWorkerOptions;jt.ImageKind;jt.InvalidPDFException;jt.MissingPDFException;jt.OPS;jt.OutputScale;jt.PDFDataRangeTransport;jt.PDFDateString;jt.PDFWorker;jt.PasswordResponses;jt.PermissionFlag;jt.PixelsPerInch;jt.RenderingCancelledException;jt.TextLayer;jt.UnexpectedResponseException;jt.Util;jt.VerbosityLevel;jt.XfaLayer;jt.build;jt.createValidAbsoluteUrl;jt.fetchData;var x_=jt.getDocument;jt.getFilenameFromUrl;jt.getPdfFilenameFromUrl;jt.getXfaPageViewport;jt.isDataScheme;jt.isPdfFile;jt.noContextMenu;jt.normalizeUnicode;jt.setLayerDimensions;jt.shadow;jt.stopEvent;jt.version;typeof window<"u"&&"Worker"in window&&(W3.workerPort=new Worker(new URL("/static/vue/assets/pdf.worker-D96RgrRB.js",import.meta.url),{type:"module"}));const K3={data(){return{processoId:localStorage.getItem("processoId"),usuarioProcessoId:localStorage.getItem("usuarioProcessoId"),processos:[],pontos:null,pontosPorItem:{},openAccordions:[],isAuthenticated:!!localStorage.getItem("access_token"),pdfUrl:null,isModalTarefaOpen:!1,isModalDocOpen:!1,uploadedDocuments:[],tarefaSelecionada:null,taskId:null,isModalReajusteOpen:!1,isModalAvisoReajusteOpen:!1,docSelecionado:null,reajusteForm:{qdeReajustada:null,obsReajuste:""}}},async mounted(){await this.fetchProcessoTreeUsuario()},methods:{async fetchProcessoTreeUsuario(){try{const t=(await ne.get(`/usuario-processo/${this.usuarioProcessoId}/processo-tree/`)).data;this.processos=[t],this.pontos=t.total_pontos,this.pontosPorItem=this.montarMapaPontos(t)}catch(s){console.error("Erro ao buscar processo do usurio:",s)}},montarMapaPontos(s){const t={};function e(n){n.forEach(i=>{t[i.id]=i.total_pontos||0,i.subitemizacoes&&e(i.subitemizacoes)})}return s.itemizacoes&&e(s.itemizacoes),t[s.id]=s.total_pontos,t},isOpen(s){return this.openAccordions.includes(s)},toggleAccordion(s){this.openAccordions.includes(s)?this.openAccordions=this.openAccordions.filter(t=>t!==s):this.openAccordions.push(s)},openTarefa(s){this.uploadedDocuments=s.documentos||[],this.tarefaSelecionada=s,this.taskId=s.id,this.isModalTarefaOpen=!0},async openDocumento(s){this.isModalDocOpen=!0,this.pdfUrl=s;try{const t=await fetch(this.pdfUrl);if(!t.ok)throw new Error("Error fetching PDF file");const e=await t.blob(),n=URL.createObjectURL(e);x_(n).promise.then(()=>{}).catch(i=>{console.error("Error loading PDF:",i)})}catch(t){console.error("Error fetching PDF URL:",t)}},closeModalDoc(){this.isModalDocOpen=!1},closeModalTarefa(){this.isModalTarefaOpen=!1},openReajusteModal(s,t){if((t.status||"").toLowerCase()!=="submetido"){this.isModalAvisoReajusteOpen=!0;return}this.docSelecionado=s,this.reajusteForm.qdeReajustada=s.qdeReajustada??s.quantidade,this.reajusteForm.obsReajuste=s.obsReajuste||"",this.isModalReajusteOpen=!0},closeModalReajuste(){this.isModalReajusteOpen=!1,this.docSelecionado=null,this.reajusteForm.qdeReajustada=null,this.reajusteForm.obsReajuste=""},closeModalAvisoReajuste(){this.isModalAvisoReajusteOpen=!1},async submitReajuste(){try{await ne.patch(`/usuario-docs/${this.docSelecionado.id}/`,{qdeReajustada:this.reajusteForm.qdeReajustada,obsReajuste:this.reajusteForm.obsReajuste}),this.closeModalReajuste(),await this.fetchProcessoTreeUsuario()}catch{alert("Erro ao reajustar documento")}},formatFilename(s,t=!0){if(!s)return"";const[n,i]=s.split(/(?=\.[^.]+$)/);if(!t||s.length<=40)return s;const r=i||"";return`${n.slice(0,40-(r.length?r.length+3:3))}...${r}`},voltarParaTelaAnterior(){this.$router?this.$router.go(-1):window.history.back()}}},Y3={key:0,class:"padrao-list"},q3={class:"accordion-item"},J3=["onClick"],Q3={class:"processo-header-flex"},Z3={class:"processo-title"},tU={key:0,class:"pontos-info"},eU={key:0,class:"pdf-link-right"},sU=["onClick"],nU={class:"accordion-content"},iU=["onClick"],rU={class:"itemizacao-title"},oU={key:0,class:"pontos-info"},aU={class:"accordion-content"},lU=["onClick"],cU={class:"subitem-title"},uU={key:0,class:"pontos-info"},hU={class:"accordion-content"},dU=["onClick"],fU={class:"subsubitem-title"},pU={key:0,class:"pontos-info"},gU={class:"accordion-content"},mU={key:0},vU={class:"tarefa"},bU=["onClick"],yU={key:0},EU=["onClick"],SU={class:"document-quantity"},AU=["onClick"],wU={key:0},TU={class:"tarefa"},CU=["onClick"],xU={key:0},_U=["onClick"],PU={class:"document-quantity"},IU=["onClick"],RU={key:0},OU=["onClick"],MU={key:0},NU=["onClick"],DU={class:"document-quantity"},LU=["onClick"],kU={class:"modal-content modal-content-doc"},FU={class:"header-actions"},UU=["src"],BU={class:"modal-content modal-content-reajuste"},jU={class:"header-actions"},HU={class:"modal-content modal-content-reajuste"},VU={class:"header-actions"};function $U(s,t,e,n,i,r){const o=Us("ConfirmDialog"),a=Us("MessageDialog");return i.isAuthenticated?(D(),k("div",Y3,[(D(!0),k(yt,null,Ae(i.processos,l=>(D(),k("div",{key:l.id},[y("div",q3,[y("div",{class:"accordion-header",onClick:c=>r.toggleAccordion(l.id)},[y("div",Q3,[y("h3",Z3,[bt(q(l.nome)+" ",1),i.pontosPorItem[l.id]!==void 0?(D(),k("span",tU," | Pontuao do usurio: "+q(i.pontosPorItem[l.id])+" / Pontuao necessria: "+q(l.pontos),1)):ot("",!0)]),l.link_processo_pdf?(D(),k("span",eU,[y("button",{class:"btn-back-processo",onClick:t[0]||(t[0]=Rt((...c)=>r.voltarParaTelaAnterior&&r.voltarParaTelaAnterior(...c),["stop"]))}," Voltar "),y("button",{class:"btn-download-processo",onClick:Rt(c=>r.openDocumento(l.link_processo_pdf),["stop"])}," Download ",8,sU)])):ot("",!0)])],8,J3),Gt(y("div",nU,[(D(!0),k(yt,null,Ae(l.itemizacoes,c=>(D(),k("div",{key:c.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:u=>r.toggleAccordion(c.id)},[y("h4",rU,[bt(q(c.nome)+" ",1),i.pontosPorItem[c.id]!==void 0?(D(),k("span",oU," | "+q(i.pontosPorItem[c.id]),1)):ot("",!0)])],8,iU),Gt(y("div",aU,[(D(!0),k(yt,null,Ae(c.subitemizacoes,u=>(D(),k("div",{key:u.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:d=>r.toggleAccordion(u.id)},[y("h5",cU,[bt(q(u.nome)+" ",1),i.pontosPorItem[u.id]!==void 0?(D(),k("span",uU," | "+q(i.pontosPorItem[u.id]),1)):ot("",!0)])],8,lU),Gt(y("div",hU,[(D(!0),k(yt,null,Ae(u.subitemizacoes,d=>(D(),k("div",{key:d.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:f=>r.toggleAccordion(d.id)},[y("h6",fU,[bt(q(d.nome)+" ",1),i.pontosPorItem[d.id]!==void 0?(D(),k("span",pU," | "+q(i.pontosPorItem[d.id]),1)):ot("",!0)])],8,dU),Gt(y("div",gU,[d.tarefas&&d.tarefas.length?(D(),k("ul",mU,[(D(!0),k(yt,null,Ae(d.tarefas,f=>(D(),k("li",{key:f.id},[y("div",vU,[y("div",{onClick:Rt(p=>r.openTarefa(f),["stop"])},q(f.nome)+" ("+q(f.ponto)+" pts) ",9,bU),f.documentos&&f.documentos.length?(D(),k("ul",yU,[(D(!0),k(yt,null,Ae(f.documentos,p=>(D(),k("li",{key:p.id,style:{"margin-left":"10px"}},[y("a",{class:vs(["doc-filename",{reajustada:p.qdeReajustada!==null&&p.qdeReajustada!==void 0}]),onClick:Rt(g=>r.openDocumento(p.file),["prevent"]),href:"#"},q(r.formatFilename(p.filename,!0)),11,EU),y("span",SU,[bt(" Qtd: "+q(p.qdeReajustada!=null?p.qdeReajustada:p.quantidade)+" ",1),y("a",{href:"#",class:"reajustar-link",onClick:Rt(g=>r.openReajusteModal(p,l),["prevent"])}," reajustar ",8,AU)])]))),128))])):ot("",!0)])]))),128))])):ot("",!0)],512),[[wr,r.isOpen(d.id)]])]))),128)),u.tarefas&&u.tarefas.length?(D(),k("ul",wU,[(D(!0),k(yt,null,Ae(u.tarefas,d=>(D(),k("li",{key:d.id},[y("div",TU,[y("div",{onClick:Rt(f=>r.openTarefa(d),["stop"])},q(d.nome)+" ("+q(d.ponto)+" pts) ",9,CU),d.documentos&&d.documentos.length?(D(),k("ul",xU,[(D(!0),k(yt,null,Ae(d.documentos,f=>(D(),k("li",{key:f.id,style:{"margin-left":"10px"}},[y("a",{class:vs(["doc-filename",{reajustada:f.qdeReajustada!==null&&f.qdeReajustada!==void 0}]),onClick:Rt(p=>r.openDocumento(f.file),["prevent"]),href:"#"},q(r.formatFilename(f.filename,!0)),11,_U),y("span",PU,[bt(" Qtd: "+q(f.qdeReajustada!=null?f.qdeReajustada:f.quantidade)+" ",1),y("a",{href:"#",class:"reajustar-link",onClick:Rt(p=>r.openReajusteModal(f,l),["prevent"])}," reajustar ",8,IU)])]))),128))])):ot("",!0)])]))),128))])):ot("",!0)],512),[[wr,r.isOpen(u.id)]])]))),128)),c.tarefas&&c.tarefas.length?(D(),k("ul",RU,[(D(!0),k(yt,null,Ae(c.tarefas,u=>(D(),k("li",{key:u.id},[y("div",{class:"tarefa",onClick:Rt(d=>r.openTarefa(u),["stop"])},[bt(q(u.nome)+" ("+q(u.ponto)+" pts) ",1),u.documentos&&u.documentos.length?(D(),k("ul",MU,[(D(!0),k(yt,null,Ae(u.documentos,d=>(D(),k("li",{key:d.id,style:{"margin-left":"10px"}},[y("a",{class:vs(["doc-filename",{reajustada:d.qdeReajustada!==null&&d.qdeReajustada!==void 0}]),onClick:Rt(f=>r.openDocumento(d.file),["prevent"]),href:"#"},q(r.formatFilename(d.filename,!0)),11,NU),y("span",DU,[bt(" Qtd: "+q(d.qdeReajustada!=null?d.qdeReajustada:d.quantidade)+" ",1),y("a",{href:"#",class:"reajustar-link",onClick:Rt(f=>r.openReajusteModal(d,l),["prevent"])}," reajustar ",8,LU)])]))),128))])):ot("",!0)],8,OU)]))),128))])):ot("",!0)],512),[[wr,r.isOpen(c.id)]])]))),128))],512),[[wr,r.isOpen(l.id)]])])]))),128)),i.isModalDocOpen?(D(),k("div",{key:0,class:"modal modal-doc",onClick:t[2]||(t[2]=Rt((...l)=>r.closeModalDoc&&r.closeModalDoc(...l),["self"]))},[y("div",kU,[y("div",FU,[t[10]||(t[10]=y("h1",null,"Documento",-1)),y("button",{type:"button",onClick:t[1]||(t[1]=Rt((...l)=>r.closeModalDoc&&r.closeModalDoc(...l),["stop"]))},"Fechar")]),t[11]||(t[11]=y("hr",{class:"section-divider"},null,-1)),y("iframe",{src:i.pdfUrl},null,8,UU)])])):ot("",!0),i.isModalReajusteOpen?(D(),k("div",{key:1,class:"modal modal-doc",onClick:t[7]||(t[7]=Rt((...l)=>r.closeModalReajuste&&r.closeModalReajuste(...l),["self"]))},[y("div",BU,[y("div",jU,[t[12]||(t[12]=y("h1",null,"Reajustar Quantidade",-1)),y("button",{type:"button",onClick:t[3]||(t[3]=(...l)=>r.closeModalReajuste&&r.closeModalReajuste(...l))},"Fechar")]),t[16]||(t[16]=y("hr",{class:"section-divider"},null,-1)),y("form",{onSubmit:t[6]||(t[6]=Rt((...l)=>r.submitReajuste&&r.submitReajuste(...l),["prevent"]))},[y("div",null,[t[13]||(t[13]=y("label",null,"Nova quantidade:",-1)),Gt(y("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>i.reajusteForm.qdeReajustada=l),min:"0",required:""},null,512),[[ae,i.reajusteForm.qdeReajustada]])]),y("div",null,[t[14]||(t[14]=y("label",null,"Justificativa:",-1)),Gt(y("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.reajusteForm.obsReajuste=l),required:""},null,512),[[ae,i.reajusteForm.obsReajuste]])]),t[15]||(t[15]=y("button",{type:"submit",class:"btn-reajustar"},"Salvar",-1))],32)])])):ot("",!0),i.isModalAvisoReajusteOpen?(D(),k("div",{key:2,class:"modal modal-doc",onClick:t[9]||(t[9]=Rt((...l)=>r.closeModalAvisoReajuste&&r.closeModalAvisoReajuste(...l),["self"]))},[y("div",HU,[y("div",VU,[t[17]||(t[17]=y("h1",null,"Aviso",-1)),y("button",{type:"button",onClick:t[8]||(t[8]=(...l)=>r.closeModalAvisoReajuste&&r.closeModalAvisoReajuste(...l))},"Fechar")]),t[18]||(t[18]=y("hr",{class:"section-divider"},null,-1)),t[19]||(t[19]=y("div",null,[y("p",null,[bt("O reajuste s  permitido quando o processo estiver "),y("b",null,"Submetido"),bt(".")])],-1))])])):ot("",!0),Ut(o,{ref:"confirmDialog",class:"confirm-dialog-modal"},null,512),Ut(a,{ref:"messageDialog"},null,512)])):ot("",!0)}const GU=Is(K3,[["render",$U],["__scopeId","data-v-b48eedcc"]]);function zU(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Av(s){if(s.__esModule)return s;var t=s.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var i=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return s[n]}})}),e}var _g={exports:{}},mb={exports:{}},vb={};/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sh=Symbol(""),zc=Symbol(""),wv=Symbol(""),Id=Symbol(""),TS=Symbol(""),xa=Symbol(""),CS=Symbol(""),xS=Symbol(""),Tv=Symbol(""),Cv=Symbol(""),ph=Symbol(""),xv=Symbol(""),_S=Symbol(""),_v=Symbol(""),Pv=Symbol(""),Iv=Symbol(""),Rv=Symbol(""),Ov=Symbol(""),Mv=Symbol(""),PS=Symbol(""),IS=Symbol(""),pp=Symbol(""),Rd=Symbol(""),Nv=Symbol(""),Dv=Symbol(""),nh=Symbol(""),gh=Symbol(""),Lv=Symbol(""),am=Symbol(""),__=Symbol(""),lm=Symbol(""),Od=Symbol(""),P_=Symbol(""),I_=Symbol(""),kv=Symbol(""),R_=Symbol(""),O_=Symbol(""),Fv=Symbol(""),RS=Symbol(""),lc={[sh]:"Fragment",[zc]:"Teleport",[wv]:"Suspense",[Id]:"KeepAlive",[TS]:"BaseTransition",[xa]:"openBlock",[CS]:"createBlock",[xS]:"createElementBlock",[Tv]:"createVNode",[Cv]:"createElementVNode",[ph]:"createCommentVNode",[xv]:"createTextVNode",[_S]:"createStaticVNode",[_v]:"resolveComponent",[Pv]:"resolveDynamicComponent",[Iv]:"resolveDirective",[Rv]:"resolveFilter",[Ov]:"withDirectives",[Mv]:"renderList",[PS]:"renderSlot",[IS]:"createSlots",[pp]:"toDisplayString",[Rd]:"mergeProps",[Nv]:"normalizeClass",[Dv]:"normalizeStyle",[nh]:"normalizeProps",[gh]:"guardReactiveProps",[Lv]:"toHandlers",[am]:"camelize",[__]:"capitalize",[lm]:"toHandlerKey",[Od]:"setBlockTracking",[P_]:"pushScopeId",[I_]:"popScopeId",[kv]:"withCtx",[R_]:"unref",[O_]:"isRef",[Fv]:"withMemo",[RS]:"isMemoSame"};function M_(s){Object.getOwnPropertySymbols(s).forEach(t=>{lc[t]=s[t]})}const XU={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},WU={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},KU={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},YU={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},Ss={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function N_(s,t=""){return{type:0,source:t,children:s,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ss}}function ih(s,t,e,n,i,r,o,a=!1,l=!1,c=!1,u=Ss){return s&&(a?(s.helper(xa),s.helper(hc(s.inSSR,c))):s.helper(uc(s.inSSR,c)),o&&s.helper(Ov)),{type:13,tag:t,props:e,children:n,patchFlag:i,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Aa(s,t=Ss){return{type:17,loc:t,elements:s}}function Zn(s,t=Ss){return{type:15,loc:t,properties:s}}function es(s,t){return{type:16,loc:Ss,key:kt(s)?zt(s,!0):s,value:t}}function zt(s,t=!1,e=Ss,n=0){return{type:4,loc:e,content:s,isStatic:t,constType:t?3:n}}function qU(s,t){return{type:5,loc:t,content:kt(s)?zt(s,!1,t):s}}function Ei(s,t=Ss){return{type:8,loc:t,children:s}}function ls(s,t=[],e=Ss){return{type:14,loc:e,callee:s,arguments:t}}function cc(s,t=void 0,e=!1,n=!1,i=Ss){return{type:18,params:s,returns:t,newline:e,isSlot:n,loc:i}}function cm(s,t,e,n=!0){return{type:19,test:s,consequent:t,alternate:e,newline:n,loc:Ss}}function D_(s,t,e=!1,n=!1){return{type:20,index:s,value:t,needPauseTracking:e,inVOnce:n,needArraySpread:!1,loc:Ss}}function L_(s){return{type:21,body:s,loc:Ss}}function JU(s){return{type:22,elements:s,loc:Ss}}function QU(s,t,e){return{type:23,test:s,consequent:t,alternate:e,loc:Ss}}function ZU(s,t){return{type:24,left:s,right:t,loc:Ss}}function t4(s){return{type:25,expressions:s,loc:Ss}}function e4(s){return{type:26,returns:s,loc:Ss}}function uc(s,t){return s||t?Tv:Cv}function hc(s,t){return s||t?CS:xS}function Uv(s,{helper:t,removeHelper:e,inSSR:n}){s.isBlock||(s.isBlock=!0,e(uc(n,s.isComponent)),t(xa),t(hc(n,s.isComponent)))}const J0=new Uint8Array([123,123]),Q0=new Uint8Array([125,125]);function Z0(s){return s>=97&&s<=122||s>=65&&s<=90}function Jn(s){return s===32||s===10||s===9||s===12||s===13}function Oo(s){return s===47||s===62||Jn(s)}function um(s){const t=new Uint8Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);return t}const Bs={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class s4{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=J0,this.delimiterClose=Q0,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=J0,this.delimiterClose=Q0}getPos(t){let e=1,n=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){e=i+2,n=t-r;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?Oo(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Jn(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Bs.TitleEnd||this.currentSequence===Bs.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Bs.Cdata[this.sequenceIndex]?++this.sequenceIndex===Bs.Cdata.length&&(this.state=28,this.currentSequence=Bs.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Bs.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Z0(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Oo(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Oo(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(um("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Jn(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Z0(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Jn(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Jn(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Jn(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Oo(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Oo(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Oo(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Oo(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Oo(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Jn(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Jn(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Jn(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Bs.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Bs.ScriptEnd[3]?this.startSpecial(Bs.ScriptEnd,4):t===Bs.StyleEnd[3]?this.startSpecial(Bs.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Bs.TitleEnd[3]?this.startSpecial(Bs.TitleEnd,4):t===Bs.TextareaEnd[3]?this.startSpecial(Bs.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Bs.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}}const n4={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},i4={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:s=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${s}.sync\` should be changed to \`v-model:${s}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function AE(s,{compatConfig:t}){const e=t&&t[s];return s==="MODE"?e||3:e}function Zl(s,t){const e=AE("MODE",t),n=AE(s,t);return e===3?n===!0:n!==!1}function rh(s,t,e,...n){return Zl(s,t)}function r4(s,t,e,...n){if(AE(s,t)==="suppress-warning")return;const{message:r,link:o}=i4[s],a=`(deprecation ${s}) ${typeof r=="function"?r(...n):r}${o?`
  Details: ${o}`:""}`,l=new SyntaxError(a);l.code=s,e&&(l.loc=e),t.onWarn(l)}function OS(s){throw s}function k_(s){}function ke(s,t,e,n){const i=`https://vuejs.org/error-reference/#compiler-${s}`,r=new SyntaxError(String(i));return r.code=s,r.loc=t,r}const o4={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},a4={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function l4(s,t,e=!1,n=[],i=Object.create(null)){}function c4(s,t,e){return!1}function u4(s,t){if(s&&(s.type==="ObjectProperty"||s.type==="ArrayPattern")){let e=t.length;for(;e--;){const n=t[e];if(n.type==="AssignmentExpression")return!0;if(n.type!=="ObjectProperty"&&!n.type.endsWith("Pattern"))break}}return!1}function h4(s){let t=s.length;for(;t--;){const e=s[t];if(e.type==="NewExpression")return!0;if(e.type!=="MemberExpression")break}return!1}function d4(s,t){for(const e of s.params)for(const n of go(e))t(n)}function f4(s,t){for(const e of s.body)if(e.type==="VariableDeclaration"){if(e.declare)continue;for(const n of e.declarations)for(const i of go(n.id))t(i)}else if(e.type==="FunctionDeclaration"||e.type==="ClassDeclaration"){if(e.declare||!e.id)continue;t(e.id)}else p4(e)&&g4(e,!0,t)}function p4(s){return s.type==="ForOfStatement"||s.type==="ForInStatement"||s.type==="ForStatement"}function g4(s,t,e){const n=s.type==="ForStatement"?s.init:s.left;if(n&&n.type==="VariableDeclaration"&&(n.kind==="var"?t:!t))for(const i of n.declarations)for(const r of go(i.id))e(r)}function go(s,t=[]){switch(s.type){case"Identifier":t.push(s);break;case"MemberExpression":let e=s;for(;e.type==="MemberExpression";)e=e.object;t.push(e);break;case"ObjectPattern":for(const n of s.properties)n.type==="RestElement"?go(n.argument,t):go(n.value,t);break;case"ArrayPattern":s.elements.forEach(n=>{n&&go(n,t)});break;case"RestElement":go(s.argument,t);break;case"AssignmentPattern":go(s.left,t);break}return t}const m4=s=>/Function(?:Expression|Declaration)$|Method$/.test(s.type),F_=s=>s&&(s.type==="ObjectProperty"||s.type==="ObjectMethod")&&!s.computed,v4=(s,t)=>F_(t)&&t.key===s,U_=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function B_(s){return U_.includes(s.type)?B_(s.expression):s}const vn=s=>s.type===4&&s.isStatic;function MS(s){switch(s){case"Teleport":case"teleport":return zc;case"Suspense":case"suspense":return wv;case"KeepAlive":case"keep-alive":return Id;case"BaseTransition":case"base-transition":return TS}}const b4=/^\d|[^\$\w\xA0-\uFFFF]/,gp=s=>!b4.test(s),y4=/[A-Za-z_$\xA0-\uFFFF]/,E4=/[\.\?\w$\xA0-\uFFFF]/,S4=/\s+[.[]\s*|\s*[.[]\s+/g,j_=s=>s.type===4?s.content:s.loc.source,H_=s=>{const t=j_(s).trim().replace(S4,a=>a.trim());let e=0,n=[],i=0,r=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(e){case 0:if(l==="[")n.push(e),e=1,i++;else if(l==="(")n.push(e),e=2,r++;else if(!(a===0?y4:E4).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(e),e=3,o=l):l==="["?i++:l==="]"&&(--i||(e=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(e),e=3,o=l;else if(l==="(")r++;else if(l===")"){if(a===t.length-1)return!1;--r||(e=n.pop())}break;case 3:l===o&&(e=n.pop(),o=null);break}}return!i&&!r},A4=_s,NS=H_,w4=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,V_=s=>w4.test(j_(s)),T4=_s,$_=V_;function C4(s,t,e=t.length){return G_({offset:s.offset,line:s.line,column:s.column},t,e)}function G_(s,t,e=t.length){let n=0,i=-1;for(let r=0;r<e;r++)t.charCodeAt(r)===10&&(n++,i=r);return s.offset+=e,s.line+=n,s.column=i===-1?s.column+e:e-i,s}function x4(s,t){if(!s)throw new Error(t||"unexpected compiler condition")}function pn(s,t,e=!1){for(let n=0;n<s.props.length;n++){const i=s.props[n];if(i.type===7&&(e||i.exp)&&(kt(t)?i.name===t:t.test(i.name)))return i}}function mp(s,t,e=!1,n=!1){for(let i=0;i<s.props.length;i++){const r=s.props[i];if(r.type===6){if(e)continue;if(r.name===t&&(r.value||n))return r}else if(r.name==="bind"&&(r.exp||n)&&va(r.arg,t))return r}}function va(s,t){return!!(s&&vn(s)&&s.content===t)}function z_(s){return s.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Pg(s){return s.type===5||s.type===2}function DS(s){return s.type===7&&s.name==="slot"}function oh(s){return s.type===1&&s.tagType===3}function Md(s){return s.type===1&&s.tagType===2}const _4=new Set([nh,gh]);function X_(s,t=[]){if(s&&!kt(s)&&s.type===14){const e=s.callee;if(!kt(e)&&_4.has(e))return X_(s.arguments[0],t.concat(s))}return[s,t]}function Nd(s,t,e){let n,i=s.type===13?s.props:s.arguments[2],r=[],o;if(i&&!kt(i)&&i.type===14){const a=X_(i);i=a[0],r=a[1],o=r[r.length-1]}if(i==null||kt(i))n=Zn([t]);else if(i.type===14){const a=i.arguments[0];!kt(a)&&a.type===15?t1(t,a)||a.properties.unshift(t):i.callee===Lv?n=ls(e.helper(Rd),[Zn([t]),i]):i.arguments.unshift(Zn([t])),!n&&(n=i)}else i.type===15?(t1(t,i)||i.properties.unshift(t),n=i):(n=ls(e.helper(Rd),[Zn([t]),i]),o&&o.callee===gh&&(o=r[r.length-2]));s.type===13?o?o.arguments[0]=n:s.props=n:o?o.arguments[0]=n:s.arguments[2]=n}function t1(s,t){let e=!1;if(s.key.type===4){const n=s.key.content;e=t.properties.some(i=>i.key.type===4&&i.key.content===n)}return e}function ah(s,t){return`_${t}_${s.replace(/[^\w]/g,(e,n)=>e==="-"?"_":s.charCodeAt(n).toString())}`}function _i(s,t){if(!s||Object.keys(t).length===0)return!1;switch(s.type){case 1:for(let e=0;e<s.props.length;e++){const n=s.props[e];if(n.type===7&&(_i(n.arg,t)||_i(n.exp,t)))return!0}return s.children.some(e=>_i(e,t));case 11:return _i(s.source,t)?!0:s.children.some(e=>_i(e,t));case 9:return s.branches.some(e=>_i(e,t));case 10:return _i(s.condition,t)?!0:s.children.some(e=>_i(e,t));case 4:return!s.isStatic&&gp(s.content)&&!!t[s.content];case 8:return s.children.some(e=>Te(e)&&_i(e,t));case 5:case 12:return _i(s.content,t);case 2:case 3:case 20:return!1;default:return!1}}function W_(s){return s.type===14&&s.callee===Fv?s.arguments[1].returns:s}const K_=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Y_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:kc,isPreTag:kc,isIgnoreNewlineTag:kc,isCustomElement:kc,onError:OS,onWarn:k_,comments:!1,prefixIdentifiers:!1};let we=Y_,Dd=null,vo="",Ks=null,de=null,xn="",Ur=-1,Va=-1,LS=0,jo=!1,wE=null;const je=[],ts=new s4(je,{onerr:Dr,ontext(s,t){Fp(ks(s,t),s,t)},ontextentity(s,t,e){Fp(s,t,e)},oninterpolation(s,t){if(jo)return Fp(ks(s,t),s,t);let e=s+ts.delimiterOpen.length,n=t-ts.delimiterClose.length;for(;Jn(vo.charCodeAt(e));)e++;for(;Jn(vo.charCodeAt(n-1));)n--;let i=ks(e,n);i.includes("&")&&(i=we.decodeEntities(i,!1)),TE({type:5,content:Rg(i,!1,is(e,n)),loc:is(s,t)})},onopentagname(s,t){const e=ks(s,t);Ks={type:1,tag:e,ns:we.getNamespace(e,je[0],we.ns),tagType:0,props:[],children:[],loc:is(s-1,t),codegenNode:void 0}},onopentagend(s){s1(s)},onclosetag(s,t){const e=ks(s,t);if(!we.isVoidTag(e)){let n=!1;for(let i=0;i<je.length;i++)if(je[i].tag.toLowerCase()===e.toLowerCase()){n=!0,i>0&&Dr(24,je[0].loc.start.offset);for(let o=0;o<=i;o++){const a=je.shift();Ig(a,t,o<i)}break}n||Dr(23,q_(s,60))}},onselfclosingtag(s){const t=Ks.tag;Ks.isSelfClosing=!0,s1(s),je[0]&&je[0].tag===t&&Ig(je.shift(),s)},onattribname(s,t){de={type:6,name:ks(s,t),nameLoc:is(s,t),value:void 0,loc:is(s)}},ondirname(s,t){const e=ks(s,t),n=e==="."||e===":"?"bind":e==="@"?"on":e==="#"?"slot":e.slice(2);if(!jo&&n===""&&Dr(26,s),jo||n==="")de={type:6,name:e,nameLoc:is(s,t),value:void 0,loc:is(s)};else if(de={type:7,name:n,rawName:e,exp:void 0,arg:void 0,modifiers:e==="."?[zt("prop")]:[],loc:is(s)},n==="pre"){jo=ts.inVPre=!0,wE=Ks;const i=Ks.props;for(let r=0;r<i.length;r++)i[r].type===7&&(i[r]=U4(i[r]))}},ondirarg(s,t){if(s===t)return;const e=ks(s,t);if(jo)de.name+=e,Wa(de.nameLoc,t);else{const n=e[0]!=="[";de.arg=Rg(n?e:e.slice(1,-1),n,is(s,t),n?3:0)}},ondirmodifier(s,t){const e=ks(s,t);if(jo)de.name+="."+e,Wa(de.nameLoc,t);else if(de.name==="slot"){const n=de.arg;n&&(n.content+="."+e,Wa(n.loc,t))}else{const n=zt(e,!0,is(s,t));de.modifiers.push(n)}},onattribdata(s,t){xn+=ks(s,t),Ur<0&&(Ur=s),Va=t},onattribentity(s,t,e){xn+=s,Ur<0&&(Ur=t),Va=e},onattribnameend(s){const t=de.loc.start.offset,e=ks(t,s);de.type===7&&(de.rawName=e),Ks.props.some(n=>(n.type===7?n.rawName:n.name)===e)&&Dr(2,t)},onattribend(s,t){if(Ks&&de){if(Wa(de.loc,t),s!==0)if(xn.includes("&")&&(xn=we.decodeEntities(xn,!0)),de.type===6)de.name==="class"&&(xn=Q_(xn).trim()),s===1&&!xn&&Dr(13,t),de.value={type:2,content:xn,loc:s===1?is(Ur,Va):is(Ur-1,Va+1)},ts.inSFCRoot&&Ks.tag==="template"&&de.name==="lang"&&xn&&xn!=="html"&&ts.enterRCDATA(um("</template"),0);else{let e=0;de.exp=Rg(xn,!1,is(Ur,Va),0,e),de.name==="for"&&(de.forParseResult=I4(de.exp));let n=-1;de.name==="bind"&&(n=de.modifiers.findIndex(i=>i.content==="sync"))>-1&&rh("COMPILER_V_BIND_SYNC",we,de.loc,de.rawName)&&(de.name="model",de.modifiers.splice(n,1))}(de.type!==7||de.name!=="pre")&&Ks.props.push(de)}xn="",Ur=Va=-1},oncomment(s,t){we.comments&&TE({type:3,content:ks(s,t),loc:is(s-4,t+3)})},onend(){const s=vo.length;for(let t=0;t<je.length;t++)Ig(je[t],s-1),Dr(24,je[t].loc.start.offset)},oncdata(s,t){je[0].ns!==0?Fp(ks(s,t),s,t):Dr(1,s-9)},onprocessinginstruction(s){(je[0]?je[0].ns:we.ns)===0&&Dr(21,s-1)}}),e1=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,P4=/^\(|\)$/g;function I4(s){const t=s.loc,e=s.content,n=e.match(K_);if(!n)return;const[,i,r]=n,o=(d,f,p=!1)=>{const g=t.start.offset+f,m=g+d.length;return Rg(d,!1,is(g,m),0,p?1:0)},a={source:o(r.trim(),e.indexOf(r,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(P4,"").trim();const c=i.indexOf(l),u=l.match(e1);if(u){l=l.replace(e1,"").trim();const d=u[1].trim();let f;if(d&&(f=e.indexOf(d,c+l.length),a.key=o(d,f,!0)),u[2]){const p=u[2].trim();p&&(a.index=o(p,e.indexOf(p,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ks(s,t){return vo.slice(s,t)}function s1(s){ts.inSFCRoot&&(Ks.innerLoc=is(s+1,s+1)),TE(Ks);const{tag:t,ns:e}=Ks;e===0&&we.isPreTag(t)&&LS++,we.isVoidTag(t)?Ig(Ks,s):(je.unshift(Ks),(e===1||e===2)&&(ts.inXML=!0)),Ks=null}function Fp(s,t,e){{const r=je[0]&&je[0].tag;r!=="script"&&r!=="style"&&s.includes("&")&&(s=we.decodeEntities(s,!1))}const n=je[0]||Dd,i=n.children[n.children.length-1];i&&i.type===2?(i.content+=s,Wa(i.loc,e)):n.children.push({type:2,content:s,loc:is(t,e)})}function Ig(s,t,e=!1){e?Wa(s.loc,q_(t,60)):Wa(s.loc,R4(t,62)+1),ts.inSFCRoot&&(s.children.length?s.innerLoc.end=re({},s.children[s.children.length-1].loc.end):s.innerLoc.end=re({},s.innerLoc.start),s.innerLoc.source=ks(s.innerLoc.start.offset,s.innerLoc.end.offset));const{tag:n,ns:i,children:r}=s;if(jo||(n==="slot"?s.tagType=2:n1(s)?s.tagType=3:M4(s)&&(s.tagType=1)),ts.inRCDATA||(s.children=J_(r)),i===0&&we.isIgnoreNewlineTag(n)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&we.isPreTag(n)&&LS--,wE===s&&(jo=ts.inVPre=!1,wE=null),ts.inXML&&(je[0]?je[0].ns:we.ns)===0&&(ts.inXML=!1);{const o=s.props;if(!ts.inSFCRoot&&Zl("COMPILER_NATIVE_TEMPLATE",we)&&s.tag==="template"&&!n1(s)){const l=je[0]||Dd,c=l.children.indexOf(s);l.children.splice(c,1,...s.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&rh("COMPILER_INLINE_TEMPLATE",we,a.loc)&&s.children.length&&(a.value={type:2,content:ks(s.children[0].loc.start.offset,s.children[s.children.length-1].loc.end.offset),loc:a.loc})}}function R4(s,t){let e=s;for(;vo.charCodeAt(e)!==t&&e<vo.length-1;)e++;return e}function q_(s,t){let e=s;for(;vo.charCodeAt(e)!==t&&e>=0;)e--;return e}const O4=new Set(["if","else","else-if","for","slot"]);function n1({tag:s,props:t}){if(s==="template"){for(let e=0;e<t.length;e++)if(t[e].type===7&&O4.has(t[e].name))return!0}return!1}function M4({tag:s,props:t}){if(we.isCustomElement(s))return!1;if(s==="component"||N4(s.charCodeAt(0))||MS(s)||we.isBuiltInComponent&&we.isBuiltInComponent(s)||we.isNativeTag&&!we.isNativeTag(s))return!0;for(let e=0;e<t.length;e++){const n=t[e];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(rh("COMPILER_IS_ON_ELEMENT",we,n.loc))return!0}}else if(n.name==="bind"&&va(n.arg,"is")&&rh("COMPILER_IS_ON_ELEMENT",we,n.loc))return!0}return!1}function N4(s){return s>64&&s<91}const D4=/\r\n/g;function J_(s,t){const e=we.whitespace!=="preserve";let n=!1;for(let i=0;i<s.length;i++){const r=s[i];if(r.type===2)if(LS)r.content=r.content.replace(D4,`
`);else if(L4(r.content)){const o=s[i-1]&&s[i-1].type,a=s[i+1]&&s[i+1].type;!o||!a||e&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&k4(r.content)))?(n=!0,s[i]=null):r.content=" "}else e&&(r.content=Q_(r.content))}return n?s.filter(Boolean):s}function L4(s){for(let t=0;t<s.length;t++)if(!Jn(s.charCodeAt(t)))return!1;return!0}function k4(s){for(let t=0;t<s.length;t++){const e=s.charCodeAt(t);if(e===10||e===13)return!0}return!1}function Q_(s){let t="",e=!1;for(let n=0;n<s.length;n++)Jn(s.charCodeAt(n))?e||(t+=" ",e=!0):(t+=s[n],e=!1);return t}function TE(s){(je[0]||Dd).children.push(s)}function is(s,t){return{start:ts.getPos(s),end:t==null?t:ts.getPos(t),source:t==null?t:ks(s,t)}}function F4(s){return is(s.start.offset,s.end.offset)}function Wa(s,t){s.end=ts.getPos(t),s.source=ks(s.start.offset,t)}function U4(s){const t={type:6,name:s.rawName,nameLoc:is(s.loc.start.offset,s.loc.start.offset+s.rawName.length),value:void 0,loc:s.loc};if(s.exp){const e=s.exp.loc;e.end.offset<s.loc.end.offset&&(e.start.offset--,e.start.column--,e.end.offset++,e.end.column++),t.value={type:2,content:s.exp.content,loc:e}}return t}function Rg(s,t=!1,e,n=0,i=0){return zt(s,t,e,n)}function Dr(s,t,e){we.onError(ke(s,is(t,t)))}function B4(){ts.reset(),Ks=null,de=null,xn="",Ur=-1,Va=-1,je.length=0}function kS(s,t){if(B4(),vo=s,we=re({},Y_),t){let i;for(i in t)t[i]!=null&&(we[i]=t[i])}ts.mode=we.parseMode==="html"?1:we.parseMode==="sfc"?2:0,ts.inXML=we.ns===1||we.ns===2;const e=t&&t.delimiters;e&&(ts.delimiterOpen=um(e[0]),ts.delimiterClose=um(e[1]));const n=Dd=N_([],s);return ts.parse(vo),n.loc=is(0,s.length),n.children=J_(n.children),Dd=null,n}function j4(s,t){Og(s,void 0,t,Z_(s,s.children[0]))}function Z_(s,t){const{children:e}=s;return e.length===1&&t.type===1&&!Md(t)}function Og(s,t,e,n=!1,i=!1){const{children:r}=s,o=[];for(let u=0;u<r.length;u++){const d=r[u];if(d.type===1&&d.tagType===0){const f=n?0:kn(d,e);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const p=d.codegenNode;if(p.type===13){const g=p.patchFlag;if((g===void 0||g===512||g===1)&&eP(d,e)>=2){const m=sP(d);m&&(p.props=e.hoist(m))}p.dynamicProps&&(p.dynamicProps=e.hoist(p.dynamicProps))}}}else if(d.type===12&&(n?0:kn(d,e))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&e.scopes.vSlot++,Og(d,s,e,!1,i),f&&e.scopes.vSlot--}else if(d.type===11)Og(d,s,e,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)Og(d.branches[f],s,e,d.branches[f].children.length===1,i)}let a=!1;if(o.length===r.length&&s.type===1){if(s.tagType===0&&s.codegenNode&&s.codegenNode.type===13&&dt(s.codegenNode.children))s.codegenNode.children=l(Aa(s.codegenNode.children)),a=!0;else if(s.tagType===1&&s.codegenNode&&s.codegenNode.type===13&&s.codegenNode.children&&!dt(s.codegenNode.children)&&s.codegenNode.children.type===15){const u=c(s.codegenNode,"default");u&&(u.returns=l(Aa(u.returns)),a=!0)}else if(s.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!dt(t.codegenNode.children)&&t.codegenNode.children.type===15){const u=pn(s,"slot",!0),d=u&&u.arg&&c(t.codegenNode,u.arg);d&&(d.returns=l(Aa(d.returns)),a=!0)}}if(!a)for(const u of o)u.codegenNode=e.cache(u.codegenNode);function l(u){const d=e.cache(u);return i&&e.hmr&&(d.needArraySpread=!0),d}function c(u,d){if(u.children&&!dt(u.children)&&u.children.type===15){const f=u.children.properties.find(p=>p.key===d||p.key.content===d);return f&&f.value}}o.length&&e.transformHoist&&e.transformHoist(r,e,s)}function kn(s,t){const{constantCache:e}=t;switch(s.type){case 1:if(s.tagType!==0)return 0;const n=e.get(s);if(n!==void 0)return n;const i=s.codegenNode;if(i.type!==13||i.isBlock&&s.tag!=="svg"&&s.tag!=="foreignObject"&&s.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=eP(s,t);if(a===0)return e.set(s,0),0;a<o&&(o=a);for(let l=0;l<s.children.length;l++){const c=kn(s.children[l],t);if(c===0)return e.set(s,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<s.props.length;l++){const c=s.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=kn(c.exp,t);if(u===0)return e.set(s,0),0;u<o&&(o=u)}}if(i.isBlock){for(let l=0;l<s.props.length;l++)if(s.props[l].type===7)return e.set(s,0),0;t.removeHelper(xa),t.removeHelper(hc(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(uc(t.inSSR,i.isComponent))}return e.set(s,o),o}else return e.set(s,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return kn(s.content,t);case 4:return s.constType;case 8:let r=3;for(let o=0;o<s.children.length;o++){const a=s.children[o];if(kt(a)||Sn(a))continue;const l=kn(a,t);if(l===0)return 0;l<r&&(r=l)}return r;case 20:return 2;default:return 0}}const H4=new Set([Nv,Dv,nh,gh]);function tP(s,t){if(s.type===14&&!kt(s.callee)&&H4.has(s.callee)){const e=s.arguments[0];if(e.type===4)return kn(e,t);if(e.type===14)return tP(e,t)}return 0}function eP(s,t){let e=3;const n=sP(s);if(n&&n.type===15){const{properties:i}=n;for(let r=0;r<i.length;r++){const{key:o,value:a}=i[r],l=kn(o,t);if(l===0)return l;l<e&&(e=l);let c;if(a.type===4?c=kn(a,t):a.type===14?c=tP(a,t):c=0,c===0)return c;c<e&&(e=c)}}return e}function sP(s){const t=s.codegenNode;if(t.type===13)return t.props}function nP(s,{filename:t="",prefixIdentifiers:e=!1,hoistStatic:n=!1,hmr:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=_s,isCustomElement:u=_s,expressionPlugins:d=[],scopeId:f=null,slotted:p=!0,ssr:g=!1,inSSR:m=!1,ssrCssVars:v="",bindingMetadata:b=se,inline:S=!1,isTS:E=!1,onError:A=OS,onWarn:T=k_,compatConfig:P}){const R=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),O={filename:t,selfName:R&&Oa(Le(R[1])),prefixIdentifiers:e,hoistStatic:n,hmr:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:d,scopeId:f,slotted:p,ssr:g,inSSR:m,ssrCssVars:v,bindingMetadata:b,inline:S,isTS:E,onError:A,onWarn:T,compatConfig:P,root:s,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:s,childIndex:0,inVOnce:!1,helper(_){const N=O.helpers.get(_)||0;return O.helpers.set(_,N+1),_},removeHelper(_){const N=O.helpers.get(_);if(N){const L=N-1;L?O.helpers.set(_,L):O.helpers.delete(_)}},helperString(_){return`_${lc[O.helper(_)]}`},replaceNode(_){O.parent.children[O.childIndex]=O.currentNode=_},removeNode(_){const N=O.parent.children,L=_?N.indexOf(_):O.currentNode?O.childIndex:-1;!_||_===O.currentNode?(O.currentNode=null,O.onNodeRemoved()):O.childIndex>L&&(O.childIndex--,O.onNodeRemoved()),O.parent.children.splice(L,1)},onNodeRemoved:_s,addIdentifiers(_){},removeIdentifiers(_){},hoist(_){kt(_)&&(_=zt(_)),O.hoists.push(_);const N=zt(`_hoisted_${O.hoists.length}`,!1,_.loc,2);return N.hoisted=_,N},cache(_,N=!1,L=!1){const F=D_(O.cached.length,_,N,L);return O.cached.push(F),F}};return O.filters=new Set,O}function iP(s,t){const e=nP(s,t);vp(s,e),t.hoistStatic&&j4(s,e),t.ssr||V4(s,e),s.helpers=new Set([...e.helpers.keys()]),s.components=[...e.components],s.directives=[...e.directives],s.imports=e.imports,s.hoists=e.hoists,s.temps=e.temps,s.cached=e.cached,s.transformed=!0,s.filters=[...e.filters]}function V4(s,t){const{helper:e}=t,{children:n}=s;if(n.length===1){const i=n[0];if(Z_(s,i)&&i.codegenNode){const r=i.codegenNode;r.type===13&&Uv(r,t),s.codegenNode=r}else s.codegenNode=i}else if(n.length>1){let i=64;s.codegenNode=ih(t,e(sh),void 0,s.children,i,void 0,void 0,!0,void 0,!1)}}function $4(s,t){let e=0;const n=()=>{e--};for(;e<s.children.length;e++){const i=s.children[e];kt(i)||(t.grandParent=t.parent,t.parent=s,t.childIndex=e,t.onNodeRemoved=n,vp(i,t))}}function vp(s,t){t.currentNode=s;const{nodeTransforms:e}=t,n=[];for(let r=0;r<e.length;r++){const o=e[r](s,t);if(o&&(dt(o)?n.push(...o):n.push(o)),t.currentNode)s=t.currentNode;else return}switch(s.type){case 3:t.ssr||t.helper(ph);break;case 5:t.ssr||t.helper(pp);break;case 9:for(let r=0;r<s.branches.length;r++)vp(s.branches[r],t);break;case 10:case 11:case 1:case 0:$4(s,t);break}t.currentNode=s;let i=n.length;for(;i--;)n[i]()}function FS(s,t){const e=kt(s)?n=>n===s:n=>s.test(n);return(n,i)=>{if(n.type===1){const{props:r}=n;if(n.tagType===3&&r.some(DS))return;const o=[];for(let a=0;a<r.length;a++){const l=r[a];if(l.type===7&&e(l.name)){r.splice(a,1),a--;const c=t(n,l,i);c&&o.push(c)}}return o}}}const Bv="/*@__PURE__*/",rP=s=>`${lc[s]}: _${lc[s]}`;function G4(s,{mode:t="function",prefixIdentifiers:e=t==="module",sourceMap:n=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:f=!1}){const p={mode:t,prefixIdentifiers:e,sourceMap:n,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:f,source:s.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${lc[m]}`},push(m,v=-2,b){p.code+=m},indent(){g(++p.indentLevel)},deindent(m=!1){m?--p.indentLevel:g(--p.indentLevel)},newline(){g(p.indentLevel)}};function g(m){p.push(`
`+"  ".repeat(m),0)}return p}function oP(s,t={}){const e=G4(s,t);t.onContextCreated&&t.onContextCreated(e);const{mode:n,push:i,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=e,d=Array.from(s.helpers),f=d.length>0,p=!r&&n!=="module";z4(s,e);const m=u?"ssrRender":"render",b=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${b}) {`),o(),p&&(i("with (_ctx) {"),o(),f&&(i(`const { ${d.map(rP).join(", ")} } = _Vue
`,-1),l())),s.components.length&&(bb(s.components,"component",e),(s.directives.length||s.temps>0)&&l()),s.directives.length&&(bb(s.directives,"directive",e),s.temps>0&&l()),s.filters&&s.filters.length&&(l(),bb(s.filters,"filter",e),l()),s.temps>0){i("let ");for(let S=0;S<s.temps;S++)i(`${S>0?", ":""}_temp${S}`)}return(s.components.length||s.directives.length||s.temps)&&(i(`
`,0),l()),u||i("return "),s.codegenNode?nn(s.codegenNode,e):i("null"),p&&(a(),i("}")),a(),i("}"),{ast:s,code:e.code,preamble:"",map:e.map?e.map.toJSON():void 0}}function z4(s,t){const{ssr:e,prefixIdentifiers:n,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(s.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`,-1),s.hoists.length)){const d=[Tv,Cv,ph,xv,_S].filter(f=>u.includes(f)).map(rP).join(", ");i(`const { ${d} } = _Vue
`,-1)}X4(s.hoists,t),r(),i("return ")}function bb(s,t,{helper:e,push:n,newline:i,isTS:r}){const o=e(t==="filter"?Rv:t==="component"?_v:Iv);for(let a=0;a<s.length;a++){let l=s[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),n(`const ${ah(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${r?"!":""}`),a<s.length-1&&i()}}function X4(s,t){if(!s.length)return;t.pure=!0;const{push:e,newline:n}=t;n();for(let i=0;i<s.length;i++){const r=s[i];r&&(e(`const _hoisted_${i+1} = `),nn(r,t),n())}t.pure=!1}function US(s,t){const e=s.length>3||!1;t.push("["),e&&t.indent(),bp(s,t,e),e&&t.deindent(),t.push("]")}function bp(s,t,e=!1,n=!0){const{push:i,newline:r}=t;for(let o=0;o<s.length;o++){const a=s[o];kt(a)?i(a,-3):dt(a)?US(a,t):nn(a,t),o<s.length-1&&(e?(n&&i(","),r()):n&&i(", "))}}function nn(s,t){if(kt(s)){t.push(s,-3);return}if(Sn(s)){t.push(t.helper(s));return}switch(s.type){case 1:case 9:case 11:nn(s.codegenNode,t);break;case 2:W4(s,t);break;case 4:aP(s,t);break;case 5:K4(s,t);break;case 12:nn(s.codegenNode,t);break;case 8:lP(s,t);break;case 3:q4(s,t);break;case 13:J4(s,t);break;case 14:Z4(s,t);break;case 15:tB(s,t);break;case 17:eB(s,t);break;case 18:sB(s,t);break;case 19:nB(s,t);break;case 20:iB(s,t);break;case 21:bp(s.body,t,!0,!1);break}}function W4(s,t){t.push(JSON.stringify(s.content),-3,s)}function aP(s,t){const{content:e,isStatic:n}=s;t.push(n?JSON.stringify(e):e,-3,s)}function K4(s,t){const{push:e,helper:n,pure:i}=t;i&&e(Bv),e(`${n(pp)}(`),nn(s.content,t),e(")")}function lP(s,t){for(let e=0;e<s.children.length;e++){const n=s.children[e];kt(n)?t.push(n,-3):nn(n,t)}}function Y4(s,t){const{push:e}=t;if(s.type===8)e("["),lP(s,t),e("]");else if(s.isStatic){const n=gp(s.content)?s.content:JSON.stringify(s.content);e(n,-2,s)}else e(`[${s.content}]`,-3,s)}function q4(s,t){const{push:e,helper:n,pure:i}=t;i&&e(Bv),e(`${n(ph)}(${JSON.stringify(s.content)})`,-3,s)}function J4(s,t){const{push:e,helper:n,pure:i}=t,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:f,isComponent:p}=s;let g;l&&(g=String(l)),u&&e(n(Ov)+"("),d&&e(`(${n(xa)}(${f?"true":""}), `),i&&e(Bv);const m=d?hc(t.inSSR,p):uc(t.inSSR,p);e(n(m)+"(",-2,s),bp(Q4([r,o,a,g,c]),t),e(")"),d&&e(")"),u&&(e(", "),nn(u,t),e(")"))}function Q4(s){let t=s.length;for(;t--&&s[t]==null;);return s.slice(0,t+1).map(e=>e||"null")}function Z4(s,t){const{push:e,helper:n,pure:i}=t,r=kt(s.callee)?s.callee:n(s.callee);i&&e(Bv),e(r+"(",-2,s),bp(s.arguments,t),e(")")}function tB(s,t){const{push:e,indent:n,deindent:i,newline:r}=t,{properties:o}=s;if(!o.length){e("{}",-2,s);return}const a=o.length>1||!1;e(a?"{":"{ "),a&&n();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];Y4(c,t),e(": "),nn(u,t),l<o.length-1&&(e(","),r())}a&&i(),e(a?"}":" }")}function eB(s,t){US(s.elements,t)}function sB(s,t){const{push:e,indent:n,deindent:i}=t,{params:r,returns:o,body:a,newline:l,isSlot:c}=s;c&&e(`_${lc[kv]}(`),e("(",-2,s),dt(r)?bp(r,t):r&&nn(r,t),e(") => "),(l||a)&&(e("{"),n()),o?(l&&e("return "),dt(o)?US(o,t):nn(o,t)):a&&nn(a,t),(l||a)&&(i(),e("}")),c&&(s.isNonScopedSlot&&e(", undefined, true"),e(")"))}function nB(s,t){const{test:e,consequent:n,alternate:i,newline:r}=s,{push:o,indent:a,deindent:l,newline:c}=t;if(e.type===4){const d=!gp(e.content);d&&o("("),aP(e,t),d&&o(")")}else o("("),nn(e,t),o(")");r&&a(),t.indentLevel++,r||o(" "),o("? "),nn(n,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");const u=i.type===19;u||t.indentLevel++,nn(i,t),u||t.indentLevel--,r&&l(!0)}function iB(s,t){const{push:e,helper:n,indent:i,deindent:r,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=s;l&&e("[...("),e(`_cache[${s.index}] || (`),a&&(i(),e(`${n(Od)}(-1`),s.inVOnce&&e(", true"),e("),"),o(),e("(")),e(`_cache[${s.index}] = `),nn(s.value,t),a&&(e(`).cacheIndex = ${s.index},`),o(),e(`${n(Od)}(1),`),o(),e(`_cache[${s.index}]`),r()),e(")"),l&&e(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const rB=(s,t)=>{if(s.type===5)s.content=Mg(s.content,t);else if(s.type===1){const e=pn(s,"memo");for(let n=0;n<s.props.length;n++){const i=s.props[n];if(i.type===7&&i.name!=="for"){const r=i.exp,o=i.arg;r&&r.type===4&&!(i.name==="on"&&o)&&!(e&&o&&o.type===4&&o.content==="key")&&(i.exp=Mg(r,t,i.name==="slot")),o&&o.type===4&&!o.isStatic&&(i.arg=Mg(o,t))}}}};function Mg(s,t,e=!1,n=!1,i=Object.create(t.identifiers)){return s}function cP(s){return kt(s)?s:s.type===4?s.content:s.children.map(cP).join("")}const oB=FS(/^(if|else|else-if)$/,(s,t,e)=>uP(s,t,e,(n,i,r)=>{const o=e.parent.children;let a=o.indexOf(n),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(r)n.codegenNode=r1(i,l,e);else{const c=aB(n.codegenNode);c.alternate=r1(i,l+n.branches.length-1,e)}}}));function uP(s,t,e,n){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:s.loc;e.onError(ke(28,t.loc)),t.exp=zt("true",!1,i)}if(t.name==="if"){const i=i1(s,t),r={type:9,loc:F4(s.loc),branches:[i]};if(e.replaceNode(r),n)return n(r,i,!0)}else{const i=e.parent.children;let r=i.indexOf(s);for(;r-->=-1;){const o=i[r];if(o&&o.type===3){e.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){e.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&e.onError(ke(30,s.loc)),e.removeNode();const a=i1(s,t);o.branches.push(a);const l=n&&n(o,a,!1);vp(a,e),l&&l(),e.currentNode=null}else e.onError(ke(30,s.loc));break}}}function i1(s,t){const e=s.tagType===3;return{type:10,loc:s.loc,condition:t.name==="else"?void 0:t.exp,children:e&&!pn(s,"for")?s.children:[s],userKey:mp(s,"key"),isTemplateIf:e}}function r1(s,t,e){return s.condition?cm(s.condition,o1(s,t,e),ls(e.helper(ph),['""',"true"])):o1(s,t,e)}function o1(s,t,e){const{helper:n}=e,i=es("key",zt(`${t}`,!1,Ss,2)),{children:r}=s,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const l=o.codegenNode;return Nd(l,i,e),l}else return ih(e,n(sh),Zn([i]),r,64,void 0,void 0,!0,!1,!1,s.loc);else{const l=o.codegenNode,c=W_(l);return c.type===13&&Uv(c,e),Nd(c,i,e),l}}function aB(s){for(;;)if(s.type===19)if(s.alternate.type===19)s=s.alternate;else return s;else s.type===20&&(s=s.value)}const hP=(s,t,e)=>{const{modifiers:n,loc:i}=s,r=s.arg;let{exp:o}=s;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(r.type!==4||!r.isStatic)return e.onError(ke(52,r.loc)),{props:[es(r,zt("",!0,i))]};dP(s),o=s.exp}return r.type!==4?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=`${r.content} || ""`),n.some(a=>a.content==="camel")&&(r.type===4?r.isStatic?r.content=Le(r.content):r.content=`${e.helperString(am)}(${r.content})`:(r.children.unshift(`${e.helperString(am)}(`),r.children.push(")"))),e.inSSR||(n.some(a=>a.content==="prop")&&a1(r,"."),n.some(a=>a.content==="attr")&&a1(r,"^")),{props:[es(r,o)]}},dP=(s,t)=>{const e=s.arg,n=Le(e.content);s.exp=zt(n,!1,e.loc)},a1=(s,t)=>{s.type===4?s.isStatic?s.content=t+s.content:s.content=`\`${t}\${${s.content}}\``:(s.children.unshift(`'${t}' + (`),s.children.push(")"))},lB=FS("for",(s,t,e)=>{const{helper:n,removeHelper:i}=e;return fP(s,t,e,r=>{const o=ls(n(Mv),[r.source]),a=oh(s),l=pn(s,"memo"),c=mp(s,"key",!1,!0);c&&c.type===7&&!c.exp&&dP(c);let d=c&&(c.type===6?c.value?zt(c.value.content,!0):void 0:c.exp);const f=c&&d?es("key",d):null,p=r.source.type===4&&r.source.constType>0,g=p?64:c?128:256;return r.codegenNode=ih(e,n(sh),void 0,o,g,void 0,void 0,!0,!p,!1,s.loc),()=>{let m;const{children:v}=r,b=v.length!==1||v[0].type!==1,S=Md(s)?s:a&&s.children.length===1&&Md(s.children[0])?s.children[0]:null;if(S?(m=S.codegenNode,a&&f&&Nd(m,f,e)):b?m=ih(e,n(sh),f?Zn([f]):void 0,s.children,64,void 0,void 0,!0,void 0,!1):(m=v[0].codegenNode,a&&f&&Nd(m,f,e),m.isBlock!==!p&&(m.isBlock?(i(xa),i(hc(e.inSSR,m.isComponent))):i(uc(e.inSSR,m.isComponent))),m.isBlock=!p,m.isBlock?(n(xa),n(hc(e.inSSR,m.isComponent))):n(uc(e.inSSR,m.isComponent))),l){const E=cc(hm(r.parseResult,[zt("_cached")]));E.body=L_([Ei(["const _memo = (",l.exp,")"]),Ei(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${e.helperString(RS)}(_cached, _memo)) return _cached`]),Ei(["const _item = ",m]),zt("_item.memo = _memo"),zt("return _item")]),o.arguments.push(E,zt("_cache"),zt(String(e.cached.length))),e.cached.push(null)}else o.arguments.push(cc(hm(r.parseResult),m,!0))}})});function fP(s,t,e,n){if(!t.exp){e.onError(ke(31,t.loc));return}const i=t.forParseResult;if(!i){e.onError(ke(32,t.loc));return}BS(i);const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=e,{source:l,value:c,key:u,index:d}=i,f={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:i,children:oh(s)?s.children:[s]};e.replaceNode(f),a.vFor++;const p=n&&n(f);return()=>{a.vFor--,p&&p()}}function BS(s,t){s.finalized||(s.finalized=!0)}function hm({value:s,key:t,index:e},n=[]){return cB([s,t,e,...n])}function cB(s){let t=s.length;for(;t--&&!s[t];);return s.slice(0,t+1).map((e,n)=>e||zt("_".repeat(n+1),!1))}const l1=zt("undefined",!1),pP=(s,t)=>{if(s.type===1&&(s.tagType===1||s.tagType===3)){const e=pn(s,"slot");if(e)return e.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},uB=(s,t)=>{let e;if(oh(s)&&s.props.some(DS)&&(e=pn(s,"for"))){const n=e.forParseResult;if(n){BS(n);const{value:i,key:r,index:o}=n,{addIdentifiers:a,removeIdentifiers:l}=t;return i&&a(i),r&&a(r),o&&a(o),()=>{i&&l(i),r&&l(r),o&&l(o)}}}},hB=(s,t,e,n)=>cc(s,e,!1,!0,e.length?e[0].loc:n);function gP(s,t,e=hB){t.helper(kv);const{children:n,loc:i}=s,r=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=pn(s,"slot",!0);if(l){const{arg:v,exp:b}=l;v&&!vn(v)&&(a=!0),r.push(es(v||zt("default",!0),e(b,void 0,n,i)))}let c=!1,u=!1;const d=[],f=new Set;let p=0;for(let v=0;v<n.length;v++){const b=n[v];let S;if(!oh(b)||!(S=pn(b,"slot",!0))){b.type!==3&&d.push(b);continue}if(l){t.onError(ke(37,S.loc));break}c=!0;const{children:E,loc:A}=b,{arg:T=zt("default",!0),exp:P,loc:R}=S;let O;vn(T)?O=T?T.content:"default":a=!0;const _=pn(b,"for"),N=e(P,_,E,A);let L,F;if(L=pn(b,"if"))a=!0,o.push(cm(L.exp,Up(T,N,p++),l1));else if(F=pn(b,/^else(-if)?$/,!0)){let U=v,V;for(;U--&&(V=n[U],V.type===3););if(V&&oh(V)&&pn(V,/^(else-)?if$/)){let J=o[o.length-1];for(;J.alternate.type===19;)J=J.alternate;J.alternate=F.exp?cm(F.exp,Up(T,N,p++),l1):Up(T,N,p++)}else t.onError(ke(30,F.loc))}else if(_){a=!0;const U=_.forParseResult;U?(BS(U),o.push(ls(t.helper(Mv),[U.source,cc(hm(U),Up(T,N),!0)]))):t.onError(ke(32,_.loc))}else{if(O){if(f.has(O)){t.onError(ke(38,R));continue}f.add(O),O==="default"&&(u=!0)}r.push(es(T,N))}}if(!l){const v=(b,S)=>{const E=e(b,void 0,S,i);return t.compatConfig&&(E.isNonScopedSlot=!0),es("default",E)};c?d.length&&d.some(b=>mP(b))&&(u?t.onError(ke(39,d[0].loc)):r.push(v(void 0,d))):r.push(v(void 0,n))}const g=a?2:Ng(s.children)?3:1;let m=Zn(r.concat(es("_",zt(g+"",!1))),i);return o.length&&(m=ls(t.helper(IS),[m,Aa(o)])),{slots:m,hasDynamicSlots:a}}function Up(s,t,e){const n=[es("name",s),es("fn",t)];return e!=null&&n.push(es("key",zt(String(e),!0))),Zn(n)}function Ng(s){for(let t=0;t<s.length;t++){const e=s[t];switch(e.type){case 1:if(e.tagType===2||Ng(e.children))return!0;break;case 9:if(Ng(e.branches))return!0;break;case 10:case 11:if(Ng(e.children))return!0;break}}return!1}function mP(s){return s.type!==2&&s.type!==12?!0:s.type===2?!!s.content.trim():mP(s.content)}const vP=new WeakMap,bP=(s,t)=>function(){if(s=t.currentNode,!(s.type===1&&(s.tagType===0||s.tagType===1)))return;const{tag:n,props:i}=s,r=s.tagType===1;let o=r?yP(s,t):`"${n}"`;const a=Te(o)&&o.callee===Pv;let l,c,u=0,d,f,p,g=a||o===zc||o===wv||!r&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const m=jS(s,t,void 0,r,a);l=m.props,u=m.patchFlag,f=m.dynamicPropNames;const v=m.directives;p=v&&v.length?Aa(v.map(b=>EP(b,t))):void 0,m.shouldUseBlock&&(g=!0)}if(s.children.length>0)if(o===Id&&(g=!0,u|=1024),r&&o!==zc&&o!==Id){const{slots:v,hasDynamicSlots:b}=gP(s,t);c=v,b&&(u|=1024)}else if(s.children.length===1&&o!==zc){const v=s.children[0],b=v.type,S=b===5||b===8;S&&kn(v,t)===0&&(u|=1),S||b===2?c=v:c=s.children}else c=s.children;f&&f.length&&(d=fB(f)),s.codegenNode=ih(t,o,l,c,u===0?void 0:u,d,p,!!g,!1,r,s.loc)};function yP(s,t,e=!1){let{tag:n}=s;const i=CE(n),r=mp(s,"is",!1,!0);if(r)if(i||Zl("COMPILER_IS_ON_ELEMENT",t)){let a;if(r.type===6?a=r.value&&zt(r.value.content,!0):(a=r.exp,a||(a=zt("is",!1,r.arg.loc))),a)return ls(t.helper(Pv),[a])}else r.type===6&&r.value.content.startsWith("vue:")&&(n=r.value.content.slice(4));const o=MS(n)||t.isBuiltInComponent(n);return o?(e||t.helper(o),o):(t.helper(_v),t.components.add(n),ah(n,"component"))}function jS(s,t,e=s.props,n,i,r=!1){const{tag:o,loc:a,children:l}=s;let c=[];const u=[],d=[],f=l.length>0;let p=!1,g=0,m=!1,v=!1,b=!1,S=!1,E=!1,A=!1;const T=[],P=N=>{c.length&&(u.push(Zn(c1(c),a)),c=[]),N&&u.push(N)},R=()=>{t.scopes.vFor>0&&c.push(es(zt("ref_for",!0),zt("true")))},O=({key:N,value:L})=>{if(vn(N)){const F=N.content,U=Ia(F);if(U&&(!n||i)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!mo(F)&&(S=!0),U&&mo(F)&&(A=!0),U&&L.type===14&&(L=L.arguments[0]),L.type===20||(L.type===4||L.type===8)&&kn(L,t)>0)return;F==="ref"?m=!0:F==="class"?v=!0:F==="style"?b=!0:F!=="key"&&!T.includes(F)&&T.push(F),n&&(F==="class"||F==="style")&&!T.includes(F)&&T.push(F)}else E=!0};for(let N=0;N<e.length;N++){const L=e[N];if(L.type===6){const{loc:F,name:U,nameLoc:V,value:J}=L;let j=!0;if(U==="ref"&&(m=!0,R()),U==="is"&&(CE(o)||J&&J.content.startsWith("vue:")||Zl("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(es(zt(U,!0,V),zt(J?J.content:"",j,J?J.loc:F)))}else{const{name:F,arg:U,exp:V,loc:J,modifiers:j}=L,H=F==="bind",W=F==="on";if(F==="slot"){n||t.onError(ke(40,J));continue}if(F==="once"||F==="memo"||F==="is"||H&&va(U,"is")&&(CE(o)||Zl("COMPILER_IS_ON_ELEMENT",t))||W&&r)continue;if((H&&va(U,"key")||W&&f&&va(U,"vue:before-update"))&&(p=!0),H&&va(U,"ref")&&R(),!U&&(H||W)){if(E=!0,V)if(H){if(R(),P(),Zl("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(V);continue}u.push(V)}else P({type:14,loc:J,callee:t.helper(Lv),arguments:n?[V]:[V,"true"]});else t.onError(ke(H?34:35,J));continue}H&&j.some(Ht=>Ht.content==="prop")&&(g|=32);const At=t.directiveTransforms[F];if(At){const{props:Ht,needRuntime:Mt}=At(L,s,t);!r&&Ht.forEach(O),W&&U&&!vn(U)?P(Zn(Ht,a)):c.push(...Ht),Mt&&(d.push(L),Sn(Mt)&&vP.set(L,Mt))}else D1(F)||(d.push(L),f&&(p=!0))}}let _;if(u.length?(P(),u.length>1?_=ls(t.helper(Rd),u,a):_=u[0]):c.length&&(_=Zn(c1(c),a)),E?g|=16:(v&&!n&&(g|=2),b&&!n&&(g|=4),T.length&&(g|=8),S&&(g|=32)),!p&&(g===0||g===32)&&(m||A||d.length>0)&&(g|=512),!t.inSSR&&_)switch(_.type){case 15:let N=-1,L=-1,F=!1;for(let J=0;J<_.properties.length;J++){const j=_.properties[J].key;vn(j)?j.content==="class"?N=J:j.content==="style"&&(L=J):j.isHandlerKey||(F=!0)}const U=_.properties[N],V=_.properties[L];F?_=ls(t.helper(nh),[_]):(U&&!vn(U.value)&&(U.value=ls(t.helper(Nv),[U.value])),V&&(b||V.value.type===4&&V.value.content.trim()[0]==="["||V.value.type===17)&&(V.value=ls(t.helper(Dv),[V.value])));break;case 14:break;default:_=ls(t.helper(nh),[ls(t.helper(gh),[_])]);break}return{props:_,directives:d,patchFlag:g,dynamicPropNames:T,shouldUseBlock:p}}function c1(s){const t=new Map,e=[];for(let n=0;n<s.length;n++){const i=s[n];if(i.key.type===8||!i.key.isStatic){e.push(i);continue}const r=i.key.content,o=t.get(r);o?(r==="style"||r==="class"||Ia(r))&&dB(o,i):(t.set(r,i),e.push(i))}return e}function dB(s,t){s.value.type===17?s.value.elements.push(t.value):s.value=Aa([s.value,t.value],s.loc)}function EP(s,t){const e=[],n=vP.get(s);n?e.push(t.helperString(n)):(t.helper(Iv),t.directives.add(s.name),e.push(ah(s.name,"directive")));const{loc:i}=s;if(s.exp&&e.push(s.exp),s.arg&&(s.exp||e.push("void 0"),e.push(s.arg)),Object.keys(s.modifiers).length){s.arg||(s.exp||e.push("void 0"),e.push("void 0"));const r=zt("true",!1,i);e.push(Zn(s.modifiers.map(o=>es(o,r)),i))}return Aa(e,s.loc)}function fB(s){let t="[";for(let e=0,n=s.length;e<n;e++)t+=JSON.stringify(s[e]),e<n-1&&(t+=", ");return t+"]"}function CE(s){return s==="component"||s==="Component"}const pB=(s,t)=>{if(Md(s)){const{children:e,loc:n}=s,{slotName:i,slotProps:r}=SP(s,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),e.length&&(o[3]=cc([],e,!1,!1,n),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),s.codegenNode=ls(t.helper(PS),o,n)}};function SP(s,t){let e='"default"',n;const i=[];for(let r=0;r<s.props.length;r++){const o=s.props[r];if(o.type===6)o.value&&(o.name==="name"?e=JSON.stringify(o.value.content):(o.name=Le(o.name),i.push(o)));else if(o.name==="bind"&&va(o.arg,"name")){if(o.exp)e=o.exp;else if(o.arg&&o.arg.type===4){const a=Le(o.arg.content);e=o.exp=zt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&vn(o.arg)&&(o.arg.content=Le(o.arg.content)),i.push(o)}if(i.length>0){const{props:r,directives:o}=jS(s,t,i,!1,!1);n=r,o.length&&t.onError(ke(36,o[0].loc))}return{slotName:e,slotProps:n}}const HS=(s,t,e,n)=>{const{loc:i,modifiers:r,arg:o}=s;!s.exp&&!r.length&&e.onError(ke(35,i));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Wl(Le(d)):`on:${d}`;a=zt(f,!0,o.loc)}else a=Ei([`${e.helperString(lm)}(`,o,")"]);else a=o,a.children.unshift(`${e.helperString(lm)}(`),a.children.push(")");let l=s.exp;l&&!l.content.trim()&&(l=void 0);let c=e.cacheHandlers&&!l&&!e.inVOnce;if(l){const d=NS(l),f=!(d||$_(l)),p=l.content.includes(";");(f||c&&d)&&(l=Ei([`${f?"$event":"(...args)"} => ${p?"{":"("}`,l,p?"}":")"]))}let u={props:[es(a,l||zt("() => {}",!1,i))]};return n&&(u=n(u)),c&&(u.props[0].value=e.cache(u.props[0].value)),u.props.forEach(d=>d.key.isHandlerKey=!0),u},gB=(s,t)=>{if(s.type===0||s.type===1||s.type===11||s.type===10)return()=>{const e=s.children;let n,i=!1;for(let r=0;r<e.length;r++){const o=e[r];if(Pg(o)){i=!0;for(let a=r+1;a<e.length;a++){const l=e[a];if(Pg(l))n||(n=e[r]=Ei([o],o.loc)),n.children.push(" + ",l),e.splice(a,1),a--;else{n=void 0;break}}}}if(!(!i||e.length===1&&(s.type===0||s.type===1&&s.tagType===0&&!s.props.find(r=>r.type===7&&!t.directiveTransforms[r.name])&&s.tag!=="template")))for(let r=0;r<e.length;r++){const o=e[r];if(Pg(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&kn(o,t)===0&&a.push("1"),e[r]={type:12,content:o,loc:o.loc,codegenNode:ls(t.helper(xv),a)}}}}},u1=new WeakSet,mB=(s,t)=>{if(s.type===1&&pn(s,"once",!0))return u1.has(s)||t.inVOnce||t.inSSR?void 0:(u1.add(s),t.inVOnce=!0,t.helper(Od),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0,!0))})},VS=(s,t,e)=>{const{exp:n,arg:i}=s;if(!n)return e.onError(ke(41,s.loc)),Bp();const r=n.loc.source.trim(),o=n.type===4?n.content:r,a=e.bindingMetadata[r];if(a==="props"||a==="props-aliased")return e.onError(ke(44,n.loc)),Bp();if(!o.trim()||!NS(n)&&!!1)return e.onError(ke(42,n.loc)),Bp();const c=i||zt("modelValue",!0),u=i?vn(i)?`onUpdate:${Le(i.content)}`:Ei(['"onUpdate:" + ',i]):"onUpdate:modelValue";let d;const f=e.isTS?"($event: any)":"$event";d=Ei([`${f} => ((`,n,") = $event)"]);const p=[es(c,s.exp),es(u,d)];if(s.modifiers.length&&t.tagType===1){const g=s.modifiers.map(v=>v.content).map(v=>(gp(v)?v:JSON.stringify(v))+": true").join(", "),m=i?vn(i)?`${i.content}Modifiers`:Ei([i,' + "Modifiers"']):"modelModifiers";p.push(es(m,zt(`{ ${g} }`,!1,s.loc,2)))}return Bp(p)};function Bp(s=[]){return{props:s}}const vB=/[\w).+\-_$\]]/,bB=(s,t)=>{Zl("COMPILER_FILTERS",t)&&(s.type===5?dm(s.content,t):s.type===1&&s.props.forEach(e=>{e.type===7&&e.name!=="for"&&e.exp&&dm(e.exp,t)}))};function dm(s,t){if(s.type===4)h1(s,t);else for(let e=0;e<s.children.length;e++){const n=s.children[e];typeof n=="object"&&(n.type===4?h1(n,t):n.type===8?dm(s,t):n.type===5&&dm(n.content,t))}}function h1(s,t){const e=s.content;let n=!1,i=!1,r=!1,o=!1,a=0,l=0,c=0,u=0,d,f,p,g,m=[];for(p=0;p<e.length;p++)if(f=d,d=e.charCodeAt(p),n)d===39&&f!==92&&(n=!1);else if(i)d===34&&f!==92&&(i=!1);else if(r)d===96&&f!==92&&(r=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&e.charCodeAt(p+1)!==124&&e.charCodeAt(p-1)!==124&&!a&&!l&&!c)g===void 0?(u=p+1,g=e.slice(0,p).trim()):v();else{switch(d){case 34:i=!0;break;case 39:n=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let b=p-1,S;for(;b>=0&&(S=e.charAt(b),S===" ");b--);(!S||!vB.test(S))&&(o=!0)}}g===void 0?g=e.slice(0,p).trim():u!==0&&v();function v(){m.push(e.slice(u,p).trim()),u=p+1}if(m.length){for(p=0;p<m.length;p++)g=yB(g,m[p],t);s.content=g,s.ast=void 0}}function yB(s,t,e){e.helper(Rv);const n=t.indexOf("(");if(n<0)return e.filters.add(t),`${ah(t,"filter")}(${s})`;{const i=t.slice(0,n),r=t.slice(n+1);return e.filters.add(i),`${ah(i,"filter")}(${s}${r!==")"?","+r:r}`}}const d1=new WeakSet,EB=(s,t)=>{if(s.type===1){const e=pn(s,"memo");return!e||d1.has(s)?void 0:(d1.add(s),()=>{const n=s.codegenNode||t.currentNode.codegenNode;n&&n.type===13&&(s.tagType!==1&&Uv(n,t),s.codegenNode=ls(t.helper(Fv),[e.exp,cc(void 0,n),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function AP(s){return[[mB,oB,EB,lB,bB,pB,bP,pP,gB],{on:HS,bind:hP,model:VS}]}function wP(s,t={}){const e=t.onError||OS,n=t.mode==="module";t.prefixIdentifiers===!0?e(ke(47)):n&&e(ke(48));const i=!1;t.cacheHandlers&&e(ke(49)),t.scopeId&&!n&&e(ke(50));const r=re({},t,{prefixIdentifiers:i}),o=kt(s)?kS(s,r):s,[a,l]=AP();return iP(o,re({},r,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:re({},l,t.directiveTransforms||{})})),oP(o,r)}const SB={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},TP=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $S=Symbol(""),GS=Symbol(""),zS=Symbol(""),XS=Symbol(""),fm=Symbol(""),WS=Symbol(""),KS=Symbol(""),YS=Symbol(""),qS=Symbol(""),JS=Symbol("");M_({[$S]:"vModelRadio",[GS]:"vModelCheckbox",[zS]:"vModelText",[XS]:"vModelSelect",[fm]:"vModelDynamic",[WS]:"withModifiers",[KS]:"withKeys",[YS]:"vShow",[qS]:"Transition",[JS]:"TransitionGroup"});let Sc;function AB(s,t=!1){return Sc||(Sc=document.createElement("div")),t?(Sc.innerHTML=`<div foo="${s.replace(/"/g,"&quot;")}">`,Sc.children[0].getAttribute("foo")):(Sc.innerHTML=s,Sc.textContent)}const QS={parseMode:"html",isVoidTag:j1,isNativeTag:s=>F1(s)||U1(s)||B1(s),isPreTag:s=>s==="pre",isIgnoreNewlineTag:s=>s==="pre"||s==="textarea",decodeEntities:AB,isBuiltInComponent:s=>{if(s==="Transition"||s==="transition")return qS;if(s==="TransitionGroup"||s==="transition-group")return JS},getNamespace(s,t,e){let n=t?t.ns:e;if(t&&n===2)if(t.tag==="annotation-xml"){if(s==="svg")return 1;t.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&s!=="mglyph"&&s!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(s==="svg")return 1;if(s==="math")return 2}return n}},CP=s=>{s.type===1&&s.props.forEach((t,e)=>{t.type===6&&t.name==="style"&&t.value&&(s.props[e]={type:7,name:"bind",arg:zt("style",!0,t.loc),exp:wB(t.value.content,t.loc),modifiers:[],loc:t.loc})})},wB=(s,t)=>{const e=DE(s);return zt(JSON.stringify(e),!1,t,3)};function bo(s,t){return ke(s,t)}const TB={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},CB={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},xB=(s,t,e)=>{const{exp:n,loc:i}=s;return n||e.onError(bo(53,i)),t.children.length&&(e.onError(bo(54,i)),t.children.length=0),{props:[es(zt("innerHTML",!0,i),n||zt("",!0))]}},_B=(s,t,e)=>{const{exp:n,loc:i}=s;return n||e.onError(bo(55,i)),t.children.length&&(e.onError(bo(56,i)),t.children.length=0),{props:[es(zt("textContent",!0),n?kn(n,e)>0?n:ls(e.helperString(pp),[n],i):zt("",!0))]}},PB=(s,t,e)=>{const n=VS(s,t,e);if(!n.props.length||t.tagType===1)return n;s.arg&&e.onError(bo(58,s.arg.loc));const{tag:i}=t,r=e.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||r){let o=zS,a=!1;if(i==="input"||r){const l=mp(t,"type");if(l){if(l.type===7)o=fm;else if(l.value)switch(l.value.content){case"radio":o=$S;break;case"checkbox":o=GS;break;case"file":a=!0,e.onError(bo(59,s.loc));break}}else z_(t)&&(o=fm)}else i==="select"&&(o=XS);a||(n.needRuntime=e.helper(o))}else e.onError(bo(57,s.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},IB=Ps("passive,once,capture"),RB=Ps("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),OB=Ps("left,right"),xP=Ps("onkeyup,onkeydown,onkeypress"),MB=(s,t,e,n)=>{const i=[],r=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&rh("COMPILER_V_ON_NATIVE",e)||IB(l)?o.push(l):OB(l)?vn(s)?xP(s.content.toLowerCase())?i.push(l):r.push(l):(i.push(l),r.push(l)):RB(l)?r.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},f1=(s,t)=>vn(s)&&s.content.toLowerCase()==="onclick"?zt(t,!0):s.type!==4?Ei(["(",s,`) === "onClick" ? "${t}" : (`,s,")"]):s,NB=(s,t,e)=>HS(s,t,e,n=>{const{modifiers:i}=s;if(!i.length)return n;let{key:r,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=MB(r,i,e,s.loc);if(l.includes("right")&&(r=f1(r,"onContextmenu")),l.includes("middle")&&(r=f1(r,"onMouseup")),l.length&&(o=ls(e.helper(WS),[o,JSON.stringify(l)])),a.length&&(!vn(r)||xP(r.content.toLowerCase()))&&(o=ls(e.helper(KS),[o,JSON.stringify(a)])),c.length){const u=c.map(Oa).join("");r=vn(r)?zt(`${r.content}${u}`,!0):Ei(["(",r,`) + "${u}"`])}return{props:[es(r,o)]}}),DB=(s,t,e)=>{const{exp:n,loc:i}=s;return n||e.onError(bo(61,i)),{props:[],needRuntime:e.helper(YS)}},LB=(s,t)=>{s.type===1&&s.tagType===0&&(s.tag==="script"||s.tag==="style")&&t.removeNode()},_P=[CP],PP={cloak:TP,html:xB,text:_B,model:PB,on:NB,show:DB};function kB(s,t={}){return wP(s,re({},QS,t,{nodeTransforms:[LB,..._P,...t.nodeTransforms||[]],directiveTransforms:re({},PP,t.directiveTransforms||{}),transformHoist:null}))}function FB(s,t={}){return kS(s,re({},QS,t))}const UB=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:TS,BindingTypes:SB,CAMELIZE:am,CAPITALIZE:__,CREATE_BLOCK:CS,CREATE_COMMENT:ph,CREATE_ELEMENT_BLOCK:xS,CREATE_ELEMENT_VNODE:Cv,CREATE_SLOTS:IS,CREATE_STATIC:_S,CREATE_TEXT:xv,CREATE_VNODE:Tv,CompilerDeprecationTypes:n4,ConstantTypes:YU,DOMDirectiveTransforms:PP,DOMErrorCodes:TB,DOMErrorMessages:CB,DOMNodeTransforms:_P,ElementTypes:KU,ErrorCodes:o4,FRAGMENT:sh,GUARD_REACTIVE_PROPS:gh,IS_MEMO_SAME:RS,IS_REF:O_,KEEP_ALIVE:Id,MERGE_PROPS:Rd,NORMALIZE_CLASS:Nv,NORMALIZE_PROPS:nh,NORMALIZE_STYLE:Dv,Namespaces:XU,NodeTypes:WU,OPEN_BLOCK:xa,POP_SCOPE_ID:I_,PUSH_SCOPE_ID:P_,RENDER_LIST:Mv,RENDER_SLOT:PS,RESOLVE_COMPONENT:_v,RESOLVE_DIRECTIVE:Iv,RESOLVE_DYNAMIC_COMPONENT:Pv,RESOLVE_FILTER:Rv,SET_BLOCK_TRACKING:Od,SUSPENSE:wv,TELEPORT:zc,TO_DISPLAY_STRING:pp,TO_HANDLERS:Lv,TO_HANDLER_KEY:lm,TRANSITION:qS,TRANSITION_GROUP:JS,TS_NODE_TYPES:U_,UNREF:R_,V_MODEL_CHECKBOX:GS,V_MODEL_DYNAMIC:fm,V_MODEL_RADIO:$S,V_MODEL_SELECT:XS,V_MODEL_TEXT:zS,V_ON_WITH_KEYS:KS,V_ON_WITH_MODIFIERS:WS,V_SHOW:YS,WITH_CTX:kv,WITH_DIRECTIVES:Ov,WITH_MEMO:Fv,advancePositionWithClone:C4,advancePositionWithMutation:G_,assert:x4,baseCompile:wP,baseParse:kS,buildDirectiveArgs:EP,buildProps:jS,buildSlots:gP,checkCompatEnabled:rh,compile:kB,convertToBlock:Uv,createArrayExpression:Aa,createAssignmentExpression:ZU,createBlockStatement:L_,createCacheExpression:D_,createCallExpression:ls,createCompilerError:ke,createCompoundExpression:Ei,createConditionalExpression:cm,createDOMCompilerError:bo,createForLoopParams:hm,createFunctionExpression:cc,createIfStatement:QU,createInterpolation:qU,createObjectExpression:Zn,createObjectProperty:es,createReturnStatement:e4,createRoot:N_,createSequenceExpression:t4,createSimpleExpression:zt,createStructuralDirectiveTransform:FS,createTemplateLiteral:JU,createTransformContext:nP,createVNodeCall:ih,errorMessages:a4,extractIdentifiers:go,findDir:pn,findProp:mp,forAliasRE:K_,generate:oP,generateCodeFrame:L1,getBaseTransformPreset:AP,getConstantType:kn,getMemoedVNodeCall:W_,getVNodeBlockHelper:hc,getVNodeHelper:uc,hasDynamicKeyVBind:z_,hasScopeRef:_i,helperNameMap:lc,injectProp:Nd,isCoreComponent:MS,isFnExpression:$_,isFnExpressionBrowser:V_,isFnExpressionNode:T4,isFunctionType:m4,isInDestructureAssignment:u4,isInNewExpression:h4,isMemberExpression:NS,isMemberExpressionBrowser:H_,isMemberExpressionNode:A4,isReferencedIdentifier:c4,isSimpleIdentifier:gp,isSlotOutlet:Md,isStaticArgOf:va,isStaticExp:vn,isStaticProperty:F_,isStaticPropertyKey:v4,isTemplateNode:oh,isText:Pg,isVSlot:DS,locStub:Ss,noopDirectiveTransform:TP,parse:FB,parserOptions:QS,processExpression:Mg,processFor:fP,processIf:uP,processSlotOutlet:SP,registerRuntimeHelpers:M_,resolveComponentType:yP,stringifyExpression:cP,toValidAssetId:ah,trackSlotScopes:pP,trackVForSlotScopes:uB,transform:iP,transformBind:hP,transformElement:bP,transformExpression:rB,transformModel:VS,transformOn:HS,transformStyle:CP,traverseNode:vp,unwrapTSNode:B_,walkBlockDeclarations:f4,walkFunctionParams:d4,walkIdentifiers:l4,warnDeprecation:r4},Symbol.toStringTag,{value:"Module"})),BB=Av(UB),jB=Av(HM),HB=Av(xI);/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var p1;function VB(){return p1||(p1=1,function(s){Object.defineProperty(s,"__esModule",{value:!0});var t=BB,e=jB,n=HB;function i(l){var c=Object.create(null);if(l)for(var u in l)c[u]=l[u];return c.default=l,Object.freeze(c)}var r=i(e);const o=Object.create(null);function a(l,c){if(!n.isString(l))if(l.nodeType)l=l.innerHTML;else return n.NOOP;const u=n.genCacheKey(l,c),d=o[u];if(d)return d;if(l[0]==="#"){const m=document.querySelector(l);l=m?m.innerHTML:""}const f=n.extend({hoistStatic:!0,onError:void 0,onWarn:n.NOOP},c);!f.isCustomElement&&typeof customElements<"u"&&(f.isCustomElement=m=>!!customElements.get(m));const{code:p}=t.compile(l,f),g=new Function("Vue",p)(r);return g._rc=!0,o[u]=g}e.registerRuntimeCompiler(a),s.compile=a,Object.keys(e).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&(s[l]=e[l])})}(vb)),vb}var g1;function $B(){return g1||(g1=1,mb.exports=VB()),mb.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function m1(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),e.push.apply(e,n)}return e}function Ir(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(e),!0).forEach(function(n){GB(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):m1(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function Dg(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(t){return typeof t}:Dg=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(s)}function GB(s,t,e){return t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function wi(){return wi=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},wi.apply(this,arguments)}function zB(s,t){if(s==null)return{};var e={},n=Object.keys(s),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(e[i]=s[i]);return e}function XB(s,t){if(s==null)return{};var e=zB(s,t),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function WB(s){return KB(s)||YB(s)||qB(s)||JB()}function KB(s){if(Array.isArray(s))return xE(s)}function YB(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function qB(s,t){if(s){if(typeof s=="string")return xE(s,t);var e=Object.prototype.toString.call(s).slice(8,-1);if(e==="Object"&&s.constructor&&(e=s.constructor.name),e==="Map"||e==="Set")return Array.from(s);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return xE(s,t)}}function xE(s,t){(t==null||t>s.length)&&(t=s.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=s[e];return n}function JB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var QB="1.14.0";function yo(s){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(s)}var Po=yo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yp=yo(/Edge/i),v1=yo(/firefox/i),od=yo(/safari/i)&&!yo(/chrome/i)&&!yo(/android/i),IP=yo(/iP(ad|od|hone)/i),ZB=yo(/chrome/i)&&yo(/android/i),RP={capture:!1,passive:!1};function oe(s,t,e){s.addEventListener(t,e,!Po&&RP)}function ee(s,t,e){s.removeEventListener(t,e,!Po&&RP)}function pm(s,t){if(t){if(t[0]===">"&&(t=t.substring(1)),s)try{if(s.matches)return s.matches(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t)}catch{return!1}return!1}}function tj(s){return s.host&&s!==document&&s.host.nodeType?s.host:s.parentNode}function $i(s,t,e,n){if(s){e=e||document;do{if(t!=null&&(t[0]===">"?s.parentNode===e&&pm(s,t):pm(s,t))||n&&s===e)return s;if(s===e)break}while(s=tj(s))}return null}var b1=/\s+/g;function Xe(s,t,e){if(s&&t)if(s.classList)s.classList[e?"add":"remove"](t);else{var n=(" "+s.className+" ").replace(b1," ").replace(" "+t+" "," ");s.className=(n+(e?" "+t:"")).replace(b1," ")}}function vt(s,t,e){var n=s&&s.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(s,""):s.currentStyle&&(e=s.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function tc(s,t){var e="";if(typeof s=="string")e=s;else do{var n=vt(s,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(s=s.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(e)}function OP(s,t,e){if(s){var n=s.getElementsByTagName(t),i=0,r=n.length;if(e)for(;i<r;i++)e(n[i],i);return n}return[]}function _r(){var s=document.scrollingElement;return s||document.documentElement}function Ve(s,t,e,n,i){if(!(!s.getBoundingClientRect&&s!==window)){var r,o,a,l,c,u,d;if(s!==window&&s.parentNode&&s!==_r()?(r=s.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,c=r.right,u=r.height,d=r.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||e)&&s!==window&&(i=i||s.parentNode,!Po))do if(i&&i.getBoundingClientRect&&(vt(i,"transform")!=="none"||e&&vt(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(vt(i,"border-top-width")),a-=f.left+parseInt(vt(i,"border-left-width")),l=o+r.height,c=a+r.width;break}while(i=i.parentNode);if(n&&s!==window){var p=tc(i||s),g=p&&p.a,m=p&&p.d;p&&(o/=m,a/=g,d/=g,u/=m,l=o+u,c=a+d)}return{top:o,left:a,bottom:l,right:c,width:d,height:u}}}function y1(s,t,e){for(var n=ba(s,!0),i=Ve(s)[t];n;){var r=Ve(n)[e],o=void 0;if(o=i>=r,!o)return n;if(n===_r())break;n=ba(n,!1)}return!1}function lh(s,t,e,n){for(var i=0,r=0,o=s.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Lt.ghost&&(n||o[r]!==Lt.dragged)&&$i(o[r],e.draggable,s,!1)){if(i===t)return o[r];i++}r++}return null}function ZS(s,t){for(var e=s.lastElementChild;e&&(e===Lt.ghost||vt(e,"display")==="none"||t&&!pm(e,t));)e=e.previousElementSibling;return e||null}function Ze(s,t){var e=0;if(!s||!s.parentNode)return-1;for(;s=s.previousElementSibling;)s.nodeName.toUpperCase()!=="TEMPLATE"&&s!==Lt.clone&&(!t||pm(s,t))&&e++;return e}function E1(s){var t=0,e=0,n=_r();if(s)do{var i=tc(s),r=i.a,o=i.d;t+=s.scrollLeft*r,e+=s.scrollTop*o}while(s!==n&&(s=s.parentNode));return[t,e]}function ej(s,t){for(var e in s)if(s.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===s[e][n])return Number(e)}return-1}function ba(s,t){if(!s||!s.getBoundingClientRect)return _r();var e=s,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var i=vt(e);if(e.clientWidth<e.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return _r();if(n||t)return e;n=!0}}while(e=e.parentNode);return _r()}function sj(s,t){if(s&&t)for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);return s}function yb(s,t){return Math.round(s.top)===Math.round(t.top)&&Math.round(s.left)===Math.round(t.left)&&Math.round(s.height)===Math.round(t.height)&&Math.round(s.width)===Math.round(t.width)}var ad;function MP(s,t){return function(){if(!ad){var e=arguments,n=this;e.length===1?s.call(n,e[0]):s.apply(n,e),ad=setTimeout(function(){ad=void 0},t)}}}function nj(){clearTimeout(ad),ad=void 0}function NP(s,t,e){s.scrollLeft+=t,s.scrollTop+=e}function tA(s){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(s).cloneNode(!0):e?e(s).clone(!0)[0]:s.cloneNode(!0)}function S1(s,t){vt(s,"position","absolute"),vt(s,"top",t.top),vt(s,"left",t.left),vt(s,"width",t.width),vt(s,"height",t.height)}function Eb(s){vt(s,"position",""),vt(s,"top",""),vt(s,"left",""),vt(s,"width",""),vt(s,"height","")}var en="Sortable"+new Date().getTime();function ij(){var s=[],t;return{captureAnimationState:function(){if(s=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(vt(i,"display")==="none"||i===Lt.ghost)){s.push({target:i,rect:Ve(i)});var r=Ir({},s[s.length-1].rect);if(i.thisAnimationDuration){var o=tc(i,!0);o&&(r.top-=o.f,r.left-=o.e)}i.fromRect=r}})}},addAnimationState:function(n){s.push(n)},removeAnimationState:function(n){s.splice(ej(s,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var r=!1,o=0;s.forEach(function(a){var l=0,c=a.target,u=c.fromRect,d=Ve(c),f=c.prevFromRect,p=c.prevToRect,g=a.rect,m=tc(c,!0);m&&(d.top-=m.f,d.left-=m.e),c.toRect=d,c.thisAnimationDuration&&yb(f,d)&&!yb(u,d)&&(g.top-d.top)/(g.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(l=oj(g,f,p,i.options)),yb(d,u)||(c.prevFromRect=u,c.prevToRect=d,l||(l=i.options.animation),i.animate(c,g,d,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),r?t=setTimeout(function(){typeof n=="function"&&n()},o):typeof n=="function"&&n(),s=[]},animate:function(n,i,r,o){if(o){vt(n,"transition",""),vt(n,"transform","");var a=tc(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-r.left)/(l||1),d=(i.top-r.top)/(c||1);n.animatingX=!!u,n.animatingY=!!d,vt(n,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=rj(n),vt(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),vt(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){vt(n,"transition",""),vt(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},o)}}}}function rj(s){return s.offsetWidth}function oj(s,t,e,n){return Math.sqrt(Math.pow(t.top-s.top,2)+Math.pow(t.left-s.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var Ac=[],Sb={initializeByDefault:!0},Ep={mount:function(t){for(var e in Sb)Sb.hasOwnProperty(e)&&!(e in t)&&(t[e]=Sb[e]);Ac.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ac.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";Ac.forEach(function(o){e[o.pluginName]&&(e[o.pluginName][r]&&e[o.pluginName][r](Ir({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](Ir({sortable:e},n)))})},initializePlugins:function(t,e,n,i){Ac.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,wi(n,c.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);typeof o<"u"&&(t.options[r]=o)}},getEventProperties:function(t,e){var n={};return Ac.forEach(function(i){typeof i.eventProperties=="function"&&wi(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return Ac.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[e]=="function"&&(i=r.optionListeners[e].call(t[r.pluginName],n))}),i}};function zh(s){var t=s.sortable,e=s.rootEl,n=s.name,i=s.targetEl,r=s.cloneEl,o=s.toEl,a=s.fromEl,l=s.oldIndex,c=s.newIndex,u=s.oldDraggableIndex,d=s.newDraggableIndex,f=s.originalEvent,p=s.putSortable,g=s.extraEventProperties;if(t=t||e&&e[en],!!t){var m,v=t.options,b="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Po&&!yp?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=o||e,m.from=a||e,m.item=i||e,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var S=Ir(Ir({},g),Ep.getEventProperties(n,t));for(var E in S)m[E]=S[E];e&&e.dispatchEvent(m),v[b]&&v[b].call(t,m)}}var aj=["evt"],Tn=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=XB(n,aj);Ep.pluginEvent.bind(Lt)(t,e,Ir({dragEl:at,parentEl:qe,ghostEl:Wt,rootEl:Fe,nextEl:$a,lastDownEl:Lg,cloneEl:Je,cloneHidden:$o,dragStarted:Xh,putSortable:Rs,activeSortable:Lt.active,originalEvent:i,oldIndex:Uc,oldDraggableIndex:ld,newIndex:Bn,newDraggableIndex:Ho,hideGhostForTarget:FP,unhideGhostForTarget:UP,cloneNowHidden:function(){$o=!0},cloneNowShown:function(){$o=!1},dispatchSortableEvent:function(a){ln({sortable:e,name:a,originalEvent:i})}},r))};function ln(s){zh(Ir({putSortable:Rs,cloneEl:Je,targetEl:at,rootEl:Fe,oldIndex:Uc,oldDraggableIndex:ld,newIndex:Bn,newDraggableIndex:Ho},s))}var at,qe,Wt,Fe,$a,Lg,Je,$o,Uc,Bn,ld,Ho,jp,Rs,Lc=!1,gm=!1,mm=[],Fa,Ci,Ab,wb,A1,w1,Xh,wc,cd,ud=!1,Hp=!1,kg,js,Tb=[],_E=!1,vm=[],jv=typeof document<"u",Vp=IP,T1=yp||Po?"cssFloat":"float",lj=jv&&!ZB&&!IP&&"draggable"in document.createElement("div"),DP=function(){if(jv){if(Po)return!1;var s=document.createElement("x");return s.style.cssText="pointer-events:auto",s.style.pointerEvents==="auto"}}(),LP=function(t,e){var n=vt(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=lh(t,0,e),o=lh(t,1,e),a=r&&vt(r),l=o&&vt(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ve(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ve(o).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&n[T1]==="none"||o&&n[T1]==="none"&&c+u>i)?"vertical":"horizontal"},cj=function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,l=n?e.right:e.bottom,c=n?e.width:e.height;return i===a||r===l||i+o/2===a+c/2},uj=function(t,e){var n;return mm.some(function(i){var r=i[en].options.emptyInsertThreshold;if(!(!r||ZS(i))){var o=Ve(i),a=t>=o.left-r&&t<=o.right+r,l=e>=o.top-r&&e<=o.bottom+r;if(a&&l)return n=i}}),n},kP=function(t){function e(r,o){return function(a,l,c,u){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||d))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return e(r(a,l,c,u),o)(a,l,c,u);var f=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===f||r.join&&r.indexOf(f)>-1}}var n={},i=t.group;(!i||Dg(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},FP=function(){!DP&&Wt&&vt(Wt,"display","none")},UP=function(){!DP&&Wt&&vt(Wt,"display","")};jv&&document.addEventListener("click",function(s){if(gm)return s.preventDefault(),s.stopPropagation&&s.stopPropagation(),s.stopImmediatePropagation&&s.stopImmediatePropagation(),gm=!1,!1},!0);var Ua=function(t){if(at){t=t.touches?t.touches[0]:t;var e=uj(t.clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[en]._onDragOver(n)}}},hj=function(t){at&&at.parentNode[en]._isOutsideThisEl(t.target)};function Lt(s,t){if(!(s&&s.nodeType&&s.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(s));this.el=s,this.options=t=wi({},t),s[en]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(s.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return LP(s,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Lt.supportPointer!==!1&&"PointerEvent"in window&&!od,emptyInsertThreshold:5};Ep.initializePlugins(this,s,e);for(var n in e)!(n in t)&&(t[n]=e[n]);kP(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:lj,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?oe(s,"pointerdown",this._onTapStart):(oe(s,"mousedown",this._onTapStart),oe(s,"touchstart",this._onTapStart)),this.nativeDraggable&&(oe(s,"dragover",this),oe(s,"dragenter",this)),mm.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),wi(this,ij())}Lt.prototype={constructor:Lt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(wc=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,at):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=i.filter;if(yj(n),!at&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&od&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=$i(l,i.draggable,n,!1),!(l&&l.animated)&&Lg!==l)){if(Uc=Ze(l),ld=Ze(l,i.draggable),typeof u=="function"){if(u.call(this,t,l,this)){ln({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Tn("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=$i(c,d.trim(),n,!1),d)return ln({sortable:e,rootEl:d,name:"filter",targetEl:l,fromEl:n,toEl:n}),Tn("filter",e,{evt:t}),!0}),u)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!$i(c,i.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,n){var i=this,r=i.el,o=i.options,a=r.ownerDocument,l;if(n&&!at&&n.parentNode===r){var c=Ve(n);if(Fe=r,at=n,qe=at.parentNode,$a=at.nextSibling,Lg=n,jp=o.group,Lt.dragged=at,Fa={target:at,clientX:(e||t).clientX,clientY:(e||t).clientY},A1=Fa.clientX-c.left,w1=Fa.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,at.style["will-change"]="all",l=function(){if(Tn("delayEnded",i,{evt:t}),Lt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!v1&&i.nativeDraggable&&(at.draggable=!0),i._triggerDragStart(t,e),ln({sortable:i,name:"choose",originalEvent:t}),Xe(at,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){OP(at,u.trim(),Cb)}),oe(a,"dragover",Ua),oe(a,"mousemove",Ua),oe(a,"touchmove",Ua),oe(a,"mouseup",i._onDrop),oe(a,"touchend",i._onDrop),oe(a,"touchcancel",i._onDrop),v1&&this.nativeDraggable&&(this.options.touchStartThreshold=4,at.draggable=!0),Tn("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(yp||Po))){if(Lt.eventCanceled){this._onDrop();return}oe(a,"mouseup",i._disableDelayedDrag),oe(a,"touchend",i._disableDelayedDrag),oe(a,"touchcancel",i._disableDelayedDrag),oe(a,"mousemove",i._delayedDragTouchMoveHandler),oe(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&oe(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){at&&Cb(at),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ee(t,"mouseup",this._disableDelayedDrag),ee(t,"touchend",this._disableDelayedDrag),ee(t,"touchcancel",this._disableDelayedDrag),ee(t,"mousemove",this._delayedDragTouchMoveHandler),ee(t,"touchmove",this._delayedDragTouchMoveHandler),ee(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?oe(document,"pointermove",this._onTouchMove):e?oe(document,"touchmove",this._onTouchMove):oe(document,"mousemove",this._onTouchMove):(oe(at,"dragend",this),oe(Fe,"dragstart",this._onDragStart));try{document.selection?Fg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Lc=!1,Fe&&at){Tn("dragStarted",this,{evt:e}),this.nativeDraggable&&oe(document,"dragover",hj);var n=this.options;!t&&Xe(at,n.dragClass,!1),Xe(at,n.ghostClass,!0),Lt.active=this,t&&this._appendGhost(),ln({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ci){this._lastX=Ci.clientX,this._lastY=Ci.clientY,FP();for(var t=document.elementFromPoint(Ci.clientX,Ci.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ci.clientX,Ci.clientY),t!==e);)e=t;if(at.parentNode[en]._isOutsideThisEl(t),e)do{if(e[en]){var n=void 0;if(n=e[en]._onDragOver({clientX:Ci.clientX,clientY:Ci.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);UP()}},_onTouchMove:function(t){if(Fa){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=Wt&&tc(Wt,!0),a=Wt&&o&&o.a,l=Wt&&o&&o.d,c=Vp&&js&&E1(js),u=(r.clientX-Fa.clientX+i.x)/(a||1)+(c?c[0]-Tb[0]:0)/(a||1),d=(r.clientY-Fa.clientY+i.y)/(l||1)+(c?c[1]-Tb[1]:0)/(l||1);if(!Lt.active&&!Lc){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Wt){o?(o.e+=u-(Ab||0),o.f+=d-(wb||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");vt(Wt,"webkitTransform",f),vt(Wt,"mozTransform",f),vt(Wt,"msTransform",f),vt(Wt,"transform",f),Ab=u,wb=d,Ci=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Wt){var t=this.options.fallbackOnBody?document.body:Fe,e=Ve(at,!0,Vp,!0,t),n=this.options;if(Vp){for(js=t;vt(js,"position")==="static"&&vt(js,"transform")==="none"&&js!==document;)js=js.parentNode;js!==document.body&&js!==document.documentElement?(js===document&&(js=_r()),e.top+=js.scrollTop,e.left+=js.scrollLeft):js=_r(),Tb=E1(js)}Wt=at.cloneNode(!0),Xe(Wt,n.ghostClass,!1),Xe(Wt,n.fallbackClass,!0),Xe(Wt,n.dragClass,!0),vt(Wt,"transition",""),vt(Wt,"transform",""),vt(Wt,"box-sizing","border-box"),vt(Wt,"margin",0),vt(Wt,"top",e.top),vt(Wt,"left",e.left),vt(Wt,"width",e.width),vt(Wt,"height",e.height),vt(Wt,"opacity","0.8"),vt(Wt,"position",Vp?"absolute":"fixed"),vt(Wt,"zIndex","100000"),vt(Wt,"pointerEvents","none"),Lt.ghost=Wt,t.appendChild(Wt),vt(Wt,"transform-origin",A1/parseInt(Wt.style.width)*100+"% "+w1/parseInt(Wt.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;if(Tn("dragStart",this,{evt:t}),Lt.eventCanceled){this._onDrop();return}Tn("setupClone",this),Lt.eventCanceled||(Je=tA(at),Je.draggable=!1,Je.style["will-change"]="",this._hideClone(),Xe(Je,this.options.chosenClass,!1),Lt.clone=Je),n.cloneId=Fg(function(){Tn("clone",n),!Lt.eventCanceled&&(n.options.removeCloneOnHide||Fe.insertBefore(Je,at),n._hideClone(),ln({sortable:n,name:"clone"}))}),!e&&Xe(at,r.dragClass,!0),e?(gm=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ee(document,"mouseup",n._onDrop),ee(document,"touchend",n._onDrop),ee(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,at)),oe(document,"drop",n),vt(at,"transform","translateZ(0)")),Lc=!0,n._dragStartId=Fg(n._dragStarted.bind(n,e,t)),oe(document,"selectstart",n),Xh=!0,od&&vt(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,i,r,o,a=this.options,l=a.group,c=Lt.active,u=jp===l,d=a.sort,f=Rs||c,p,g=this,m=!1;if(_E)return;function v(W,At){Tn(W,g,Ir({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:r,canSort:d,fromSortable:f,target:n,completed:S,onMove:function(Mt,Ct){return $p(Fe,e,at,i,Mt,Ve(Mt),t,Ct)},changed:E},At))}function b(){v("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function S(W){return v("dragOverCompleted",{insertion:W}),W&&(u?c._hideClone():c._showClone(g),g!==f&&(Xe(at,Rs?Rs.options.ghostClass:c.options.ghostClass,!1),Xe(at,a.ghostClass,!0)),Rs!==g&&g!==Lt.active?Rs=g:g===Lt.active&&Rs&&(Rs=null),f===g&&(g._ignoreWhileAnimating=n),g.animateAll(function(){v("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===at&&!at.animated||n===e&&!n.animated)&&(wc=null),!a.dragoverBubble&&!t.rootEl&&n!==document&&(at.parentNode[en]._isOutsideThisEl(t.target),!W&&Ua(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function E(){Bn=Ze(at),Ho=Ze(at,a.draggable),ln({sortable:g,name:"change",toEl:e,newIndex:Bn,newDraggableIndex:Ho,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=$i(n,a.draggable,e,!0),v("dragOver"),Lt.eventCanceled)return m;if(at.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return S(!1);if(gm=!1,c&&!a.disabled&&(u?d||(o=qe!==Fe):Rs===this||(this.lastPutMode=jp.checkPull(this,c,at,t))&&l.checkPut(this,c,at,t))){if(p=this._getDirection(t,n)==="vertical",i=Ve(at),v("dragOverValid"),Lt.eventCanceled)return m;if(o)return qe=Fe,b(),this._hideClone(),v("revert"),Lt.eventCanceled||($a?Fe.insertBefore(at,$a):Fe.appendChild(at)),S(!0);var A=ZS(e,a.draggable);if(!A||gj(t,p,this)&&!A.animated){if(A===at)return S(!1);if(A&&e===t.target&&(n=A),n&&(r=Ve(n)),$p(Fe,e,at,i,n,r,t,!!n)!==!1)return b(),e.appendChild(at),qe=e,E(),S(!0)}else if(A&&pj(t,p,this)){var T=lh(e,0,a,!0);if(T===at)return S(!1);if(n=T,r=Ve(n),$p(Fe,e,at,i,n,r,t,!1)!==!1)return b(),e.insertBefore(at,T),qe=e,E(),S(!0)}else if(n.parentNode===e){r=Ve(n);var P=0,R,O=at.parentNode!==e,_=!cj(at.animated&&at.toRect||i,n.animated&&n.toRect||r,p),N=p?"top":"left",L=y1(n,"top","top")||y1(at,"top","top"),F=L?L.scrollTop:void 0;wc!==n&&(R=r[N],ud=!1,Hp=!_&&a.invertSwap||O),P=mj(t,n,r,p,_?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Hp,wc===n);var U;if(P!==0){var V=Ze(at);do V-=P,U=qe.children[V];while(U&&(vt(U,"display")==="none"||U===Wt))}if(P===0||U===n)return S(!1);wc=n,cd=P;var J=n.nextElementSibling,j=!1;j=P===1;var H=$p(Fe,e,at,i,n,r,t,j);if(H!==!1)return(H===1||H===-1)&&(j=H===1),_E=!0,setTimeout(fj,30),b(),j&&!J?e.appendChild(at):n.parentNode.insertBefore(at,j?J:n),L&&NP(L,0,F-L.scrollTop),qe=at.parentNode,R!==void 0&&!Hp&&(kg=Math.abs(R-Ve(n)[N])),E(),S(!0)}if(e.contains(at))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ee(document,"mousemove",this._onTouchMove),ee(document,"touchmove",this._onTouchMove),ee(document,"pointermove",this._onTouchMove),ee(document,"dragover",Ua),ee(document,"mousemove",Ua),ee(document,"touchmove",Ua)},_offUpEvents:function(){var t=this.el.ownerDocument;ee(t,"mouseup",this._onDrop),ee(t,"touchend",this._onDrop),ee(t,"pointerup",this._onDrop),ee(t,"touchcancel",this._onDrop),ee(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(Bn=Ze(at),Ho=Ze(at,n.draggable),Tn("drop",this,{evt:t}),qe=at&&at.parentNode,Bn=Ze(at),Ho=Ze(at,n.draggable),Lt.eventCanceled){this._nulling();return}Lc=!1,Hp=!1,ud=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),PE(this.cloneId),PE(this._dragStartId),this.nativeDraggable&&(ee(document,"drop",this),ee(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),od&&vt(document.body,"user-select",""),vt(at,"transform",""),t&&(Xh&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Wt&&Wt.parentNode&&Wt.parentNode.removeChild(Wt),(Fe===qe||Rs&&Rs.lastPutMode!=="clone")&&Je&&Je.parentNode&&Je.parentNode.removeChild(Je),at&&(this.nativeDraggable&&ee(at,"dragend",this),Cb(at),at.style["will-change"]="",Xh&&!Lc&&Xe(at,Rs?Rs.options.ghostClass:this.options.ghostClass,!1),Xe(at,this.options.chosenClass,!1),ln({sortable:this,name:"unchoose",toEl:qe,newIndex:null,newDraggableIndex:null,originalEvent:t}),Fe!==qe?(Bn>=0&&(ln({rootEl:qe,name:"add",toEl:qe,fromEl:Fe,originalEvent:t}),ln({sortable:this,name:"remove",toEl:qe,originalEvent:t}),ln({rootEl:qe,name:"sort",toEl:qe,fromEl:Fe,originalEvent:t}),ln({sortable:this,name:"sort",toEl:qe,originalEvent:t})),Rs&&Rs.save()):Bn!==Uc&&Bn>=0&&(ln({sortable:this,name:"update",toEl:qe,originalEvent:t}),ln({sortable:this,name:"sort",toEl:qe,originalEvent:t})),Lt.active&&((Bn==null||Bn===-1)&&(Bn=Uc,Ho=ld),ln({sortable:this,name:"end",toEl:qe,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Tn("nulling",this),Fe=at=qe=Wt=$a=Je=Lg=$o=Fa=Ci=Xh=Bn=Ho=Uc=ld=wc=cd=Rs=jp=Lt.dragged=Lt.ghost=Lt.clone=Lt.active=null,vm.forEach(function(t){t.checked=!0}),vm.length=Ab=wb=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":at&&(this._onDragOver(t),dj(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)e=n[i],$i(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||bj(e));return t},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(r,o){var a=i.children[o];$i(a,this.options.draggable,i,!1)&&(n[r]=a)},this),e&&this.captureAnimationState(),t.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return $i(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var i=Ep.modifyOption(this,t,e);typeof i<"u"?n[t]=i:n[t]=e,t==="group"&&kP(n)},destroy:function(){Tn("destroy",this);var t=this.el;t[en]=null,ee(t,"mousedown",this._onTapStart),ee(t,"touchstart",this._onTapStart),ee(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ee(t,"dragover",this),ee(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mm.splice(mm.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!$o){if(Tn("hideClone",this),Lt.eventCanceled)return;vt(Je,"display","none"),this.options.removeCloneOnHide&&Je.parentNode&&Je.parentNode.removeChild(Je),$o=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if($o){if(Tn("showClone",this),Lt.eventCanceled)return;at.parentNode==Fe&&!this.options.group.revertClone?Fe.insertBefore(Je,at):$a?Fe.insertBefore(Je,$a):Fe.appendChild(Je),this.options.group.revertClone&&this.animate(at,Je),vt(Je,"display",""),$o=!1}}};function dj(s){s.dataTransfer&&(s.dataTransfer.dropEffect="move"),s.cancelable&&s.preventDefault()}function $p(s,t,e,n,i,r,o,a){var l,c=s[en],u=c.options.onMove,d;return window.CustomEvent&&!Po&&!yp?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=s,l.dragged=e,l.draggedRect=n,l.related=i||t,l.relatedRect=r||Ve(t),l.willInsertAfter=a,l.originalEvent=o,s.dispatchEvent(l),u&&(d=u.call(c,l,o)),d}function Cb(s){s.draggable=!1}function fj(){_E=!1}function pj(s,t,e){var n=Ve(lh(e.el,0,e.options,!0)),i=10;return t?s.clientX<n.left-i||s.clientY<n.top&&s.clientX<n.right:s.clientY<n.top-i||s.clientY<n.bottom&&s.clientX<n.left}function gj(s,t,e){var n=Ve(ZS(e.el,e.options.draggable)),i=10;return t?s.clientX>n.right+i||s.clientX<=n.right&&s.clientY>n.bottom&&s.clientX>=n.left:s.clientX>n.right&&s.clientY>n.top||s.clientX<=n.right&&s.clientY>n.bottom+i}function mj(s,t,e,n,i,r,o,a){var l=n?s.clientY:s.clientX,c=n?e.height:e.width,u=n?e.top:e.left,d=n?e.bottom:e.right,f=!1;if(!o){if(a&&kg<c*i){if(!ud&&(cd===1?l>u+c*r/2:l<d-c*r/2)&&(ud=!0),ud)f=!0;else if(cd===1?l<u+kg:l>d-kg)return-cd}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return vj(t)}return f=f||o,f&&(l<u+c*r/2||l>d-c*r/2)?l>u+c/2?1:-1:0}function vj(s){return Ze(at)<Ze(s)?1:-1}function bj(s){for(var t=s.tagName+s.className+s.src+s.href+s.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function yj(s){vm.length=0;for(var t=s.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&vm.push(n)}}function Fg(s){return setTimeout(s,0)}function PE(s){return clearTimeout(s)}jv&&oe(document,"touchmove",function(s){(Lt.active||Lc)&&s.cancelable&&s.preventDefault()});Lt.utils={on:oe,off:ee,css:vt,find:OP,is:function(t,e){return!!$i(t,e,t,!1)},extend:sj,throttle:MP,closest:$i,toggleClass:Xe,clone:tA,index:Ze,nextTick:Fg,cancelNextTick:PE,detectDirection:LP,getChild:lh};Lt.get=function(s){return s[en]};Lt.mount=function(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Lt.utils=Ir(Ir({},Lt.utils),n.utils)),Ep.mount(n)})};Lt.create=function(s,t){return new Lt(s,t)};Lt.version=QB;var as=[],Wh,IE,RE=!1,xb,_b,bm,Kh;function Ej(){function s(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return s.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?oe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?oe(document,"pointermove",this._handleFallbackAutoScroll):n.touches?oe(document,"touchmove",this._handleFallbackAutoScroll):oe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ee(document,"dragover",this._handleAutoScroll):(ee(document,"pointermove",this._handleFallbackAutoScroll),ee(document,"touchmove",this._handleFallbackAutoScroll),ee(document,"mousemove",this._handleFallbackAutoScroll)),C1(),Ug(),nj()},nulling:function(){bm=IE=Wh=RE=Kh=xb=_b=null,as.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var i=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,o);if(bm=e,n||this.options.forceAutoScrollFallback||yp||Po||od){Pb(e,this.options,a,n);var l=ba(a,!0);RE&&(!Kh||r!==xb||o!==_b)&&(Kh&&C1(),Kh=setInterval(function(){var c=ba(document.elementFromPoint(r,o),!0);c!==l&&(l=c,Ug()),Pb(e,i.options,c,n)},10),xb=r,_b=o)}else{if(!this.options.bubbleScroll||ba(a,!0)===_r()){Ug();return}Pb(e,this.options,ba(a,!1),!1)}}},wi(s,{pluginName:"scroll",initializeByDefault:!0})}function Ug(){as.forEach(function(s){clearInterval(s.pid)}),as=[]}function C1(){clearInterval(Kh)}var Pb=MP(function(s,t,e,n){if(t.scroll){var i=(s.touches?s.touches[0]:s).clientX,r=(s.touches?s.touches[0]:s).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=_r(),c=!1,u;IE!==e&&(IE=e,Ug(),Wh=t.scroll,u=t.scrollFn,Wh===!0&&(Wh=ba(e,!0)));var d=0,f=Wh;do{var p=f,g=Ve(p),m=g.top,v=g.bottom,b=g.left,S=g.right,E=g.width,A=g.height,T=void 0,P=void 0,R=p.scrollWidth,O=p.scrollHeight,_=vt(p),N=p.scrollLeft,L=p.scrollTop;p===l?(T=E<R&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),P=A<O&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(T=E<R&&(_.overflowX==="auto"||_.overflowX==="scroll"),P=A<O&&(_.overflowY==="auto"||_.overflowY==="scroll"));var F=T&&(Math.abs(S-i)<=o&&N+E<R)-(Math.abs(b-i)<=o&&!!N),U=P&&(Math.abs(v-r)<=o&&L+A<O)-(Math.abs(m-r)<=o&&!!L);if(!as[d])for(var V=0;V<=d;V++)as[V]||(as[V]={});(as[d].vx!=F||as[d].vy!=U||as[d].el!==p)&&(as[d].el=p,as[d].vx=F,as[d].vy=U,clearInterval(as[d].pid),(F!=0||U!=0)&&(c=!0,as[d].pid=setInterval((function(){n&&this.layer===0&&Lt.active._onTouchMove(bm);var J=as[this.layer].vy?as[this.layer].vy*a:0,j=as[this.layer].vx?as[this.layer].vx*a:0;typeof u=="function"&&u.call(Lt.dragged.parentNode[en],j,J,s,bm,as[this.layer].el)!=="continue"||NP(as[this.layer].el,j,J)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==l&&(f=ba(f,!1)));RE=c}},30),BP=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var c=n||r;a();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function eA(){}eA.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=lh(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:BP};wi(eA,{pluginName:"revertOnSpill"});function sA(){}sA.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:BP};wi(sA,{pluginName:"removeOnSpill"});var oi;function Sj(){function s(){this.defaults={swapClass:"sortable-swap-highlight"}}return s.prototype={dragStart:function(e){var n=e.dragEl;oi=n},dragOverValid:function(e){var n=e.completed,i=e.target,r=e.onMove,o=e.activeSortable,a=e.changed,l=e.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var d=oi;r(i)!==!1?(Xe(i,u.swapClass,!0),oi=i):oi=null,d&&d!==oi&&Xe(d,u.swapClass,!1)}a(),n(!0),l()}},drop:function(e){var n=e.activeSortable,i=e.putSortable,r=e.dragEl,o=i||this.sortable,a=this.options;oi&&Xe(oi,a.swapClass,!1),oi&&(a.swap||i&&i.options.swap)&&r!==oi&&(o.captureAnimationState(),o!==n&&n.captureAnimationState(),Aj(r,oi),o.animateAll(),o!==n&&n.animateAll())},nulling:function(){oi=null}},wi(s,{pluginName:"swap",eventProperties:function(){return{swapItem:oi}}})}function Aj(s,t){var e=s.parentNode,n=t.parentNode,i,r;!e||!n||e.isEqualNode(t)||n.isEqualNode(s)||(i=Ze(s),r=Ze(t),e.isEqualNode(n)&&i<r&&r++,e.insertBefore(t,e.children[i]),n.insertBefore(s,n.children[r]))}var $t=[],Un=[],Th,xi,Ch=!1,Cn=!1,Tc=!1,Me,xh,Gp;function wj(){function s(t){for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this));t.options.supportPointer?oe(document,"pointerup",this._deselectMultiDrag):(oe(document,"mouseup",this._deselectMultiDrag),oe(document,"touchend",this._deselectMultiDrag)),oe(document,"keydown",this._checkKeyDown),oe(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,r){var o="";$t.length&&xi===t?$t.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=r.textContent,i.setData("Text",o)}}}return s.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var n=e.dragEl;Me=n},delayEnded:function(){this.isMultiDrag=~$t.indexOf(Me)},setupClone:function(e){var n=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var r=0;r<$t.length;r++)Un.push(tA($t[r])),Un[r].sortableIndex=$t[r].sortableIndex,Un[r].draggable=!1,Un[r].style["will-change"]="",Xe(Un[r],this.options.selectedClass,!1),$t[r]===Me&&Xe(Un[r],this.options.chosenClass,!1);n._hideClone(),i()}},clone:function(e){var n=e.sortable,i=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||$t.length&&xi===n&&(x1(!0,i),r("clone"),o()))},showClone:function(e){var n=e.cloneNowShown,i=e.rootEl,r=e.cancel;this.isMultiDrag&&(x1(!1,i),Un.forEach(function(o){vt(o,"display","")}),n(),Gp=!1,r())},hideClone:function(e){var n=this;e.sortable;var i=e.cloneNowHidden,r=e.cancel;this.isMultiDrag&&(Un.forEach(function(o){vt(o,"display","none"),n.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Gp=!0,r())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&xi&&xi.multiDrag._deselectMultiDrag(),$t.forEach(function(n){n.sortableIndex=Ze(n)}),$t=$t.sort(function(n,i){return n.sortableIndex-i.sortableIndex}),Tc=!0},dragStarted:function(e){var n=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){$t.forEach(function(o){o!==Me&&vt(o,"position","absolute")});var r=Ve(Me,!1,!0,!0);$t.forEach(function(o){o!==Me&&S1(o,r)}),Cn=!0,Ch=!0}i.animateAll(function(){Cn=!1,Ch=!1,n.options.animation&&$t.forEach(function(o){Eb(o)}),n.options.sort&&zp()})}},dragOver:function(e){var n=e.target,i=e.completed,r=e.cancel;Cn&&~$t.indexOf(n)&&(i(!1),r())},revert:function(e){var n=e.fromSortable,i=e.rootEl,r=e.sortable,o=e.dragRect;$t.length>1&&($t.forEach(function(a){r.addAnimationState({target:a,rect:Cn?Ve(a):o}),Eb(a),a.fromRect=o,n.removeAnimationState(a)}),Cn=!1,Tj(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var n=e.sortable,i=e.isOwner,r=e.insertion,o=e.activeSortable,a=e.parentEl,l=e.putSortable,c=this.options;if(r){if(i&&o._hideClone(),Ch=!1,c.animation&&$t.length>1&&(Cn||!i&&!o.options.sort&&!l)){var u=Ve(Me,!1,!0,!0);$t.forEach(function(f){f!==Me&&(S1(f,u),a.appendChild(f))}),Cn=!0}if(!i)if(Cn||zp(),$t.length>1){var d=Gp;o._showClone(n),o.options.animation&&!Gp&&d&&Un.forEach(function(f){o.addAnimationState({target:f,rect:xh}),f.fromRect=xh,f.thisAnimationDuration=null})}else o._showClone(n)}},dragOverAnimationCapture:function(e){var n=e.dragRect,i=e.isOwner,r=e.activeSortable;if($t.forEach(function(a){a.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){xh=wi({},n);var o=tc(Me,!0);xh.top-=o.f,xh.left-=o.e}},dragOverAnimationComplete:function(){Cn&&(Cn=!1,zp())},drop:function(e){var n=e.originalEvent,i=e.rootEl,r=e.parentEl,o=e.sortable,a=e.dispatchSortableEvent,l=e.oldIndex,c=e.putSortable,u=c||this.sortable;if(n){var d=this.options,f=r.children;if(!Tc)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Xe(Me,d.selectedClass,!~$t.indexOf(Me)),~$t.indexOf(Me))$t.splice($t.indexOf(Me),1),Th=null,zh({sortable:o,rootEl:i,name:"deselect",targetEl:Me,originalEvt:n});else{if($t.push(Me),zh({sortable:o,rootEl:i,name:"select",targetEl:Me,originalEvt:n}),n.shiftKey&&Th&&o.el.contains(Th)){var p=Ze(Th),g=Ze(Me);if(~p&&~g&&p!==g){var m,v;for(g>p?(v=p,m=g):(v=g,m=p+1);v<m;v++)~$t.indexOf(f[v])||(Xe(f[v],d.selectedClass,!0),$t.push(f[v]),zh({sortable:o,rootEl:i,name:"select",targetEl:f[v],originalEvt:n}))}}else Th=Me;xi=u}if(Tc&&this.isMultiDrag){if(Cn=!1,(r[en].options.sort||r!==i)&&$t.length>1){var b=Ve(Me),S=Ze(Me,":not(."+this.options.selectedClass+")");if(!Ch&&d.animation&&(Me.thisAnimationDuration=null),u.captureAnimationState(),!Ch&&(d.animation&&(Me.fromRect=b,$t.forEach(function(A){if(A.thisAnimationDuration=null,A!==Me){var T=Cn?Ve(A):b;A.fromRect=T,u.addAnimationState({target:A,rect:T})}})),zp(),$t.forEach(function(A){f[S]?r.insertBefore(A,f[S]):r.appendChild(A),S++}),l===Ze(Me))){var E=!1;$t.forEach(function(A){if(A.sortableIndex!==Ze(A)){E=!0;return}}),E&&a("update")}$t.forEach(function(A){Eb(A)}),u.animateAll()}xi=u}(i===r||c&&c.lastPutMode!=="clone")&&Un.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Tc=!1,Un.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ee(document,"pointerup",this._deselectMultiDrag),ee(document,"mouseup",this._deselectMultiDrag),ee(document,"touchend",this._deselectMultiDrag),ee(document,"keydown",this._checkKeyDown),ee(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(typeof Tc<"u"&&Tc)&&xi===this.sortable&&!(e&&$i(e.target,this.options.draggable,this.sortable.el,!1))&&!(e&&e.button!==0))for(;$t.length;){var n=$t[0];Xe(n,this.options.selectedClass,!1),$t.shift(),zh({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:n,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},wi(s,{pluginName:"multiDrag",utils:{select:function(e){var n=e.parentNode[en];!n||!n.options.multiDrag||~$t.indexOf(e)||(xi&&xi!==n&&(xi.multiDrag._deselectMultiDrag(),xi=n),Xe(e,n.options.selectedClass,!0),$t.push(e))},deselect:function(e){var n=e.parentNode[en],i=$t.indexOf(e);!n||!n.options.multiDrag||!~i||(Xe(e,n.options.selectedClass,!1),$t.splice(i,1))}},eventProperties:function(){var e=this,n=[],i=[];return $t.forEach(function(r){n.push({multiDragElement:r,index:r.sortableIndex});var o;Cn&&r!==Me?o=-1:Cn?o=Ze(r,":not(."+e.options.selectedClass+")"):o=Ze(r),i.push({multiDragElement:r,index:o})}),{items:WB($t),clones:[].concat(Un),oldIndicies:n,newIndicies:i}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),e==="ctrl"?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Tj(s,t){$t.forEach(function(e,n){var i=t.children[e.sortableIndex+(s?Number(n):0)];i?t.insertBefore(e,i):t.appendChild(e)})}function x1(s,t){Un.forEach(function(e,n){var i=t.children[e.sortableIndex+(s?Number(n):0)];i?t.insertBefore(e,i):t.appendChild(e)})}function zp(){$t.forEach(function(s){s!==Me&&s.parentNode&&s.parentNode.removeChild(s)})}Lt.mount(new Ej);Lt.mount(sA,eA);const Cj=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:wj,Sortable:Lt,Swap:Sj,default:Lt},Symbol.toStringTag,{value:"Module"})),xj=Av(Cj);var _j=_g.exports,_1;function Pj(){return _1||(_1=1,function(s,t){(function(n,i){s.exports=i($B(),xj)})(typeof self<"u"?self:_j,function(e,n){return function(i){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)o.d(c,u,(function(d){return a[d]}).bind(null,u));return c},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,r,o){var a=o("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,r,o){var a=o("1c0b");i.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(d){return l.call(c,d)};case 2:return function(d,f){return l.call(c,d,f)};case 3:return function(d,f,p){return l.call(c,d,f,p)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,r,o){var a=o("fc6a"),l=o("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return u.slice()}};i.exports.f=function(p){return u&&c.call(p)=="[object Window]"?d(p):l(a(p))}},"06cf":function(i,r,o){var a=o("83ab"),l=o("d1e7"),c=o("5c6c"),u=o("fc6a"),d=o("c04e"),f=o("5135"),p=o("0cfb"),g=Object.getOwnPropertyDescriptor;r.f=a?g:function(v,b){if(v=u(v),b=d(b,!0),p)try{return g(v,b)}catch{}if(f(v,b))return c(!l.f.call(v,b),v[b])}},"0cfb":function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,r,o){var a=o("23e7"),l=o("d58f").left,c=o("a640"),u=o("ae40"),d=c("reduce"),f=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!f},{reduce:function(g){return l(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,r,o){var a=o("c6b6"),l=o("9263");i.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var f=d.call(c,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("17c2"),u=o("9112");for(var d in l){var f=a[d],p=f&&f.prototype;if(p&&p.forEach!==c)try{u(p,"forEach",c)}catch{p.forEach=c}}},"17c2":function(i,r,o){var a=o("b727").forEach,l=o("a640"),c=o("ae40"),u=l("forEach"),d=c("forEach");i.exports=!u||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,r,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,r){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,r,o){var a=o("b622"),l=a("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(f,p){if(!p&&!c)return!1;var g=!1;try{var m={};m[l]=function(){return{next:function(){return{done:g=!0}}}},f(m)}catch{}return g}},"1d80":function(i,r){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,r,o){var a=o("d039"),l=o("b622"),c=o("2d00"),u=l("species");i.exports=function(d){return c>=51||!a(function(){var f=[],p=f.constructor={};return p[u]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(i,r,o){var a=o("a691"),l=Math.max,c=Math.min;i.exports=function(u,d){var f=a(u);return f<0?l(f+d,0):c(f,d)}},"23e7":function(i,r,o){var a=o("da84"),l=o("06cf").f,c=o("9112"),u=o("6eeb"),d=o("ce4e"),f=o("e893"),p=o("94ca");i.exports=function(g,m){var v=g.target,b=g.global,S=g.stat,E,A,T,P,R,O;if(b?A=a:S?A=a[v]||d(v,{}):A=(a[v]||{}).prototype,A)for(T in m){if(R=m[T],g.noTargetGet?(O=l(A,T),P=O&&O.value):P=A[T],E=p(b?T:v+(S?".":"#")+T,g.forced),!E&&P!==void 0){if(typeof R==typeof P)continue;f(R,P)}(g.sham||P&&P.sham)&&c(R,"sham",!0),u(A,T,R,g)}}},"241c":function(i,r,o){var a=o("ca84"),l=o("7839"),c=l.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(d){return a(d,c)}},"25f0":function(i,r,o){var a=o("6eeb"),l=o("825a"),c=o("d039"),u=o("ad6d"),d="toString",f=RegExp.prototype,p=f[d],g=c(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),m=p.name!=d;(g||m)&&a(RegExp.prototype,d,function(){var b=l(this),S=String(b.source),E=b.flags,A=String(E===void 0&&b instanceof RegExp&&!("flags"in f)?u.call(b):E);return"/"+S+"/"+A},{unsafe:!0})},"2ca0":function(i,r,o){var a=o("23e7"),l=o("06cf").f,c=o("50c4"),u=o("5a34"),d=o("1d80"),f=o("ab13"),p=o("c430"),g="".startsWith,m=Math.min,v=f("startsWith"),b=!p&&!v&&!!function(){var S=l(String.prototype,"startsWith");return S&&!S.writable}();a({target:"String",proto:!0,forced:!b&&!v},{startsWith:function(E){var A=String(d(this));u(E);var T=c(m(arguments.length>1?arguments[1]:void 0,A.length)),P=String(E);return g?g.call(A,P,T):A.slice(T,T+P.length)===P}})},"2d00":function(i,r,o){var a=o("da84"),l=o("342f"),c=a.process,u=c&&c.versions,d=u&&u.v8,f,p;d?(f=d.split("."),p=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(p=f[1]))),i.exports=p&&+p},"342f":function(i,r,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,r,o){var a=o("f5df"),l=o("3f8c"),c=o("b622"),u=c("iterator");i.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("825a"),u=o("df75");i.exports=a?Object.defineProperties:function(f,p){c(f);for(var g=u(p),m=g.length,v=0,b;m>v;)l.f(f,b=g[v++],p[b]);return f}},"3bbe":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,r,o){var a=o("6547").charAt,l=o("69f3"),c=o("7dd0"),u="String Iterator",d=l.set,f=l.getterFor(u);c(String,"String",function(p){d(this,{type:u,string:String(p),index:0})},function(){var g=f(this),m=g.string,v=g.index,b;return v>=m.length?{value:void 0,done:!0}:(b=a(m,v),g.index+=b.length,{value:b,done:!1})})},"3f8c":function(i,r){i.exports={}},4160:function(i,r,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,r,o){var a=o("da84");i.exports=a},"44ad":function(i,r,o){var a=o("d039"),l=o("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(i,r,o){var a=o("b622"),l=o("7c73"),c=o("9bf2"),u=a("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:l(null)}),i.exports=function(f){d[u][f]=!0}},"44e7":function(i,r,o){var a=o("861d"),l=o("c6b6"),c=o("b622"),u=c("match");i.exports=function(d){var f;return a(d)&&((f=d[u])!==void 0?!!f:l(d)=="RegExp")}},4930:function(i,r,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,r,o){var a=o("fc6a"),l=o("50c4"),c=o("23cb"),u=function(d){return function(f,p,g){var m=a(f),v=l(m.length),b=c(g,v),S;if(d&&p!=p){for(;v>b;)if(S=m[b++],S!=S)return!0}else for(;v>b;b++)if((d||b in m)&&m[b]===p)return d||b||0;return!d&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(i,r,o){var a=o("23e7"),l=o("b727").filter,c=o("1dde"),u=o("ae40"),d=c("filter"),f=u("filter");a({target:"Array",proto:!0,forced:!d||!f},{filter:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,r,o){var a=o("0366"),l=o("7b0b"),c=o("9bdd"),u=o("e95a"),d=o("50c4"),f=o("8418"),p=o("35a1");i.exports=function(m){var v=l(m),b=typeof this=="function"?this:Array,S=arguments.length,E=S>1?arguments[1]:void 0,A=E!==void 0,T=p(v),P=0,R,O,_,N,L,F;if(A&&(E=a(E,S>2?arguments[2]:void 0,2)),T!=null&&!(b==Array&&u(T)))for(N=T.call(v),L=N.next,O=new b;!(_=L.call(N)).done;P++)F=A?c(N,E,[_.value,P],!0):_.value,f(O,P,F);else for(R=d(v.length),O=new b(R);R>P;P++)F=A?E(v[P],P):v[P],f(O,P,F);return O.length=P,O}},"4fad":function(i,r,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(i,r,o){var a=o("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,r){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,r,o){var a=o("d784"),l=o("825a"),c=o("7b0b"),u=o("50c4"),d=o("a691"),f=o("1d80"),p=o("8aa5"),g=o("14c3"),m=Math.max,v=Math.min,b=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,E=/\$([$&'`]|\d\d?)/g,A=function(T){return T===void 0?T:String(T)};a("replace",2,function(T,P,R,O){var _=O.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,N=O.REPLACE_KEEPS_$0,L=_?"$":"$0";return[function(V,J){var j=f(this),H=V==null?void 0:V[T];return H!==void 0?H.call(V,j,J):P.call(String(j),V,J)},function(U,V){if(!_&&N||typeof V=="string"&&V.indexOf(L)===-1){var J=R(P,U,this,V);if(J.done)return J.value}var j=l(U),H=String(this),W=typeof V=="function";W||(V=String(V));var At=j.global;if(At){var Ht=j.unicode;j.lastIndex=0}for(var Mt=[];;){var Ct=g(j,H);if(Ct===null||(Mt.push(Ct),!At))break;var Ft=String(Ct[0]);Ft===""&&(j.lastIndex=p(H,u(j.lastIndex),Ht))}for(var me="",Ee=0,Pt=0;Pt<Mt.length;Pt++){Ct=Mt[Pt];for(var G=String(Ct[0]),rt=m(v(d(Ct.index),H.length),0),st=[],ft=1;ft<Ct.length;ft++)st.push(A(Ct[ft]));var Zt=Ct.groups;if(W){var fe=[G].concat(st,rt,H);Zt!==void 0&&fe.push(Zt);var I=String(V.apply(void 0,fe))}else I=F(G,H,rt,st,Zt,V);rt>=Ee&&(me+=H.slice(Ee,rt)+I,Ee=rt+G.length)}return me+H.slice(Ee)}];function F(U,V,J,j,H,W){var At=J+U.length,Ht=j.length,Mt=E;return H!==void 0&&(H=c(H),Mt=S),P.call(W,Mt,function(Ct,Ft){var me;switch(Ft.charAt(0)){case"$":return"$";case"&":return U;case"`":return V.slice(0,J);case"'":return V.slice(At);case"<":me=H[Ft.slice(1,-1)];break;default:var Ee=+Ft;if(Ee===0)return Ct;if(Ee>Ht){var Pt=b(Ee/10);return Pt===0?Ct:Pt<=Ht?j[Pt-1]===void 0?Ft.charAt(1):j[Pt-1]+Ft.charAt(1):Ct}me=j[Ee-1]}return me===void 0?"":me})}})},5692:function(i,r,o){var a=o("c430"),l=o("c6cd");(i.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,r,o){var a=o("d066"),l=o("241c"),c=o("7418"),u=o("825a");i.exports=a("Reflect","ownKeys")||function(f){var p=l.f(u(f)),g=c.f;return g?p.concat(g(f)):p}},"5a34":function(i,r,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,r){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,r,o){var a=o("23e7"),l=o("a2bf"),c=o("7b0b"),u=o("50c4"),d=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(g){var m=c(this),v=u(m.length),b;return d(g),b=f(m,0),b.length=l(b,m,m,v,0,1,g,arguments.length>1?arguments[1]:void 0),b}})},6547:function(i,r,o){var a=o("a691"),l=o("1d80"),c=function(u){return function(d,f){var p=String(l(d)),g=a(f),m=p.length,v,b;return g<0||g>=m?u?"":void 0:(v=p.charCodeAt(g),v<55296||v>56319||g+1===m||(b=p.charCodeAt(g+1))<56320||b>57343?u?p.charAt(g):v:u?p.slice(g,g+2):(v-55296<<10)+(b-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,r,o){var a=o("861d"),l=o("e8b5"),c=o("b622"),u=c("species");i.exports=function(d,f){var p;return l(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[u],p===null&&(p=void 0))),new(p===void 0?Array:p)(f===0?0:f)}},"69f3":function(i,r,o){var a=o("7f9a"),l=o("da84"),c=o("861d"),u=o("9112"),d=o("5135"),f=o("f772"),p=o("d012"),g=l.WeakMap,m,v,b,S=function(_){return b(_)?v(_):m(_,{})},E=function(_){return function(N){var L;if(!c(N)||(L=v(N)).type!==_)throw TypeError("Incompatible receiver, "+_+" required");return L}};if(a){var A=new g,T=A.get,P=A.has,R=A.set;m=function(_,N){return R.call(A,_,N),N},v=function(_){return T.call(A,_)||{}},b=function(_){return P.call(A,_)}}else{var O=f("state");p[O]=!0,m=function(_,N){return u(_,O,N),N},v=function(_){return d(_,O)?_[O]:{}},b=function(_){return d(_,O)}}i.exports={set:m,get:v,has:b,enforce:S,getterFor:E}},"6eeb":function(i,r,o){var a=o("da84"),l=o("9112"),c=o("5135"),u=o("ce4e"),d=o("8925"),f=o("69f3"),p=f.get,g=f.enforce,m=String(String).split("String");(i.exports=function(v,b,S,E){var A=E?!!E.unsafe:!1,T=E?!!E.enumerable:!1,P=E?!!E.noTargetGet:!1;if(typeof S=="function"&&(typeof b=="string"&&!c(S,"name")&&l(S,"name",b),g(S).source=m.join(typeof b=="string"?b:"")),v===a){T?v[b]=S:u(b,S);return}else A?!P&&v[b]&&(T=!0):delete v[b];T?v[b]=S:l(v,b,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},"6f53":function(i,r,o){var a=o("83ab"),l=o("df75"),c=o("fc6a"),u=o("d1e7").f,d=function(f){return function(p){for(var g=c(p),m=l(g),v=m.length,b=0,S=[],E;v>b;)E=m[b++],(!a||u.call(g,E))&&S.push(f?[E,g[E]]:g[E]);return S}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,r,o){var a=o("44d2");a("flatMap")},7418:function(i,r){r.f=Object.getOwnPropertySymbols},"746f":function(i,r,o){var a=o("428f"),l=o("5135"),c=o("e538"),u=o("9bf2").f;i.exports=function(d){var f=a.Symbol||(a.Symbol={});l(f,d)||u(f,d,{value:c.f(d)})}},7839:function(i,r){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,r,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,r,o){var a=o("825a"),l=o("37e8"),c=o("7839"),u=o("d012"),d=o("1be4"),f=o("cc12"),p=o("f772"),g=">",m="<",v="prototype",b="script",S=p("IE_PROTO"),E=function(){},A=function(_){return m+b+g+_+m+"/"+b+g},T=function(_){_.write(A("")),_.close();var N=_.parentWindow.Object;return _=null,N},P=function(){var _=f("iframe"),N="java"+b+":",L;return _.style.display="none",d.appendChild(_),_.src=String(N),L=_.contentWindow.document,L.open(),L.write(A("document.F=Object")),L.close(),L.F},R,O=function(){try{R=document.domain&&new ActiveXObject("htmlfile")}catch{}O=R?T(R):P();for(var _=c.length;_--;)delete O[v][c[_]];return O()};u[S]=!0,i.exports=Object.create||function(N,L){var F;return N!==null?(E[v]=a(N),F=new E,E[v]=null,F[S]=N):F=O(),L===void 0?F:l(F,L)}},"7dd0":function(i,r,o){var a=o("23e7"),l=o("9ed3"),c=o("e163"),u=o("d2bb"),d=o("d44e"),f=o("9112"),p=o("6eeb"),g=o("b622"),m=o("c430"),v=o("3f8c"),b=o("ae93"),S=b.IteratorPrototype,E=b.BUGGY_SAFARI_ITERATORS,A=g("iterator"),T="keys",P="values",R="entries",O=function(){return this};i.exports=function(_,N,L,F,U,V,J){l(L,N,F);var j=function(Pt){if(Pt===U&&Mt)return Mt;if(!E&&Pt in At)return At[Pt];switch(Pt){case T:return function(){return new L(this,Pt)};case P:return function(){return new L(this,Pt)};case R:return function(){return new L(this,Pt)}}return function(){return new L(this)}},H=N+" Iterator",W=!1,At=_.prototype,Ht=At[A]||At["@@iterator"]||U&&At[U],Mt=!E&&Ht||j(U),Ct=N=="Array"&&At.entries||Ht,Ft,me,Ee;if(Ct&&(Ft=c(Ct.call(new _)),S!==Object.prototype&&Ft.next&&(!m&&c(Ft)!==S&&(u?u(Ft,S):typeof Ft[A]!="function"&&f(Ft,A,O)),d(Ft,H,!0,!0),m&&(v[H]=O))),U==P&&Ht&&Ht.name!==P&&(W=!0,Mt=function(){return Ht.call(this)}),(!m||J)&&At[A]!==Mt&&f(At,A,Mt),v[N]=Mt,U)if(me={values:j(P),keys:V?Mt:j(T),entries:j(R)},J)for(Ee in me)(E||W||!(Ee in At))&&p(At,Ee,me[Ee]);else a({target:N,proto:!0,forced:E||W},me);return me}},"7f9a":function(i,r,o){var a=o("da84"),l=o("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,r,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,r,o){var a=o("c04e"),l=o("9bf2"),c=o("5c6c");i.exports=function(u,d,f){var p=a(d);p in u?l.f(u,p,c(0,f)):u[p]=f}},"861d":function(i,r){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,r,o){var a,l,c;(function(u,d){l=[],a=d,c=typeof a=="function"?a.apply(r,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function u(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(R){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,g=f.exec(R.stack)||p.exec(R.stack),m=g&&g[1]||!1,v=g&&g[2]||!1,b=document.location.href.replace(document.location.hash,""),S,E,A,T=document.getElementsByTagName("script");m===b&&(S=document.documentElement.outerHTML,E=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=S.replace(E,"$1").trim());for(var P=0;P<T.length;P++)if(T[P].readyState==="interactive"||T[P].src===m||m===b&&T[P].innerHTML&&T[P].innerHTML.trim()===A)return T[P];return null}}return u})},8925:function(i,r,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,r,o){var a=o("6547").charAt;i.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(i,r){i.exports=e},"90e3":function(i,r){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("5c6c");i.exports=a?function(u,d,f){return l.f(u,d,c(1,f))}:function(u,d,f){return u[d]=f,u}},9263:function(i,r,o){var a=o("ad6d"),l=o("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,d=c,f=function(){var v=/a/,b=/b*/g;return c.call(v,"a"),c.call(b,"a"),v.lastIndex!==0||b.lastIndex!==0}(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,m=f||g||p;m&&(d=function(b){var S=this,E,A,T,P,R=p&&S.sticky,O=a.call(S),_=S.source,N=0,L=b;return R&&(O=O.replace("y",""),O.indexOf("g")===-1&&(O+="g"),L=String(b).slice(S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&b[S.lastIndex-1]!==`
`)&&(_="(?: "+_+")",L=" "+L,N++),A=new RegExp("^(?:"+_+")",O)),g&&(A=new RegExp("^"+_+"$(?!\\s)",O)),f&&(E=S.lastIndex),T=c.call(R?A:S,L),R?T?(T.input=T.input.slice(N),T[0]=T[0].slice(N),T.index=S.lastIndex,S.lastIndex+=T[0].length):S.lastIndex=0:f&&T&&(S.lastIndex=S.global?T.index+T[0].length:E),g&&T&&T.length>1&&u.call(T[0],A,function(){for(P=1;P<arguments.length-2;P++)arguments[P]===void 0&&(T[P]=void 0)}),T}),i.exports=d},"94ca":function(i,r,o){var a=o("d039"),l=/#|\.prototype\./,c=function(g,m){var v=d[u(g)];return v==p?!0:v==f?!1:typeof m=="function"?a(m):!!m},u=c.normalize=function(g){return String(g).replace(l,".").toLowerCase()},d=c.data={},f=c.NATIVE="N",p=c.POLYFILL="P";i.exports=c},"99af":function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("e8b5"),u=o("861d"),d=o("7b0b"),f=o("50c4"),p=o("8418"),g=o("65f0"),m=o("1dde"),v=o("b622"),b=o("2d00"),S=v("isConcatSpreadable"),E=9007199254740991,A="Maximum allowed index exceeded",T=b>=51||!l(function(){var _=[];return _[S]=!1,_.concat()[0]!==_}),P=m("concat"),R=function(_){if(!u(_))return!1;var N=_[S];return N!==void 0?!!N:c(_)},O=!T||!P;a({target:"Array",proto:!0,forced:O},{concat:function(N){var L=d(this),F=g(L,0),U=0,V,J,j,H,W;for(V=-1,j=arguments.length;V<j;V++)if(W=V===-1?L:arguments[V],R(W)){if(H=f(W.length),U+H>E)throw TypeError(A);for(J=0;J<H;J++,U++)J in W&&p(F,U,W[J])}else{if(U>=E)throw TypeError(A);p(F,U++,W)}return F.length=U,F}})},"9bdd":function(i,r,o){var a=o("825a");i.exports=function(l,c,u,d){try{return d?c(a(u)[0],u[1]):c(u)}catch(p){var f=l.return;throw f!==void 0&&a(f.call(l)),p}}},"9bf2":function(i,r,o){var a=o("83ab"),l=o("0cfb"),c=o("825a"),u=o("c04e"),d=Object.defineProperty;r.f=a?d:function(p,g,m){if(c(p),g=u(g,!0),c(m),l)try{return d(p,g,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(p[g]=m.value),p}},"9ed3":function(i,r,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),c=o("5c6c"),u=o("d44e"),d=o("3f8c"),f=function(){return this};i.exports=function(p,g,m){var v=g+" Iterator";return p.prototype=l(a,{next:c(1,m)}),u(p,v,!1,!0),d[v]=f,p}},"9f7f":function(i,r,o){var a=o("d039");function l(c,u){return RegExp(c,u)}r.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),r.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,r,o){var a=o("e8b5"),l=o("50c4"),c=o("0366"),u=function(d,f,p,g,m,v,b,S){for(var E=m,A=0,T=b?c(b,S,3):!1,P;A<g;){if(A in p){if(P=T?T(p[A],A,f):p[A],v>0&&a(P))E=u(d,f,P,l(P.length),E,v-1)-1;else{if(E>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[E]=P}E++}A++}return E};i.exports=u},a352:function(i,r){i.exports=n},a434:function(i,r,o){var a=o("23e7"),l=o("23cb"),c=o("a691"),u=o("50c4"),d=o("7b0b"),f=o("65f0"),p=o("8418"),g=o("1dde"),m=o("ae40"),v=g("splice"),b=m("splice",{ACCESSORS:!0,0:0,1:2}),S=Math.max,E=Math.min,A=9007199254740991,T="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!v||!b},{splice:function(R,O){var _=d(this),N=u(_.length),L=l(R,N),F=arguments.length,U,V,J,j,H,W;if(F===0?U=V=0:F===1?(U=0,V=N-L):(U=F-2,V=E(S(c(O),0),N-L)),N+U-V>A)throw TypeError(T);for(J=f(_,V),j=0;j<V;j++)H=L+j,H in _&&p(J,j,_[H]);if(J.length=V,U<V){for(j=L;j<N-V;j++)H=j+V,W=j+U,H in _?_[W]=_[H]:delete _[W];for(j=N;j>N-V+U;j--)delete _[j-1]}else if(U>V)for(j=N-V;j>L;j--)H=j+V-1,W=j+U-1,H in _?_[W]=_[H]:delete _[W];for(j=0;j<U;j++)_[j+L]=arguments[j+2];return _.length=N-V+U,J}})},a4d3:function(i,r,o){var a=o("23e7"),l=o("da84"),c=o("d066"),u=o("c430"),d=o("83ab"),f=o("4930"),p=o("fdbf"),g=o("d039"),m=o("5135"),v=o("e8b5"),b=o("861d"),S=o("825a"),E=o("7b0b"),A=o("fc6a"),T=o("c04e"),P=o("5c6c"),R=o("7c73"),O=o("df75"),_=o("241c"),N=o("057f"),L=o("7418"),F=o("06cf"),U=o("9bf2"),V=o("d1e7"),J=o("9112"),j=o("6eeb"),H=o("5692"),W=o("f772"),At=o("d012"),Ht=o("90e3"),Mt=o("b622"),Ct=o("e538"),Ft=o("746f"),me=o("d44e"),Ee=o("69f3"),Pt=o("b727").forEach,G=W("hidden"),rt="Symbol",st="prototype",ft=Mt("toPrimitive"),Zt=Ee.set,fe=Ee.getterFor(rt),I=Object[st],M=l.Symbol,z=c("JSON","stringify"),Q=F.f,Y=U.f,tt=N.f,lt=V.f,nt=H("symbols"),it=H("op-symbols"),et=H("string-to-symbol-registry"),Tt=H("symbol-to-string-registry"),ht=H("wks"),mt=l.QObject,It=!mt||!mt[st]||!mt[st].findChild,Jt=d&&g(function(){return R(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a!=7})?function(Dt,Et,Nt){var ce=Q(I,Et);ce&&delete I[Et],Y(Dt,Et,Nt),ce&&Dt!==I&&Y(I,Et,ce)}:Y,ve=function(Dt,Et){var Nt=nt[Dt]=R(M[st]);return Zt(Nt,{type:rt,tag:Dt,description:Et}),d||(Nt.description=Et),Nt},B=p?function(Dt){return typeof Dt=="symbol"}:function(Dt){return Object(Dt)instanceof M},$=function(Et,Nt,ce){Et===I&&$(it,Nt,ce),S(Et);var pe=T(Nt,!0);return S(ce),m(nt,pe)?(ce.enumerable?(m(Et,G)&&Et[G][pe]&&(Et[G][pe]=!1),ce=R(ce,{enumerable:P(0,!1)})):(m(Et,G)||Y(Et,G,P(1,{})),Et[G][pe]=!0),Jt(Et,pe,ce)):Y(Et,pe,ce)},X=function(Et,Nt){S(Et);var ce=A(Nt),pe=O(ce).concat(Bt(ce));return Pt(pe,function(An){(!d||ut.call(ce,An))&&$(Et,An,ce[An])}),Et},Z=function(Et,Nt){return Nt===void 0?R(Et):X(R(Et),Nt)},ut=function(Et){var Nt=T(Et,!0),ce=lt.call(this,Nt);return this===I&&m(nt,Nt)&&!m(it,Nt)?!1:ce||!m(this,Nt)||!m(nt,Nt)||m(this,G)&&this[G][Nt]?ce:!0},xt=function(Et,Nt){var ce=A(Et),pe=T(Nt,!0);if(!(ce===I&&m(nt,pe)&&!m(it,pe))){var An=Q(ce,pe);return An&&m(nt,pe)&&!(m(ce,G)&&ce[G][pe])&&(An.enumerable=!0),An}},Vt=function(Et){var Nt=tt(A(Et)),ce=[];return Pt(Nt,function(pe){!m(nt,pe)&&!m(At,pe)&&ce.push(pe)}),ce},Bt=function(Et){var Nt=Et===I,ce=tt(Nt?it:A(Et)),pe=[];return Pt(ce,function(An){m(nt,An)&&(!Nt||m(I,An))&&pe.push(nt[An])}),pe};if(f||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor");var Et=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Nt=Ht(Et),ce=function(pe){this===I&&ce.call(it,pe),m(this,G)&&m(this[G],Nt)&&(this[G][Nt]=!1),Jt(this,Nt,P(1,pe))};return d&&It&&Jt(I,Nt,{configurable:!0,set:ce}),ve(Nt,Et)},j(M[st],"toString",function(){return fe(this).tag}),j(M,"withoutSetter",function(Dt){return ve(Ht(Dt),Dt)}),V.f=ut,U.f=$,F.f=xt,_.f=N.f=Vt,L.f=Bt,Ct.f=function(Dt){return ve(Mt(Dt),Dt)},d&&(Y(M[st],"description",{configurable:!0,get:function(){return fe(this).description}}),u||j(I,"propertyIsEnumerable",ut,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:M}),Pt(O(ht),function(Dt){Ft(Dt)}),a({target:rt,stat:!0,forced:!f},{for:function(Dt){var Et=String(Dt);if(m(et,Et))return et[Et];var Nt=M(Et);return et[Et]=Nt,Tt[Nt]=Et,Nt},keyFor:function(Et){if(!B(Et))throw TypeError(Et+" is not a symbol");if(m(Tt,Et))return Tt[Et]},useSetter:function(){It=!0},useSimple:function(){It=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:Z,defineProperty:$,defineProperties:X,getOwnPropertyDescriptor:xt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Vt,getOwnPropertySymbols:Bt}),a({target:"Object",stat:!0,forced:g(function(){L.f(1)})},{getOwnPropertySymbols:function(Et){return L.f(E(Et))}}),z){var be=!f||g(function(){var Dt=M();return z([Dt])!="[null]"||z({a:Dt})!="{}"||z(Object(Dt))!="{}"});a({target:"JSON",stat:!0,forced:be},{stringify:function(Et,Nt,ce){for(var pe=[Et],An=1,Hv;arguments.length>An;)pe.push(arguments[An++]);if(Hv=Nt,!(!b(Nt)&&Et===void 0||B(Et)))return v(Nt)||(Nt=function(VP,Sp){if(typeof Hv=="function"&&(Sp=Hv.call(this,VP,Sp)),!B(Sp))return Sp}),pe[1]=Nt,z.apply(null,pe)}})}M[st][ft]||J(M[st],ft,M[st].valueOf),me(M,rt),At[G]=!0},a630:function(i,r,o){var a=o("23e7"),l=o("4df4"),c=o("1c7e"),u=!c(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(i,r,o){var a=o("d039");i.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(i,r){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,r,o){var a=o("b622"),l=a("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(i,r,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,r,o){var a=o("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("5135"),u=Object.defineProperty,d={},f=function(p){throw p};i.exports=function(p,g){if(c(d,p))return d[p];g||(g={});var m=[][p],v=c(g,"ACCESSORS")?g.ACCESSORS:!1,b=c(g,0)?g[0]:f,S=c(g,1)?g[1]:void 0;return d[p]=!!m&&!l(function(){if(v&&!a)return!0;var E={length:-1};v?u(E,1,{enumerable:!0,get:f}):E[1]=1,m.call(E,b,S)})}},ae93:function(i,r,o){var a=o("e163"),l=o("9112"),c=o("5135"),u=o("b622"),d=o("c430"),f=u("iterator"),p=!1,g=function(){return this},m,v,b;[].keys&&(b=[].keys(),"next"in b?(v=a(a(b)),v!==Object.prototype&&(m=v)):p=!0),m==null&&(m={}),!d&&!c(m,f)&&l(m,f,g),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:p}},b041:function(i,r,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,r,o){var a=o("83ab"),l=o("9bf2").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/,f="name";a&&!(f in c)&&l(c,f,{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},b622:function(i,r,o){var a=o("da84"),l=o("5692"),c=o("5135"),u=o("90e3"),d=o("4930"),f=o("fdbf"),p=l("wks"),g=a.Symbol,m=f?g:g&&g.withoutSetter||u;i.exports=function(v){return c(p,v)||(d&&c(g,v)?p[v]=g[v]:p[v]=m("Symbol."+v)),p[v]}},b64b:function(i,r,o){var a=o("23e7"),l=o("7b0b"),c=o("df75"),u=o("d039"),d=u(function(){c(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return c(l(p))}})},b727:function(i,r,o){var a=o("0366"),l=o("44ad"),c=o("7b0b"),u=o("50c4"),d=o("65f0"),f=[].push,p=function(g){var m=g==1,v=g==2,b=g==3,S=g==4,E=g==6,A=g==5||E;return function(T,P,R,O){for(var _=c(T),N=l(_),L=a(P,R,3),F=u(N.length),U=0,V=O||d,J=m?V(T,F):v?V(T,0):void 0,j,H;F>U;U++)if((A||U in N)&&(j=N[U],H=L(j,U,_),g)){if(m)J[U]=H;else if(H)switch(g){case 3:return!0;case 5:return j;case 6:return U;case 2:f.call(J,j)}else if(S)return!1}return E?-1:b||S?S:J}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(i,r,o){var a=o("861d");i.exports=function(l,c){if(!a(l))return l;var u,d;if(c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(d=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(d=u.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,r){i.exports=!1},c6b6:function(i,r){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,r,o){var a=o("da84"),l=o("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});i.exports=u},c740:function(i,r,o){var a=o("23e7"),l=o("b727").findIndex,c=o("44d2"),u=o("ae40"),d="findIndex",f=!0,p=u(d);d in[]&&Array(1)[d](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!p},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(i,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,r,o){var a=o("23e7"),l=o("4d64").indexOf,c=o("a640"),u=o("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,p=c("indexOf"),g=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!p||!g},{indexOf:function(v){return f?d.apply(this,arguments)||0:l(this,v,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,r,o){var a=o("5135"),l=o("fc6a"),c=o("4d64").indexOf,u=o("d012");i.exports=function(d,f){var p=l(d),g=0,m=[],v;for(v in p)!a(u,v)&&a(p,v)&&m.push(v);for(;f.length>g;)a(p,v=f[g++])&&(~c(m,v)||m.push(v));return m}},caad:function(i,r,o){var a=o("23e7"),l=o("4d64").includes,c=o("44d2"),u=o("ae40"),d=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,r,o){var a=o("da84"),l=o("861d"),c=a.document,u=l(c)&&l(c.createElement);i.exports=function(d){return u?c.createElement(d):{}}},ce4e:function(i,r,o){var a=o("da84"),l=o("9112");i.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(i,r){i.exports={}},d039:function(i,r){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,r,o){var a=o("428f"),l=o("da84"),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,d){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][d]||l[u]&&l[u][d]}},d1e7:function(i,r,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);r.f=c?function(d){var f=l(this,d);return!!f&&f.enumerable}:a},d28b:function(i,r,o){var a=o("746f");a("iterator")},d2bb:function(i,r,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(u,[]),c=u instanceof Array}catch{}return function(p,g){return a(p),l(g),c?d.call(p,g):p.__proto__=g,p}}():void 0)},d3b7:function(i,r,o){var a=o("00ee"),l=o("6eeb"),c=o("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,r,o){var a=o("9bf2").f,l=o("5135"),c=o("b622"),u=c("toStringTag");i.exports=function(d,f,p){d&&!l(d=p?d:d.prototype,u)&&a(d,u,{configurable:!0,value:f})}},d58f:function(i,r,o){var a=o("1c0b"),l=o("7b0b"),c=o("44ad"),u=o("50c4"),d=function(f){return function(p,g,m,v){a(g);var b=l(p),S=c(b),E=u(b.length),A=f?E-1:0,T=f?-1:1;if(m<2)for(;;){if(A in S){v=S[A],A+=T;break}if(A+=T,f?A<0:E<=A)throw TypeError("Reduce of empty array with no initial value")}for(;f?A>=0:E>A;A+=T)A in S&&(v=g(v,S[A],A,b));return v}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,r,o){o("ac1f");var a=o("6eeb"),l=o("d039"),c=o("b622"),u=o("9263"),d=o("9112"),f=c("species"),p=!l(function(){var S=/./;return S.exec=function(){var E=[];return E.groups={a:"7"},E},"".replace(S,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),m=c("replace"),v=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),b=!l(function(){var S=/(?:)/,E=S.exec;S.exec=function(){return E.apply(this,arguments)};var A="ab".split(S);return A.length!==2||A[0]!=="a"||A[1]!=="b"});i.exports=function(S,E,A,T){var P=c(S),R=!l(function(){var U={};return U[P]=function(){return 7},""[S](U)!=7}),O=R&&!l(function(){var U=!1,V=/a/;return S==="split"&&(V={},V.constructor={},V.constructor[f]=function(){return V},V.flags="",V[P]=/./[P]),V.exec=function(){return U=!0,null},V[P](""),!U});if(!R||!O||S==="replace"&&!(p&&g&&!v)||S==="split"&&!b){var _=/./[P],N=A(P,""[S],function(U,V,J,j,H){return V.exec===u?R&&!H?{done:!0,value:_.call(V,J,j)}:{done:!0,value:U.call(J,V,j)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),L=N[0],F=N[1];a(String.prototype,S,L),a(RegExp.prototype,P,E==2?function(U,V){return F.call(U,this,V)}:function(U){return F.call(U,this)})}T&&d(RegExp.prototype[P],"sham",!0)}},d81d:function(i,r,o){var a=o("23e7"),l=o("b727").map,c=o("1dde"),u=o("ae40"),d=c("map"),f=u("map");a({target:"Array",proto:!0,forced:!d||!f},{map:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,r,o){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("56ef"),u=o("fc6a"),d=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(g){for(var m=u(g),v=d.f,b=c(m),S={},E=0,A,T;b.length>E;)T=v(m,A=b[E++]),T!==void 0&&f(S,A,T);return S}})},dbf1:function(i,r,o){(function(a){o.d(r,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,o("c8ba"))},ddb0:function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("e260"),u=o("9112"),d=o("b622"),f=d("iterator"),p=d("toStringTag"),g=c.values;for(var m in l){var v=a[m],b=v&&v.prototype;if(b){if(b[f]!==g)try{u(b,f,g)}catch{b[f]=g}if(b[p]||u(b,p,m),l[m]){for(var S in c)if(b[S]!==c[S])try{u(b,S,c[S])}catch{b[S]=c[S]}}}}},df75:function(i,r,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(u){return a(u,l)}},e01a:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("da84"),u=o("5135"),d=o("861d"),f=o("9bf2").f,p=o("e893"),g=c.Symbol;if(l&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var m={},v=function(){var P=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof v?new g(P):P===void 0?g():g(P);return P===""&&(m[R]=!0),R};p(v,g);var b=v.prototype=g.prototype;b.constructor=v;var S=b.toString,E=String(g("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;f(b,"description",{configurable:!0,get:function(){var P=d(this)?this.valueOf():this,R=S.call(P);if(u(m,P))return"";var O=E?R.slice(7,-1):R.replace(A,"$1");return O===""?void 0:O}}),a({global:!0,forced:!0},{Symbol:v})}},e163:function(i,r,o){var a=o("5135"),l=o("7b0b"),c=o("f772"),u=o("e177"),d=c("IE_PROTO"),f=Object.prototype;i.exports=u?Object.getPrototypeOf:function(p){return p=l(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?f:null}},e177:function(i,r,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,r,o){var a=o("fc6a"),l=o("44d2"),c=o("3f8c"),u=o("69f3"),d=o("7dd0"),f="Array Iterator",p=u.set,g=u.getterFor(f);i.exports=d(Array,"Array",function(m,v){p(this,{type:f,target:a(m),index:0,kind:v})},function(){var m=g(this),v=m.target,b=m.kind,S=m.index++;return!v||S>=v.length?(m.target=void 0,{value:void 0,done:!0}):b=="keys"?{value:S,done:!1}:b=="values"?{value:v[S],done:!1}:{value:[S,v[S]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("fc6a"),u=o("06cf").f,d=o("83ab"),f=l(function(){u(1)}),p=!d||f;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(m,v){return u(c(m),v)}})},e538:function(i,r,o){var a=o("b622");r.f=a},e893:function(i,r,o){var a=o("5135"),l=o("56ef"),c=o("06cf"),u=o("9bf2");i.exports=function(d,f){for(var p=l(f),g=u.f,m=c.f,v=0;v<p.length;v++){var b=p[v];a(d,b)||g(d,b,m(f,b))}}},e8b5:function(i,r,o){var a=o("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,r,o){var a=o("b622"),l=o("3f8c"),c=a("iterator"),u=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||u[c]===d)}},f5df:function(i,r,o){var a=o("00ee"),l=o("c6b6"),c=o("b622"),u=c("toStringTag"),d=l(function(){return arguments}())=="Arguments",f=function(p,g){try{return p[g]}catch{}};i.exports=a?l:function(p){var g,m,v;return p===void 0?"Undefined":p===null?"Null":typeof(m=f(g=Object(p),u))=="string"?m:d?l(g):(v=l(g))=="Object"&&typeof g.callee=="function"?"Arguments":v}},f772:function(i,r,o){var a=o("5692"),l=o("90e3"),c=a("keys");i.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(i,r,o){if(o.r(r),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(o.p=c[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function u(B,$,X){return $ in B?Object.defineProperty(B,$,{value:X,enumerable:!0,configurable:!0,writable:!0}):B[$]=X,B}function d(B,$){var X=Object.keys(B);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(B);$&&(Z=Z.filter(function(ut){return Object.getOwnPropertyDescriptor(B,ut).enumerable})),X.push.apply(X,Z)}return X}function f(B){for(var $=1;$<arguments.length;$++){var X=arguments[$]!=null?arguments[$]:{};$%2?d(Object(X),!0).forEach(function(Z){u(B,Z,X[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(X)):d(Object(X)).forEach(function(Z){Object.defineProperty(B,Z,Object.getOwnPropertyDescriptor(X,Z))})}return B}function p(B){if(Array.isArray(B))return B}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function g(B,$){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(B)))){var X=[],Z=!0,ut=!1,xt=void 0;try{for(var Vt=B[Symbol.iterator](),Bt;!(Z=(Bt=Vt.next()).done)&&(X.push(Bt.value),!($&&X.length===$));Z=!0);}catch(be){ut=!0,xt=be}finally{try{!Z&&Vt.return!=null&&Vt.return()}finally{if(ut)throw xt}}return X}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(B,$){($==null||$>B.length)&&($=B.length);for(var X=0,Z=new Array($);X<$;X++)Z[X]=B[X];return Z}function v(B,$){if(B){if(typeof B=="string")return m(B,$);var X=Object.prototype.toString.call(B).slice(8,-1);if(X==="Object"&&B.constructor&&(X=B.constructor.name),X==="Map"||X==="Set")return Array.from(B);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return m(B,$)}}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(B,$){return p(B)||g(B,$)||v(B,$)||b()}function E(B){if(Array.isArray(B))return m(B)}function A(B){if(typeof Symbol<"u"&&Symbol.iterator in Object(B))return Array.from(B)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(B){return E(B)||A(B)||v(B)||T()}var R=o("a352"),O=o.n(R);function _(B){B.parentElement!==null&&B.parentElement.removeChild(B)}function N(B,$,X){var Z=X===0?B.children[0]:B.children[X-1].nextSibling;B.insertBefore($,Z)}var L=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F(B){var $=Object.create(null);return function(Z){var ut=$[Z];return ut||($[Z]=B(Z))}}var U=/-(\w)/g,V=F(function(B){return B.replace(U,function($,X){return X.toUpperCase()})});o("5db7"),o("73d9");var J=["Start","Add","Remove","Update","End"],j=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],W=[H,J,j].flatMap(function(B){return B}).map(function(B){return"on".concat(B)}),At={manage:H,manageAndEmit:J,emit:j};function Ht(B){return W.indexOf(B)!==-1}o("caad"),o("2ca0");var Mt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ct(B){return Mt.includes(B)}function Ft(B){return["transition-group","TransitionGroup"].includes(B)}function me(B){return["id","class","role","style"].includes(B)||B.startsWith("data-")||B.startsWith("aria-")||B.startsWith("on")}function Ee(B){return B.reduce(function($,X){var Z=S(X,2),ut=Z[0],xt=Z[1];return $[ut]=xt,$},{})}function Pt(B){var $=B.$attrs,X=B.componentData,Z=X===void 0?{}:X,ut=Ee(Object.entries($).filter(function(xt){var Vt=S(xt,2),Bt=Vt[0];return Vt[1],me(Bt)}));return f(f({},ut),Z)}function G(B){var $=B.$attrs,X=B.callBackBuilder,Z=Ee(rt($));Object.entries(X).forEach(function(xt){var Vt=S(xt,2),Bt=Vt[0],be=Vt[1];At[Bt].forEach(function(Dt){Z["on".concat(Dt)]=be(Dt)})});var ut="[data-draggable]".concat(Z.draggable||"");return f(f({},Z),{},{draggable:ut})}function rt(B){return Object.entries(B).filter(function($){var X=S($,2),Z=X[0];return X[1],!me(Z)}).map(function($){var X=S($,2),Z=X[0],ut=X[1];return[V(Z),ut]}).filter(function($){var X=S($,2),Z=X[0];return X[1],!Ht(Z)})}o("c740");function st(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}function ft(B,$){for(var X=0;X<$.length;X++){var Z=$[X];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}function Zt(B,$,X){return $&&ft(B.prototype,$),B}var fe=function($){var X=$.el;return X},I=function($,X){return $.__draggable_context=X},M=function($){return $.__draggable_context},z=function(){function B($){var X=$.nodes,Z=X.header,ut=X.default,xt=X.footer,Vt=$.root,Bt=$.realList;st(this,B),this.defaultNodes=ut,this.children=[].concat(P(Z),P(ut),P(xt)),this.externalComponent=Vt.externalComponent,this.rootTransition=Vt.transition,this.tag=Vt.tag,this.realList=Bt}return Zt(B,[{key:"render",value:function(X,Z){var ut=this.tag,xt=this.children,Vt=this._isRootComponent,Bt=Vt?{default:function(){return xt}}:xt;return X(ut,Z,Bt)}},{key:"updated",value:function(){var X=this.defaultNodes,Z=this.realList;X.forEach(function(ut,xt){I(fe(ut),{element:Z[xt],index:xt})})}},{key:"getUnderlyingVm",value:function(X){return M(X)}},{key:"getVmIndexFromDomIndex",value:function(X,Z){var ut=this.defaultNodes,xt=ut.length,Vt=Z.children,Bt=Vt.item(X);if(Bt===null)return xt;var be=M(Bt);if(be)return be.index;if(xt===0)return 0;var Dt=fe(ut[0]),Et=P(Vt).findIndex(function(Nt){return Nt===Dt});return X<Et?0:xt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),B}(),Q=o("8bbf");function Y(B,$){var X=B[$];return X?X():[]}function tt(B){var $=B.$slots,X=B.realList,Z=B.getKey,ut=X||[],xt=["header","footer"].map(function(Nt){return Y($,Nt)}),Vt=S(xt,2),Bt=Vt[0],be=Vt[1],Dt=$.item;if(!Dt)throw new Error("draggable element must have an item slot");var Et=ut.flatMap(function(Nt,ce){return Dt({element:Nt,index:ce}).map(function(pe){return pe.key=Z(Nt),pe.props=f(f({},pe.props||{}),{},{"data-draggable":!0}),pe})});if(Et.length!==ut.length)throw new Error("Item slot must have only one child");return{header:Bt,footer:be,default:Et}}function lt(B){var $=Ft(B),X=!Ct(B)&&!$;return{transition:$,externalComponent:X,tag:X?Object(Q.resolveComponent)(B):$?Q.TransitionGroup:B}}function nt(B){var $=B.$slots,X=B.tag,Z=B.realList,ut=B.getKey,xt=tt({$slots:$,realList:Z,getKey:ut}),Vt=lt(X);return new z({nodes:xt,root:Vt,realList:Z})}function it(B,$){var X=this;Object(Q.nextTick)(function(){return X.$emit(B.toLowerCase(),$)})}function et(B){var $=this;return function(X,Z){if($.realList!==null)return $["onDrag".concat(B)](X,Z)}}function Tt(B){var $=this,X=et.call(this,B);return function(Z,ut){X.call($,Z,ut),it.call($,B,Z)}}var ht=null,mt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function($){return $}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},It=["update:modelValue","change"].concat(P([].concat(P(At.manageAndEmit),P(At.emit)).map(function(B){return B.toLowerCase()}))),Jt=Object(Q.defineComponent)({name:"draggable",inheritAttrs:!1,props:mt,emits:It,data:function(){return{error:!1}},render:function(){try{this.error=!1;var $=this.$slots,X=this.$attrs,Z=this.tag,ut=this.componentData,xt=this.realList,Vt=this.getKey,Bt=nt({$slots:$,tag:Z,realList:xt,getKey:Vt});this.componentStructure=Bt;var be=Pt({$attrs:X,componentData:ut});return Bt.render(Q.h,be)}catch(Dt){return this.error=!0,Object(Q.h)("pre",{style:{color:"red"}},Dt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&L.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var $=this;if(!this.error){var X=this.$attrs,Z=this.$el,ut=this.componentStructure;ut.updated();var xt=G({$attrs:X,callBackBuilder:{manageAndEmit:function(be){return Tt.call($,be)},emit:function(be){return it.bind($,be)},manage:function(be){return et.call($,be)}}}),Vt=Z.nodeType===1?Z:Z.parentElement;this._sortable=new O.a(Vt,xt),this.targetDomElement=Vt,Vt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var $=this.list;return $||this.modelValue},getKey:function(){var $=this.itemKey;return typeof $=="function"?$:function(X){return X[$]}}},watch:{$attrs:{handler:function($){var X=this._sortable;X&&rt($).forEach(function(Z){var ut=S(Z,2),xt=ut[0],Vt=ut[1];X.option(xt,Vt)})},deep:!0}},methods:{getUnderlyingVm:function($){return this.componentStructure.getUnderlyingVm($)||null},getUnderlyingPotencialDraggableComponent:function($){return $.__draggable_component__},emitChanges:function($){var X=this;Object(Q.nextTick)(function(){return X.$emit("change",$)})},alterList:function($){if(this.list){$(this.list);return}var X=P(this.modelValue);$(X),this.$emit("update:modelValue",X)},spliceList:function(){var $=arguments,X=function(ut){return ut.splice.apply(ut,P($))};this.alterList(X)},updatePosition:function($,X){var Z=function(xt){return xt.splice(X,0,xt.splice($,1)[0])};this.alterList(Z)},getRelatedContextFromMoveEvent:function($){var X=$.to,Z=$.related,ut=this.getUnderlyingPotencialDraggableComponent(X);if(!ut)return{component:ut};var xt=ut.realList,Vt={list:xt,component:ut};if(X!==Z&&xt){var Bt=ut.getUnderlyingVm(Z)||{};return f(f({},Bt),Vt)}return Vt},getVmIndexFromDomIndex:function($){return this.componentStructure.getVmIndexFromDomIndex($,this.targetDomElement)},onDragStart:function($){this.context=this.getUnderlyingVm($.item),$.item._underlying_vm_=this.clone(this.context.element),ht=$.item},onDragAdd:function($){var X=$.item._underlying_vm_;if(X!==void 0){_($.item);var Z=this.getVmIndexFromDomIndex($.newIndex);this.spliceList(Z,0,X);var ut={element:X,newIndex:Z};this.emitChanges({added:ut})}},onDragRemove:function($){if(N(this.$el,$.item,$.oldIndex),$.pullMode==="clone"){_($.clone);return}var X=this.context,Z=X.index,ut=X.element;this.spliceList(Z,1);var xt={element:ut,oldIndex:Z};this.emitChanges({removed:xt})},onDragUpdate:function($){_($.item),N($.from,$.item,$.oldIndex);var X=this.context.index,Z=this.getVmIndexFromDomIndex($.newIndex);this.updatePosition(X,Z);var ut={element:this.context.element,oldIndex:X,newIndex:Z};this.emitChanges({moved:ut})},computeFutureIndex:function($,X){if(!$.element)return 0;var Z=P(X.to.children).filter(function(Bt){return Bt.style.display!=="none"}),ut=Z.indexOf(X.related),xt=$.component.getVmIndexFromDomIndex(ut),Vt=Z.indexOf(ht)!==-1;return Vt||!X.willInsertAfter?xt:xt+1},onDragMove:function($,X){var Z=this.move,ut=this.realList;if(!Z||!ut)return!0;var xt=this.getRelatedContextFromMoveEvent($),Vt=this.computeFutureIndex(xt,$),Bt=f(f({},this.context),{},{futureIndex:Vt}),be=f(f({},$),{},{relatedContext:xt,draggedContext:Bt});return Z(be,X)},onDragEnd:function(){ht=null}}}),ve=Jt;r.default=ve},fb6a:function(i,r,o){var a=o("23e7"),l=o("861d"),c=o("e8b5"),u=o("23cb"),d=o("50c4"),f=o("fc6a"),p=o("8418"),g=o("b622"),m=o("1dde"),v=o("ae40"),b=m("slice"),S=v("slice",{ACCESSORS:!0,0:0,1:2}),E=g("species"),A=[].slice,T=Math.max;a({target:"Array",proto:!0,forced:!b||!S},{slice:function(R,O){var _=f(this),N=d(_.length),L=u(R,N),F=u(O===void 0?N:O,N),U,V,J;if(c(_)&&(U=_.constructor,typeof U=="function"&&(U===Array||c(U.prototype))?U=void 0:l(U)&&(U=U[E],U===null&&(U=void 0)),U===Array||U===void 0))return A.call(_,L,F);for(V=new(U===void 0?Array:U)(T(F-L,0)),J=0;L<F;L++,J++)L in _&&p(V,J,_[L]);return V.length=J,V}})},fc6a:function(i,r,o){var a=o("44ad"),l=o("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,r){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,r,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(_g)),_g.exports}var Ij=Pj();const jP=zU(Ij),Rj={class:"tree-content"},Oj={class:"tree-actions"},Mj={key:0},Nj={class:"subitemizacao-separador"},Dj={class:"tarefas-list"},Lj=["onKeyup","onBlur"],kj={class:"tarefa"},Fj=["onClick"],Uj=["onClick"],Bj={__name:"TreeNode",props:{node:Object,nivel:{type:Number,default:0}},emits:["addItemizacao","addTarefa","removeNode","updateTitle","ordemChanged"],setup(s,{emit:t}){const e=s,n=t,i=bi(!1),r=bi(null),o=bi(""),a=bi(null),l=Ln(()=>e.nivel>0?{marginLeft:`${e.nivel*32}px`,position:"relative"}:{});function c(){e.node.subitemizacoes&&e.node.subitemizacoes.forEach(p=>p._parent=e.node),e.node.tarefas&&e.node.tarefas.forEach(p=>p._parent=e.node)}hh(c),xr(()=>e.node.subitemizacoes,c),xr(()=>e.node.tarefas,c);function u(p){o.value=p.nome,i.value=!0,r.value=p,gc(()=>{a.value&&a.value.focus()})}function d(p){i.value&&(i.value=!1,o.value!==p.nome&&n("updateTitle",{node:p,title:o.value}),r.value=null)}function f(){n("ordemChanged",{subitemizacoes:e.node.subitemizacoes,parentNode:e.node})}return(p,g)=>{const m=Us("TreeNode",!0);return D(),k("div",{class:vs(["tree-node",{"has-parent":s.nivel>0}]),style:Ao(l.value)},[y("div",Rj,[y("span",null,[i.value&&r.value===s.node?Gt((D(),k("input",{key:0,"onUpdate:modelValue":g[0]||(g[0]=v=>o.value=v),onKeyup:g[1]||(g[1]=Jg(v=>d(s.node),["enter"])),onBlur:g[2]||(g[2]=v=>d(s.node)),ref_key:"input",ref:a},null,544)),[[ae,o.value]]):(D(),k(yt,{key:1},[bt(q(s.node.nome)+" ",1),y("button",{class:"rename-btn",onClick:g[3]||(g[3]=v=>u(s.node)),title:"Renomear"},"")],64))]),y("span",Oj,[y("button",{class:"btn-arvore",onClick:g[4]||(g[4]=v=>p.$emit("addItemizacao",s.node))},"+I"),y("button",{class:"btn-arvore",onClick:g[5]||(g[5]=v=>p.$emit("addTarefa",s.node))},"+T"),y("button",{class:"btn-arvore delete-btn",onClick:g[6]||(g[6]=v=>p.$emit("removeNode",s.node))},"")])]),s.node.subitemizacoes&&s.node.subitemizacoes.length>0?(D(),k("div",Mj,[Ut(Cr(jP),{modelValue:s.node.subitemizacoes,"onUpdate:modelValue":g[12]||(g[12]=v=>s.node.subitemizacoes=v),group:{name:"tree",pull:!0,put:!0},"item-key":"id",animation:"200",onEnd:f},{item:gn(({element:v})=>[y("div",Nj,[Ut(m,{node:v,nivel:s.nivel+1,onAddItemizacao:g[7]||(g[7]=b=>p.$emit("addItemizacao",b)),onAddTarefa:g[8]||(g[8]=b=>p.$emit("addTarefa",b)),onRemoveNode:g[9]||(g[9]=b=>p.$emit("removeNode",b)),onUpdateTitle:g[10]||(g[10]=b=>p.$emit("updateTitle",b)),onOrdemChanged:g[11]||(g[11]=b=>p.$emit("ordemChanged",b))},null,8,["node","nivel"])])]),_:1},8,["modelValue"])])):ot("",!0),s.node.tarefas&&s.node.tarefas.length>0?(D(),k("div",{key:1,class:"tarefas-indent",style:Ao(l.value)},[y("ul",Dj,[(D(!0),k(yt,null,Ae(s.node.tarefas,v=>(D(),k("li",{key:v.id||v.nome},[y("span",null,[i.value&&r.value===v?Gt((D(),k("input",{key:0,"onUpdate:modelValue":g[13]||(g[13]=b=>o.value=b),onKeyup:Jg(b=>d(v),["enter"]),onBlur:b=>d(v),ref_for:!0,ref_key:"input",ref:a},null,40,Lj)),[[ae,o.value]]):(D(),k(yt,{key:1},[y("span",kj,q(v.nome),1),y("button",{class:"rename-btn",onClick:b=>u(v),title:"Renomear"},"",8,Fj)],64))]),y("button",{class:"btn-arvore delete-btn",onClick:b=>p.$emit("removeNode",v)},"",8,Uj)]))),128))])],4)):ot("",!0)],6)}}},jj=Is(Bj,[["__scopeId","data-v-64387110"]]),Hj={components:{Toast:fS,draggable:jP,TreeNode:jj},data(){return{treeData:[],showItemizacaoModal:!1,novaItemizacao:{nome:"",descricao:""},itemizacaoParent:null,showTarefaModal:!1,novaTarefa:{nome:"",descricao:"",ponto:0,minimo:0,maximo:0},tarefaParent:null,modalConfirmacao:{visivel:!1,node:null,isItemizacao:!1,titulo:"",mensagem:""}}},created(){this.fetchArvore()},methods:{voltar(){this.$router.back()},async fetchArvore(){try{const s=this.$route.params.processoId,t=await ne.get(`/processo/${s}/arvore/`);this.treeData=Array.isArray(t.data.arvore)?t.data.arvore:Array.isArray(t.data)?t.data:[]}catch{this.showToast("Erro ao buscar rvore.","error"),this.treeData=[]}},showToast(s,t="info"){this.$refs.toast&&typeof this.$refs.toast.show=="function"&&this.$refs.toast.show({message:s,type:t})},async persistOrder(s,t){try{await Promise.all(s.map((e,n)=>ne.patch(`/itemizacao/${e.id}/`,{ordem:n,itemSuperior:t}))),this.showToast("Ordem atualizada com sucesso!","success")}catch{this.showToast("Erro ao atualizar ordem!","error")}},onItemizacaoDrop(s,t){this.persistOrder(s,t)},onSubItemizacaoDrop({subitemizacoes:s,parentNode:t}){this.persistOrder(s,t.id)},openItemizacaoModal(s){this.novaItemizacao={nome:"",descricao:""},this.itemizacaoParent=s,this.showItemizacaoModal=!0},closeItemizacaoModal(){this.showItemizacaoModal=!1},async confirmAddItemizacao(){this.showItemizacaoModal=!1;const s=this.$route.params.processoId,t={nome:this.novaItemizacao.nome,descricao:this.novaItemizacao.descricao,processo:s,itemSuperior:this.itemizacaoParent?this.itemizacaoParent.id:null},e=await ne.post("/itemizacao/",t);this.itemizacaoParent?(Array.isArray(this.itemizacaoParent.subitemizacoes)||(this.itemizacaoParent.subitemizacoes=[]),this.itemizacaoParent.subitemizacoes.push(e.data),this.persistOrder(this.itemizacaoParent.subitemizacoes,this.itemizacaoParent.id)):(this.treeData.push(e.data),this.persistOrder(this.treeData,null)),this.showToast("Itemizao adicionada!","success")},openTarefaModal(s){this.novaTarefa={nome:"",descricao:"",ponto:0,minimo:0,maximo:0},this.tarefaParent=s,this.showTarefaModal=!0},closeTarefaModal(){this.showTarefaModal=!1},async confirmAddTarefa(){this.showTarefaModal=!1;const s=this.$route.params.processoId,t={nome:this.novaTarefa.nome,descricao:this.novaTarefa.descricao,ponto:this.novaTarefa.ponto,minimo:this.novaTarefa.minimo,maximo:this.novaTarefa.maximo,processo:s,item:this.tarefaParent.id},e=await ne.post("/tarefa-processo/",t);Array.isArray(this.tarefaParent.tarefas)||(this.tarefaParent.tarefas=[]),this.tarefaParent.tarefas.push(e.data),this.showToast("Tarefa adicionada!","success")},confirmRemoveNode(s){const t=Array.isArray(s.subitemizacoes)||Array.isArray(s.tarefas);this.modalConfirmacao={visivel:!0,node:s,isItemizacao:t,titulo:t?"Remover Itemizao":"Remover Tarefa",mensagem:t?"Deseja remover esta itemizao e todas as subitemizaes/tarefas abaixo dela?":"Deseja remover esta tarefa?"}},fecharModalConfirmacao(){this.modalConfirmacao.visivel=!1,this.modalConfirmacao.node=null},async removerNodeConfirmado(){const s=this.modalConfirmacao.node;if(this.modalConfirmacao.isItemizacao)try{await ne.delete(`/itemizacao/${s.id}/`),this.removeFromTree(this.treeData,s),this.showToast("Itemizao removida.","success")}catch(t){let e="Erro ao excluir a itemizao.";t.response&&t.response.data&&typeof t.response.data=="string"&&t.response.data.includes("because they are referenced through restricted foreign keys")&&(e="No  possvel excluir este processo pois ele est vinculado a itemizaes, tarefas e/ou processos de usurios. Remova primeiro esses vnculos antes de tentar excluir."),this.showToast(e,"error")}else try{await ne.delete(`/tarefa-processo/${s.id}/`),this.removeTarefaFromTree(this.treeData,s),this.showToast("Tarefa removida.","success")}catch(t){let e="Erro ao excluir a tarefa.";t.response&&t.response.data&&typeof t.response.data=="string"&&t.response.data.includes("because they are referenced through restricted foreign keys")&&(e="No  possvel excluir este processo pois ele est vinculado a itemizaes, tarefas e/ou processos de usurios. Remova primeiro esses vnculos antes de tentar excluir."),this.showToast(e,"error")}this.fecharModalConfirmacao()},removeFromTree(s,t){const e=s.findIndex(n=>n.id===t.id);if(e!==-1)return s.splice(e,1),this.persistOrder(s,null),!0;for(const n of s)if(Array.isArray(n.subitemizacoes)&&this.removeFromTree(n.subitemizacoes,t))return this.persistOrder(n.subitemizacoes,n.id),!0;return!1},removeTarefaFromTree(s,t){for(const e of s){if(Array.isArray(e.tarefas)){const n=e.tarefas.findIndex(i=>i.id===t.id);if(n!==-1)return e.tarefas.splice(n,1),!0}if(Array.isArray(e.subitemizacoes)&&this.removeTarefaFromTree(e.subitemizacoes,t))return!0}return!1},async handleUpdateTitle({node:s,title:t}){try{Array.isArray(s.subitemizacoes)||Array.isArray(s.tarefas)?(await ne.patch(`/itemizacao/${s.id}/`,{nome:t}),s.nome=t,this.showToast("Itemizao renomeada!","success")):(await ne.patch(`/tarefa-processo/${s.id}/`,{nome:t}),s.nome=t,this.showToast("Tarefa renomeada!","success"))}catch{this.showToast("Erro ao renomear.","error")}}}},Vj={class:"arvore-wrapper"},$j={class:"arvore-header"},Gj={style:{display:"flex","align-items":"center",gap:"12px"}},zj={xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:"none",stroke:"#fff","stroke-width":"2",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},Xj={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"#fff","stroke-width":"2",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},Wj={class:"arvore-card"},Kj={class:"arvore-lista"},Yj={class:"itemizacao-raiz"},qj={class:"modal-content modal-content-log"},Jj={class:"modal-header"},Qj={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"#ffa600","stroke-width":"2",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},Zj={class:"modal-actions"},tH={class:"btn-acoes salvar-btn",type:"submit"},eH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"3px"}},sH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#444",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"2px"}},nH={class:"modal-content modal-content-log"},iH={class:"modal-header"},rH={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#43a047",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},oH={class:"modal-actions"},aH={class:"btn-acoes salvar-btn",type:"submit"},lH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"3px"}},cH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#444",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"2px"}},uH={class:"modal-content modal-content-log"},hH={class:"modal-header"},dH={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#ffa600",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},fH={key:1,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"#d92424",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"4px"}},pH={class:"modal-actions"},gH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#fff",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"3px"}},mH={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#444",viewBox:"0 0 24 24",style:{"vertical-align":"middle","margin-right":"2px"}};function vH(s,t,e,n,i,r){const o=Us("TreeNode"),a=Us("draggable"),l=Us("Toast");return D(),k("div",Vj,[y("div",$j,[t[27]||(t[27]=y("h2",null,"rvore de Itemizaes",-1)),y("div",Gj,[y("button",{class:"btn-acoes voltar-btn",onClick:t[0]||(t[0]=(...c)=>r.voltar&&r.voltar(...c))},[(D(),k("svg",zj,t[23]||(t[23]=[y("path",{d:"M15 18l-6-6 6-6"},null,-1)]))),t[24]||(t[24]=bt(" Voltar "))]),y("button",{class:"btn-acoes salvar-btn",onClick:t[1]||(t[1]=c=>r.openItemizacaoModal(null))},[(D(),k("svg",Xj,t[25]||(t[25]=[y("path",{d:"M12 5v14M5 12h14"},null,-1)]))),t[26]||(t[26]=bt(" Itemizao Raiz "))])])]),t[56]||(t[56]=y("div",{class:"drag-info"}," Arraste os itens com o mouse para trocar de lugar. ",-1)),y("div",Wj,[y("div",Kj,[Ut(a,{modelValue:i.treeData,"onUpdate:modelValue":t[2]||(t[2]=c=>i.treeData=c),"item-key":"id",group:"{ name: 'tree' }",onEnd:t[3]||(t[3]=c=>r.onItemizacaoDrop(i.treeData,null))},{item:gn(({element:c,index:u})=>[y("div",Yj,[Ut(o,{node:c,nivel:0,onAddItemizacao:r.openItemizacaoModal,onAddTarefa:r.openTarefaModal,onRemoveNode:r.confirmRemoveNode,onUpdateTitle:r.handleUpdateTitle,onOrdemChanged:r.onSubItemizacaoDrop},null,8,["node","onAddItemizacao","onAddTarefa","onRemoveNode","onUpdateTitle","onOrdemChanged"])])]),_:1},8,["modelValue"])])]),i.showItemizacaoModal?(D(),k("div",{key:0,class:"modal modal-log",onClick:t[9]||(t[9]=Rt((...c)=>r.closeItemizacaoModal&&r.closeItemizacaoModal(...c),["self"]))},[y("div",qj,[y("div",Jj,[y("h3",null,[(D(),k("svg",Qj,t[28]||(t[28]=[y("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"},null,-1),y("path",{d:"M8 9h8M8 13h4"},null,-1)]))),t[29]||(t[29]=bt(" Nova Itemizao "))]),y("button",{class:"modal-close",onClick:t[4]||(t[4]=(...c)=>r.closeItemizacaoModal&&r.closeItemizacaoModal(...c))},"")]),t[36]||(t[36]=y("hr",{class:"section-divider"},null,-1)),y("form",{onSubmit:t[8]||(t[8]=Rt((...c)=>r.confirmAddItemizacao&&r.confirmAddItemizacao(...c),["prevent"]))},[y("label",null,[t[30]||(t[30]=bt(" Nome: ")),Gt(y("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>i.novaItemizacao.nome=c),required:"",autofocus:""},null,512),[[ae,i.novaItemizacao.nome]])]),y("label",null,[t[31]||(t[31]=bt(" Descrio: ")),Gt(y("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.novaItemizacao.descricao=c)},null,512),[[ae,i.novaItemizacao.descricao]])]),y("div",Zj,[y("button",tH,[(D(),k("svg",eH,t[32]||(t[32]=[y("path",{d:"M5 12l5 5L20 7",stroke:"#fff","stroke-width":"2",fill:"none"},null,-1)]))),t[33]||(t[33]=bt(" Adicionar "))]),y("button",{class:"btn-acoes cancelar-btn",type:"button",onClick:t[7]||(t[7]=(...c)=>r.closeItemizacaoModal&&r.closeItemizacaoModal(...c))},[(D(),k("svg",sH,t[34]||(t[34]=[y("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#444","stroke-width":"2"},null,-1),y("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#444","stroke-width":"2"},null,-1)]))),t[35]||(t[35]=bt(" Cancelar "))])])],32)])])):ot("",!0),i.showTarefaModal?(D(),k("div",{key:1,class:"modal modal-log",onClick:t[18]||(t[18]=Rt((...c)=>r.closeTarefaModal&&r.closeTarefaModal(...c),["self"]))},[y("div",nH,[y("div",iH,[y("h3",null,[(D(),k("svg",rH,t[37]||(t[37]=[y("circle",{cx:"12",cy:"12",r:"10",stroke:"#43a047","stroke-width":"2",fill:"none"},null,-1),y("path",{d:"M8 12l2 2l4-4",stroke:"#43a047","stroke-width":"2",fill:"none"},null,-1)]))),t[38]||(t[38]=bt(" Nova Tarefa "))]),y("button",{class:"modal-close",onClick:t[10]||(t[10]=(...c)=>r.closeTarefaModal&&r.closeTarefaModal(...c))},"")]),t[48]||(t[48]=y("hr",{class:"section-divider"},null,-1)),y("form",{onSubmit:t[17]||(t[17]=Rt((...c)=>r.confirmAddTarefa&&r.confirmAddTarefa(...c),["prevent"]))},[y("label",null,[t[39]||(t[39]=bt(" Nome: ")),Gt(y("input",{"onUpdate:modelValue":t[11]||(t[11]=c=>i.novaTarefa.nome=c),required:"",autofocus:""},null,512),[[ae,i.novaTarefa.nome]])]),y("label",null,[t[40]||(t[40]=bt(" Descrio: ")),Gt(y("input",{"onUpdate:modelValue":t[12]||(t[12]=c=>i.novaTarefa.descricao=c)},null,512),[[ae,i.novaTarefa.descricao]])]),y("label",null,[t[41]||(t[41]=bt(" Pontuao: ")),Gt(y("input",{"onUpdate:modelValue":t[13]||(t[13]=c=>i.novaTarefa.ponto=c),type:"number",required:"",min:"0"},null,512),[[ae,i.novaTarefa.ponto,void 0,{number:!0}]])]),y("label",null,[t[42]||(t[42]=bt(" Mnimo: ")),Gt(y("input",{"onUpdate:modelValue":t[14]||(t[14]=c=>i.novaTarefa.minimo=c),type:"number",required:"",min:"0"},null,512),[[ae,i.novaTarefa.minimo,void 0,{number:!0}]])]),y("label",null,[t[43]||(t[43]=bt(" Mximo: ")),Gt(y("input",{"onUpdate:modelValue":t[15]||(t[15]=c=>i.novaTarefa.maximo=c),type:"number",required:"",min:"0"},null,512),[[ae,i.novaTarefa.maximo,void 0,{number:!0}]])]),y("div",oH,[y("button",aH,[(D(),k("svg",lH,t[44]||(t[44]=[y("path",{d:"M5 12l5 5L20 7",stroke:"#fff","stroke-width":"2",fill:"none"},null,-1)]))),t[45]||(t[45]=bt(" Adicionar "))]),y("button",{class:"btn-acoes cancelar-btn",type:"button",onClick:t[16]||(t[16]=(...c)=>r.closeTarefaModal&&r.closeTarefaModal(...c))},[(D(),k("svg",cH,t[46]||(t[46]=[y("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#444","stroke-width":"2"},null,-1),y("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#444","stroke-width":"2"},null,-1)]))),t[47]||(t[47]=bt(" Cancelar "))])])],32)])])):ot("",!0),i.modalConfirmacao.visivel?(D(),k("div",{key:2,class:"modal modal-log",onClick:t[22]||(t[22]=Rt((...c)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...c),["self"]))},[y("div",uH,[y("div",hH,[y("h3",null,[i.modalConfirmacao.isItemizacao?(D(),k("svg",dH,t[49]||(t[49]=[y("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"},null,-1)]))):(D(),k("svg",fH,t[50]||(t[50]=[y("circle",{cx:"12",cy:"12",r:"10",stroke:"#d92424","stroke-width":"2",fill:"none"},null,-1)]))),bt(" "+q(i.modalConfirmacao.titulo),1)]),y("button",{class:"modal-close",onClick:t[19]||(t[19]=(...c)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...c))},"")]),t[55]||(t[55]=y("hr",{class:"section-divider"},null,-1)),y("div",null,[y("p",null,q(i.modalConfirmacao.mensagem),1)]),y("div",pH,[y("button",{class:"btn-acoes salvar-btn",onClick:t[20]||(t[20]=(...c)=>r.removerNodeConfirmado&&r.removerNodeConfirmado(...c))},[(D(),k("svg",gH,t[51]||(t[51]=[y("path",{d:"M5 12l5 5L20 7",stroke:"#fff","stroke-width":"2",fill:"none"},null,-1)]))),t[52]||(t[52]=bt(" Remover "))]),y("button",{class:"btn-acoes cancelar-btn",onClick:t[21]||(t[21]=(...c)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...c))},[(D(),k("svg",mH,t[53]||(t[53]=[y("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#444","stroke-width":"2"},null,-1),y("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#444","stroke-width":"2"},null,-1)]))),t[54]||(t[54]=bt(" Cancelar "))])])])])):ot("",!0),Ut(l,{ref:"toast"},null,512)])}const bH=Is(Hj,[["render",vH],["__scopeId","data-v-05e503a7"]]),yH={data(){return{processos:[],now:new Date,modalAberto:!1,processoModal:{},dialogSucesso:!1,usuarioProcessoId:null,processoId:null,showConfirmModal:!1,processoParaInscricao:null}},created(){this.fetchProcessos()},methods:{async fetchProcessos(){try{const s=await ne.get("/processo/"),t=Array.isArray(s.data.results)?s.data.results:[];t.sort((e,n)=>{const i=e.fim?new Date(e.fim):new Date(0),r=n.fim?new Date(n.fim):new Date(0);if(i.getTime()===r.getTime()){const o=e.inicio?new Date(e.inicio):new Date(0);return(n.inicio?new Date(n.inicio):new Date(0))-o}return r-i}),this.processos=t}catch{alert("Erro ao carregar os processos.")}},abrirModalConfirmacao(s){this.processoParaInscricao=s,this.showConfirmModal=!0},fecharModalConfirmacao(){this.showConfirmModal=!1,this.processoParaInscricao=null},async confirmarInscricao(){await this.submitProcess(this.processoParaInscricao),this.fecharModalConfirmacao()},async submitProcess(s){try{const e={usuario:localStorage.getItem("userId"),processo:s.id,status:"Iniciado",submetido:0},i=(await ne.post("/usuario-processo/",e)).data.id;localStorage.setItem("usuarioProcessoId",i),localStorage.setItem("processoId",s.id),this.usuarioProcessoId=i,this.processoId=s.id,this.dialogSucesso=!0}catch{alert("Ocorreu um erro ao tentar iniciar o processo.")}},irParaDocs(){this.dialogSucesso=!1,this.$router.push({name:"DocsUsuarioProcessoUser"})},formatDate(s){return s?new Date(s).toLocaleDateString("pt-BR"):"-"},canInscrever(s){if(!s.fim)return!0;const t=new Date(s.fim);return t.setHours(23,59,59,999),this.now<=t},openModal(s){this.processoModal=s,this.modalAberto=!0},closeModal(){this.modalAberto=!1,this.processoModal={}}}},EH={class:"processos"},SH={key:0,class:"nenhum-processo"},AH={class:"processos-lista"},wH={class:"processo-infos"},TH=["onClick"],CH={class:"processo-dados"},xH={class:"processo-acoes"},_H=["onClick"],PH={key:1,class:"processo-encerrado"},IH={class:"modal-content"},RH={class:"modal-titulo"},OH={class:"modal-section"},MH={class:"modal-section"},NH={class:"modal-content"},DH={class:"modal-header"},LH={class:"modal-actions"},kH={key:3,class:"custom-success-dialog"},FH={class:"custom-success-content"};function UH(s,t,e,n,i,r){var o;return D(),k("div",EH,[t[18]||(t[18]=y("h2",null,"Processos Disponveis",-1)),i.processos.length===0?(D(),k("div",SH," Nenhum processo disponvel no momento. ")):ot("",!0),y("ul",AH,[(D(!0),k(yt,null,Ae(i.processos,a=>(D(),k("li",{key:a.id,class:"processo-card"},[y("div",wH,[y("a",{href:"#",class:"processo-titulo-link",onClick:Rt(l=>r.openModal(a),["prevent"])},q(a.nome),9,TH),y("div",CH,[y("span",null,[t[8]||(t[8]=y("strong",null,"Incio:",-1)),bt(" "+q(r.formatDate(a.inicio)),1)]),y("span",null,[t[9]||(t[9]=y("strong",null,"Encerramento:",-1)),bt(" "+q(r.formatDate(a.fim)),1)]),y("span",null,[t[10]||(t[10]=y("strong",null,"Pontuao necessria:",-1)),bt(" "+q(a.pontos),1)])])]),y("div",xH,[r.canInscrever(a)?(D(),k("button",{key:0,class:"btn-inscricao",onClick:l=>r.abrirModalConfirmacao(a)}," Inscrever-se ",8,_H)):(D(),k("span",PH,"Encerrado"))])]))),128))]),i.modalAberto?(D(),k("div",{key:1,class:"modal-overlay",onClick:t[1]||(t[1]=Rt((...a)=>r.closeModal&&r.closeModal(...a),["self"]))},[y("div",IH,[y("span",{class:"modal-close",onClick:t[0]||(t[0]=(...a)=>r.closeModal&&r.closeModal(...a))},""),y("h3",RH,q(i.processoModal.nome),1),y("div",OH,[t[11]||(t[11]=y("strong",null,"Descrio:",-1)),y("div",null,q(i.processoModal.descricao||"No informado."),1)]),y("div",MH,[t[12]||(t[12]=y("strong",null,"Observao:",-1)),y("div",null,q(i.processoModal.observacao||"No informado."),1)])])])):ot("",!0),i.showConfirmModal?(D(),k("div",{key:2,class:"modal-overlay",onClick:t[5]||(t[5]=Rt((...a)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...a),["self"]))},[y("div",NH,[y("div",DH,[t[13]||(t[13]=y("h3",null,"Confirmao",-1)),y("button",{class:"modal-close",onClick:t[2]||(t[2]=(...a)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...a))},"")]),t[16]||(t[16]=y("hr",{class:"section-divider"},null,-1)),y("div",null,[y("p",null,[t[14]||(t[14]=bt("Deseja iniciar o processo de inscrio para ")),y("b",null,'"'+q((o=i.processoParaInscricao)==null?void 0:o.nome)+'"',1),t[15]||(t[15]=bt("?"))])]),y("div",LH,[y("button",{class:"btn-acoes salvar-btn",onClick:t[3]||(t[3]=(...a)=>r.confirmarInscricao&&r.confirmarInscricao(...a))},"Inscrever-se"),y("button",{class:"btn-acoes cancelar-btn",onClick:t[4]||(t[4]=(...a)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...a))},"Cancelar")])])])):ot("",!0),i.dialogSucesso?(D(),k("div",kH,[y("div",FH,[t[17]||(t[17]=y("div",{class:"custom-success-message"}," Inscrio iniciada com sucesso! ",-1)),y("button",{class:"btn-preencher",onClick:t[6]||(t[6]=(...a)=>r.irParaDocs&&r.irParaDocs(...a))}," Preencher Documentos "),y("span",{class:"custom-success-close",onClick:t[7]||(t[7]=a=>i.dialogSucesso=!1)},"")])])):ot("",!0)])}const P1=Is(yH,[["render",UH],["__scopeId","data-v-a53f5e73"]]),BH={name:"UsuarioForm",data(){return{form:{nome:"",login:"",email:"",email2:"",password:""},loading:!1,errorMessage:"",successMessage:"",isEditMode:!1,usuarioId:null}},mounted(){this.usuarioId=this.$route.params.id||null,this.usuarioId&&(this.isEditMode=!0,this.fetchUsuario())},methods:{async fetchUsuario(){this.loading=!0,this.errorMessage="";try{const{data:s}=await ne.get(`/usuario/${this.usuarioId}/`);this.form.nome=s.first_name||"",this.form.login=s.username||"",this.form.email=s.email||"",this.form.email2=s.email||""}catch{this.errorMessage="Erro ao carregar dados do usurio."}finally{this.loading=!1}},async handleSubmit(){if(this.errorMessage="",this.successMessage="",this.form.email!==this.form.email2){this.errorMessage="Os e-mails no coincidem.";return}if(!this.isEditMode&&!this.form.password){this.errorMessage="A senha  obrigatria.";return}this.loading=!0;try{this.isEditMode?(await ne.put(`/usuario/${this.usuarioId}/`,{username:this.form.login,first_name:this.form.nome,email:this.form.email,email2:this.form.email2}),this.successMessage="Usurio alterado com sucesso.",setTimeout(()=>{this.goBack()},2e3)):(await ne.post("/usuario/",{username:this.form.login,first_name:this.form.nome,email:this.form.email,email2:this.form.email2,password:this.form.password}),this.successMessage="Usurio cadastrado com sucesso. Verifique seu e-mail para confirmar o cadastro!",this.form={nome:"",login:"",email:"",email2:"",password:""})}catch(s){if(s.response&&s.response.data){const t=s.response.data;this.errorMessage=Object.values(t).flat().join(" ")}else this.errorMessage="Erro ao salvar usurio."}finally{this.loading=!1}},goBack(){this.$router.back()}}},jH={class:"usuario-form-outer"},HH={class:"usuario-form-panel"},VH={key:0},$H={key:1},GH={class:"form-field"},zH={class:"form-field"},XH={class:"form-field"},WH={class:"form-field"},KH={key:2,class:"form-field"},YH={class:"form-actions"},qH=["disabled"],JH={key:0},QH={key:1},ZH=["disabled"],tV={class:"usuario-form-messages"},eV={class:"form-message-section"},sV={key:0,class:"form-error"},nV={key:1,class:"form-success"},iV={key:2,class:"form-info"};function rV(s,t,e,n,i,r){return D(),k("div",jH,[y("div",HH,[y("form",{class:"usuario-form",onSubmit:t[6]||(t[6]=Rt((...o)=>r.handleSubmit&&r.handleSubmit(...o),["prevent"]))},[i.isEditMode?(D(),k("h2",$H,"Alterar Usurio")):(D(),k("h2",VH,"Cadastrar Usurio")),y("div",GH,[t[8]||(t[8]=y("label",{for:"nome"},"Nome",-1)),Gt(y("input",{id:"nome","onUpdate:modelValue":t[0]||(t[0]=o=>i.form.nome=o),type:"text",class:"input-form",required:""},null,512),[[ae,i.form.nome]])]),y("div",zH,[t[9]||(t[9]=y("label",{for:"login"},"Login",-1)),Gt(y("input",{id:"login","onUpdate:modelValue":t[1]||(t[1]=o=>i.form.login=o),type:"text",class:"input-form",required:""},null,512),[[ae,i.form.login]])]),y("div",XH,[t[10]||(t[10]=y("label",{for:"email"},"E-mail",-1)),Gt(y("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=o=>i.form.email=o),type:"email",class:"input-form",required:""},null,512),[[ae,i.form.email]])]),y("div",WH,[t[11]||(t[11]=y("label",{for:"email2"},"Confirmar E-mail",-1)),Gt(y("input",{id:"email2","onUpdate:modelValue":t[3]||(t[3]=o=>i.form.email2=o),type:"email",class:"input-form",required:""},null,512),[[ae,i.form.email2]])]),i.isEditMode?ot("",!0):(D(),k("div",KH,[t[12]||(t[12]=y("label",{for:"password"},"Senha",-1)),Gt(y("input",{id:"password","onUpdate:modelValue":t[4]||(t[4]=o=>i.form.password=o),type:"password",class:"input-form",required:""},null,512),[[ae,i.form.password]])])),y("div",YH,[y("button",{type:"submit",class:"btn-acoes submit-btn",disabled:i.loading},[i.loading?(D(),k("span",JH,"Salvando...")):(D(),k("span",QH,q(i.isEditMode?"Salvar Alteraes":"Cadastrar"),1))],8,qH),y("button",{type:"button",class:"btn-acoes cancel-btn",onClick:t[5]||(t[5]=(...o)=>r.goBack&&r.goBack(...o)),disabled:i.loading}," Cancelar ",8,ZH)])],32)]),t[14]||(t[14]=y("div",{class:"usuario-form-divider"},null,-1)),y("div",tV,[y("div",eV,[i.errorMessage?(D(),k("div",sV,q(i.errorMessage),1)):ot("",!0),i.successMessage?(D(),k("div",nV,[bt(q(i.successMessage)+" ",1),y("button",{class:"btn-acoes",onClick:t[7]||(t[7]=(...o)=>r.goBack&&r.goBack(...o)),style:{"margin-left":"16px","margin-top":"8px"}},"OK")])):ot("",!0),i.isEditMode?ot("",!0):(D(),k("div",iV,t[13]||(t[13]=[y("span",null," Aps o cadastro, voc receber um e-mail para confirmar sua conta. Seu cadastro ficar pendente at a confirmao do e-mail. ",-1)])))])])])}const I1=Is(BH,[["render",rV],["__scopeId","data-v-6dd7c271"]]),oV={data(){return{usuarioProcessos:[],loading:!1,isAuthenticated:!!localStorage.getItem("access_token"),isModalLogOpen:!1,logSelecionado:"",toast:{show:!1,message:"",type:"info"},toastTimeout:null,modalConfirmacao:{visivel:!1,acao:"",usuarioProcesso:null,titulo:"",mensagem:"",textoConfirmar:""}}},methods:{showToast(s,t="info",e=3500){this.toast.message=s,this.toast.type=t,this.toast.show=!0,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.toast.show=!1},e)},async fetchUsuarioProcessos(){this.loading=!0;try{const s=await ne.get(`/usuario-processo/by-user/${localStorage.getItem("userId")}`);let t=[];Array.isArray(s.data.results)?t=s.data.results:Array.isArray(s.data)?t=s.data:t=[],t.sort((e,n)=>e.data?n.data?n.data.localeCompare(e.data):-1:1),this.usuarioProcessos=t}catch{this.showToast("Erro ao carregar os processos.","error")}finally{this.loading=!1}},formatDataProcesso(s){return!s||s.length<10?"-":s.substring(8,10)+"/"+s.substring(5,7)+"/"+s.substring(0,4)},abrirConfirmacao(s,t){s==="submeter"?this.modalConfirmacao={visivel:!0,acao:"submeter",usuarioProcesso:t,titulo:"Submeter Processo",mensagem:"Deseja submeter o processo? A operao no poder ser desfeita.",textoConfirmar:"Submeter"}:s==="excluir"&&(this.modalConfirmacao={visivel:!0,acao:"excluir",usuarioProcesso:t,titulo:"Excluir Registro",mensagem:"Tem certeza que deseja excluir o registro?",textoConfirmar:"Excluir"})},fecharModalConfirmacao(){this.modalConfirmacao={visivel:!1,acao:"",usuarioProcesso:null,titulo:"",mensagem:"",textoConfirmar:""}},async confirmarAcao(){this.modalConfirmacao.acao==="submeter"?await this.submeterProcesso(this.modalConfirmacao.usuarioProcesso.id,this.modalConfirmacao.usuarioProcesso.processo):this.modalConfirmacao.acao==="excluir"&&await this.deletarProcesso(this.modalConfirmacao.usuarioProcesso.id),this.fecharModalConfirmacao()},async submeterProcesso(s,t){const e=new FormData;e.append("usuario",localStorage.getItem("userId")),e.append("status","Submetido"),e.append("processo",t);try{await ne.put(`/usuario-processo/${s}/`,e),this.fetchUsuarioProcessos(),this.showToast("Processo submetido com sucesso!","success")}catch(n){let i="Erro ao submeter o processo.";n.response&&n.response.data&&n.response.data.non_field_errors&&(i=n.response.data.non_field_errors[0]),this.showToast(i,"error")}},baixarPdfProcesso(s){s.link_processo_pdf?window.open(s.link_processo_pdf,"_blank"):this.showToast("Link do PDF no disponvel.","error")},async getInscricao(s){localStorage.setItem("usuarioProcessoId",s.id),localStorage.setItem("processoId",s.processo),this.$router.push({name:"DocsUsuarioProcessoUser"})},async deletarProcesso(s){try{await ne.delete(`/usuario-processo/${s}/`),this.fetchUsuarioProcessos(),this.showToast("Registro excludo com sucesso.","success")}catch{this.showToast("Erro ao excluir o processo. Arquivos foram enviados.","error")}},abrirLog(s){this.logSelecionado=s.log||"",this.isModalLogOpen=!0},fecharLog(){this.isModalLogOpen=!1,this.logSelecionado=""},getTotalPontosProcesso(s){return s.processo_pontos!=null?s.processo_pontos:s.processo&&s.processo.pontos!=null?s.processo.pontos:s.pontos_maximos!=null?s.pontos_maximos:0},calcularPorcentagem(s){const t=this.getTotalPontosProcesso(s);return t?Math.round(s.total_pontos/t*100):0}},mounted(){this.isAuthenticated&&this.fetchUsuarioProcessos()}},aV={key:0,class:"auth-message"},lV={key:1,class:"usuario-processos"},cV={key:0,class:"table-wrapper"},uV={class:"usuario-processos-table"},hV=["title"],dV={class:"pontos-col"},fV={class:"progress-bar-outer"},pV=["title"],gV={class:"progress-label"},mV={class:"processo-data"},vV={class:"status-col"},bV=["onClick"],yV=["onClick"],EV=["onClick"],SV=["onClick"],AV=["onClick"],wV={key:1,class:"nenhum-processo"},TV={class:"modal-content modal-content-log"},CV={class:"modal-header"},xV={class:"log-content"},_V={key:0},PV={key:1},IV={class:"modal-actions"},RV={class:"modal-content modal-content-log"},OV={class:"modal-header"},MV={class:"modal-actions"};function NV(s,t,e,n,i,r){return i.isAuthenticated?(D(),k("div",lV,[t[13]||(t[13]=y("div",{class:"header-actions"},[y("h2",null,"Meus Processos")],-1)),i.usuarioProcessos&&i.usuarioProcessos.length>0?(D(),k("div",cV,[y("table",uV,[t[8]||(t[8]=y("thead",null,[y("tr",null,[y("th",null,"Processo"),y("th",null,"Pontos"),y("th",null,"Data"),y("th",null,"Status"),y("th",null,"Aes")])],-1)),y("tbody",null,[(D(!0),k(yt,null,Ae(i.usuarioProcessos,o=>(D(),k("tr",{key:o.id},[y("td",null,[y("span",{class:"processo-nome",title:o.processo_nome},q(o.processo_nome),9,hV)]),y("td",dV,[y("div",fV,[y("div",{class:"progress-bar-inner",style:Ao({width:r.calcularPorcentagem(o)+"%"}),title:o.total_pontos+" de "+r.getTotalPontosProcesso(o)+" pontos"},null,12,pV),y("span",gV,q(o.total_pontos)+"/"+q(r.getTotalPontosProcesso(o)),1)])]),y("td",null,[y("span",mV,q(r.formatDataProcesso(o.data)),1)]),y("td",vV,[y("a",{href:"#",class:"status-link",onClick:Rt(a=>r.abrirLog(o),["prevent"])},q(o.status),9,bV)]),y("td",null,[o.status!="Submetido"&&o.status!="Finalizado"?(D(),k("button",{key:0,class:"btn-acoes submit-btn",onClick:a=>r.abrirConfirmacao("submeter",o)},"Submeter",8,yV)):ot("",!0),o.status=="Submetido"?(D(),k("button",{key:1,class:"btn-acoes",onClick:a=>r.baixarPdfProcesso(o)},"Download",8,EV)):ot("",!0),o.status!="Submetido"?(D(),k("button",{key:2,class:"btn-acoes visualizar-btn",onClick:a=>r.getInscricao(o)},"Documentos",8,SV)):ot("",!0),o.status=="Iniciado"?(D(),k("button",{key:3,class:"btn-acoes delete-btn",onClick:a=>r.abrirConfirmacao("excluir",o)},"Excluir",8,AV)):ot("",!0)])]))),128))])])])):i.loading?ot("",!0):(D(),k("div",wV,t[9]||(t[9]=[y("p",null,"Nenhum processo encontrado.",-1)]))),i.isModalLogOpen?(D(),k("div",{key:2,class:"modal modal-log",onClick:t[2]||(t[2]=Rt((...o)=>r.fecharLog&&r.fecharLog(...o),["self"]))},[y("div",TV,[y("div",CV,[t[10]||(t[10]=y("h3",null,"Histrico de Logs",-1)),y("button",{class:"modal-close",onClick:t[0]||(t[0]=(...o)=>r.fecharLog&&r.fecharLog(...o))},"")]),t[11]||(t[11]=y("hr",{class:"section-divider"},null,-1)),y("div",xV,[i.logSelecionado&&i.logSelecionado.trim()!==""?(D(),k("pre",_V,q(i.logSelecionado),1)):(D(),k("p",PV,"Nenhum log registrado."))]),y("div",IV,[y("button",{class:"btn-acoes cancelar-btn",onClick:t[1]||(t[1]=(...o)=>r.fecharLog&&r.fecharLog(...o))},"Fechar")])])])):ot("",!0),i.modalConfirmacao.visivel?(D(),k("div",{key:3,class:"modal modal-log",onClick:t[6]||(t[6]=Rt((...o)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...o),["self"]))},[y("div",RV,[y("div",OV,[y("h3",null,q(i.modalConfirmacao.titulo),1),y("button",{class:"modal-close",onClick:t[3]||(t[3]=(...o)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...o))},"")]),t[12]||(t[12]=y("hr",{class:"section-divider"},null,-1)),y("div",null,[y("p",null,q(i.modalConfirmacao.mensagem),1)]),y("div",MV,[y("button",{class:"btn-acoes salvar-btn",onClick:t[4]||(t[4]=(...o)=>r.confirmarAcao&&r.confirmarAcao(...o))},q(i.modalConfirmacao.textoConfirmar),1),y("button",{class:"btn-acoes cancelar-btn",onClick:t[5]||(t[5]=(...o)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...o))},"Cancelar")])])])):ot("",!0),i.toast.show?(D(),k("div",{key:4,class:vs(["custom-toast",i.toast.type])},q(i.toast.message),3)):ot("",!0)])):(D(),k("div",aV,t[7]||(t[7]=[y("p",null,"Por favor, faa login para acessar os documentos enviados.",-1)])))}const DV=Is(oV,[["render",NV],["__scopeId","data-v-6918e18a"]]),LV={data(){return{processoId:localStorage.getItem("processoId"),usuarioProcessoId:localStorage.getItem("usuarioProcessoId"),processos:[],pontos:null,pontosPorItem:{},openAccordions:[],isAuthenticated:!!localStorage.getItem("access_token"),pdfUrl:null,isModalTarefaOpen:!1,isModalDocOpen:!1,formData:{file:null,descricao:null,quantidade:null},uploadedDocuments:[],isEditMode:!1,editingDocumentIndex:null,tarefaSelecionada:null,taskId:null,avisoMaximo:"",modalConfirmacao:{visivel:!1,docId:null,titulo:"",mensagem:"",textoConfirmar:""},toast:{show:!1,message:"",type:"info"},toastTimeout:null}},computed:{totalEnviadoExcetoEdit(){let s=0;return this.uploadedDocuments.forEach(t=>{(!this.isEditMode||t.id!==this.editingDocumentIndex)&&(s+=Number(t.quantidade||0))}),s}},watch:{isModalTarefaOpen(s){s&&(this.avisoMaximo="")},"formData.quantidade"(s){this.avisoMaximo=""}},async mounted(){await this.fetchProcessoTreeUsuario()},methods:{showToast(s,t="info",e=3500){this.toast.message=s,this.toast.type=t,this.toast.show=!0,this.toastTimeout&&clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout(()=>{this.toast.show=!1},e)},async fetchProcessoTreeUsuario(){try{const t=(await ne.get(`/usuario-processo/${this.usuarioProcessoId}/processo-tree/`)).data;this.processos=[t],this.pontos=t.total_pontos,this.pontosPorItem=this.montarMapaPontos(t)}catch{this.showToast("Erro ao buscar processo do usurio.","error")}},montarMapaPontos(s){const t={};function e(n){n.forEach(i=>{t[i.id]=i.total_pontos||0,i.subitemizacoes&&e(i.subitemizacoes)})}return s.itemizacoes&&e(s.itemizacoes),t[s.id]=s.total_pontos,t},isOpen(s){return this.openAccordions.includes(s)},toggleAccordion(s){this.openAccordions.includes(s)?this.openAccordions=this.openAccordions.filter(t=>t!==s):this.openAccordions.push(s)},openTarefa(s){this.uploadedDocuments=s.documentos||[],this.formData={file:null,descricao:null,quantidade:null},this.tarefaSelecionada=s,this.taskId=s.id,this.editingDocumentIndex=null,this.isEditMode=!1,this.avisoMaximo="",this.isModalTarefaOpen=!0},async openDocumento(s){this.isModalDocOpen=!0,this.pdfUrl=s;try{const t=await fetch(this.pdfUrl);if(!t.ok)throw new Error("Error fetching PDF file");const e=await t.blob(),n=URL.createObjectURL(e);x_(n).promise.then(()=>{}).catch(()=>{})}catch{this.showToast("Erro ao abrir o documento.","error")}},closeModalDoc(){this.isModalDocOpen=!1},handleVoltar(){window.history.length>1?window.history.back():window.location.href="/"},closeModalTarefa(){this.isModalTarefaOpen=!1},handleFileChange(s){const t=s.target.files[0];t&&(this.formData.file=t,this.formData.filename=t.name)},async submitForm(){var i;const s=Number((i=this.tarefaSelecionada)==null?void 0:i.maximo);let t=0;this.uploadedDocuments.forEach(r=>{(!this.isEditMode||r.id!==this.editingDocumentIndex)&&(t+=Number(r.quantidade||0))});const e=Number(this.formData.quantidade||0);if(s>0&&t+e>s){const r=s-t;this.avisoMaximo=`O mximo permitido para esta tarefa  ${s}. Voc j enviou ${t}. S pode enviar mais ${r<0?0:r}.`,this.showToast(this.avisoMaximo,"error");return}const n=new FormData;!this.isEditMode&&this.formData&&(n.append("file",this.formData.file),n.append("filename",this.formData.filename),n.append("tarefaProcesso",this.taskId),n.append("usuarioProcesso",this.usuarioProcessoId)),this.isEditMode&&n.append("id",this.editingDocumentIndex),n.append("descricao",this.formData.descricao),n.append("quantidade",this.formData.quantidade);try{const r=this.isEditMode?await ne.put(`/usuario-docs/${this.editingDocumentIndex}/`,n,{headers:{"Content-Type":"multipart/form-data"}}):await ne.post("/usuario-docs/",n,{headers:{"Content-Type":"multipart/form-data"}});if(await this.fetchProcessoTreeUsuario(),this.tarefaSelecionada){const o=this.encontraTarefaPorId(this.taskId,this.processos[0]);o&&this.openTarefa(o)}this.showToast(this.isEditMode?"Documento alterado com sucesso!":"Documento enviado com sucesso!","success"),this.formData={},this.isEditMode=!1,this.editingDocumentIndex=null,this.avisoMaximo=""}catch(r){let o="Erro ao salvar o documento.";r.response&&(r.response.data.non_field_errors?o=r.response.data.non_field_errors[0]:o="Erro desconhecido, tente novamente."),this.showToast(o,"error")}},encontraTarefaPorId(s,t){function e(n){for(const i of n){if(i.tarefas){for(const r of i.tarefas)if(r.id===s)return r}if(i.subitemizacoes){const r=e(i.subitemizacoes);if(r)return r}}return null}return t.itemizacoes?e(t.itemizacoes):null},editDocument(s){this.isEditMode=!0,this.editingDocumentIndex=s.id,this.formData={file:null,descricao:s.descricao,quantidade:s.quantidade},this.avisoMaximo=""},cancelEdit(){this.isEditMode=!1,this.editingDocumentIndex=null,this.formData={},this.avisoMaximo=""},abrirConfirmacaoExcluir(s){this.modalConfirmacao={visivel:!0,docId:s,titulo:"Excluir Documento",mensagem:"Tem certeza que deseja excluir este documento?",textoConfirmar:"Excluir"}},fecharModalConfirmacao(){this.modalConfirmacao={visivel:!1,docId:null,titulo:"",mensagem:"",textoConfirmar:""}},async confirmarAcaoExcluir(){await this.deleteDocument(this.modalConfirmacao.docId),this.fecharModalConfirmacao()},async deleteDocument(s){try{if(await ne.delete(`/usuario-docs/${s}/`),await this.fetchProcessoTreeUsuario(),this.tarefaSelecionada){const t=this.encontraTarefaPorId(this.taskId,this.processos[0]);t&&this.openTarefa(t)}this.showToast("Documento excludo com sucesso!","success")}catch{this.showToast("Erro ao excluir o documento.","error")}},formatFilename(s,t=!0){if(!s)return"";const[n,i]=s.split(/(?=\.[^.]+$)/);if(!t||s.length<=40)return s;const r=i||"";return`${n.slice(0,40-(r.length?r.length+3:3))}...${r}`},isDocReajustada(s){return s.qdeReajustada!==null&&s.qdeReajustada!==void 0&&s.qdeReajustada!==s.quantidade}}},kV={key:0,class:"padrao-list"},FV={class:"accordion-item"},UV=["onClick"],BV={class:"processo-header-flex"},jV={class:"processo-title"},HV={key:0,class:"pontos-info"},VV={key:0,class:"pdf-link-right"},$V=["onClick"],GV={class:"accordion-content"},zV=["onClick"],XV={class:"itemizacao-title"},WV={key:0,class:"pontos-info"},KV={class:"accordion-content"},YV=["onClick"],qV={class:"subitem-title"},JV={key:0,class:"pontos-info"},QV={class:"accordion-content"},ZV=["onClick"],t6={class:"subsubitem-title"},e6={key:0,class:"pontos-info"},s6={class:"accordion-content"},n6={key:0},i6={class:"tarefa"},r6=["onClick"],o6={key:0},a6={class:"doc-filename-container"},l6=["onClick"],c6={class:"document-quantity-inline"},u6={key:0,class:"obs-reajuste-doc"},h6={key:0},d6={class:"tarefa"},f6=["onClick"],p6={key:0},g6={class:"doc-filename-container"},m6=["onClick"],v6={class:"document-quantity-inline"},b6={key:0,class:"obs-reajuste-doc"},y6={key:0},E6=["onClick"],S6={key:0},A6={class:"doc-filename-container"},w6=["onClick"],T6={class:"document-quantity-inline"},C6={key:0,class:"obs-reajuste-doc"},x6={class:"modal-content modal-content-doc"},_6={class:"header-actions"},P6=["src"],I6={class:"modal-content modal-content-tarefa modal-flex-vertical"},R6={key:0,class:"descricao-tarefa-topo"},O6={class:"descricao-tarefa-texto"},M6={class:"modal-flex"},N6={class:"form-section modal-flex-left"},D6={class:"form-group"},L6={class:"custom-file-upload"},k6=["disabled"],F6={class:"form-group"},U6=["for"],B6=["id","max"],j6={class:"form-group"},H6=["for"],V6=["id"],$6={key:0,class:"aviso-maximo"},G6={class:"button-container"},z6={type:"submit"},X6={class:"modal-flex-right"},W6={class:"dialog-scrollable"},K6={key:0},Y6={class:"document-details"},q6={class:"doc-filename-container"},J6=["onClick","title"],Q6={class:"document-quantity-inline"},Z6={key:0,class:"obs-reajuste-doc"},t$={class:"action-buttons"},e$=["onClick"],s$=["onClick"],n$={key:1,class:"no-docs"},i$={class:"modal-content modal-content-log"},r$={class:"modal-header"},o$={class:"modal-actions"};function a$(s,t,e,n,i,r){var o,a;return i.isAuthenticated?(D(),k("div",kV,[(D(!0),k(yt,null,Ae(i.processos,l=>(D(),k("div",{key:l.id},[y("div",FV,[y("div",{class:"accordion-header",onClick:c=>r.toggleAccordion(l.id)},[y("div",BV,[y("h3",jV,[bt(q(l.nome)+" ",1),i.pontosPorItem[l.id]!==void 0?(D(),k("span",HV," | Pontuao do usurio: "+q(i.pontosPorItem[l.id])+" / Pontuao necessria: "+q(l.pontos),1)):ot("",!0)]),l.link_processo_pdf?(D(),k("span",VV,[y("button",{class:"btn-back",onClick:t[0]||(t[0]=Rt((...c)=>r.handleVoltar&&r.handleVoltar(...c),["stop"]))}," Voltar"),y("button",{class:"btn-download-processo",onClick:Rt(c=>r.openDocumento(l.link_processo_pdf),["stop"])}," Download ",8,$V)])):ot("",!0)])],8,UV),Gt(y("div",GV,[(D(!0),k(yt,null,Ae(l.itemizacoes,c=>(D(),k("div",{key:c.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:u=>r.toggleAccordion(c.id)},[y("h4",XV,[bt(q(c.nome)+" ",1),i.pontosPorItem[c.id]!==void 0?(D(),k("span",WV," | "+q(i.pontosPorItem[c.id]),1)):ot("",!0)])],8,zV),Gt(y("div",KV,[(D(!0),k(yt,null,Ae(c.subitemizacoes,u=>(D(),k("div",{key:u.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:d=>r.toggleAccordion(u.id)},[y("h5",qV,[bt(q(u.nome)+" ",1),i.pontosPorItem[u.id]!==void 0?(D(),k("span",JV," | "+q(i.pontosPorItem[u.id]),1)):ot("",!0)])],8,YV),Gt(y("div",QV,[(D(!0),k(yt,null,Ae(u.subitemizacoes,d=>(D(),k("div",{key:d.id,class:"accordion-item"},[y("div",{class:"accordion-header",onClick:f=>r.toggleAccordion(d.id)},[y("h6",t6,[bt(q(d.nome)+" ",1),i.pontosPorItem[d.id]!==void 0?(D(),k("span",e6," | "+q(i.pontosPorItem[d.id]),1)):ot("",!0)])],8,ZV),Gt(y("div",s6,[d.tarefas&&d.tarefas.length?(D(),k("ul",n6,[(D(!0),k(yt,null,Ae(d.tarefas,f=>(D(),k("li",{key:f.id},[y("div",i6,[y("div",{onClick:Rt(p=>r.openTarefa(f),["stop"])},q(f.nome)+" ("+q(f.ponto)+" pts) ",9,r6),f.documentos&&f.documentos.length?(D(),k("ul",o6,[(D(!0),k(yt,null,Ae(f.documentos,p=>(D(),k("li",{key:p.id,style:{"margin-left":"10px"}},[y("div",a6,[y("span",null,[y("a",{class:vs(["doc-filename",{reajustada:r.isDocReajustada(p)}]),onClick:Rt(g=>r.openDocumento(p.file),["stop","prevent"]),href:"#"},q(r.formatFilename(p.filename,!0)),11,l6),y("span",c6,[r.isDocReajustada(p)?(D(),k(yt,{key:0},[t[13]||(t[13]=bt(" Qde: ")),y("s",null,q(p.quantidade),1),bt(" "+q(p.qdeReajustada),1)],64)):(D(),k(yt,{key:1},[bt(" Qde: "+q(p.quantidade),1)],64))])]),r.isDocReajustada(p)&&p.obsReajuste?(D(),k("div",u6," ("+q(p.obsReajuste)+") ",1)):ot("",!0)])]))),128))])):ot("",!0)])]))),128))])):ot("",!0)],512),[[wr,r.isOpen(d.id)]])]))),128)),u.tarefas&&u.tarefas.length?(D(),k("ul",h6,[(D(!0),k(yt,null,Ae(u.tarefas,d=>(D(),k("li",{key:d.id},[y("div",d6,[y("div",{onClick:Rt(f=>r.openTarefa(d),["stop"])},q(d.nome)+" ("+q(d.ponto)+" pts) ",9,f6),d.documentos&&d.documentos.length?(D(),k("ul",p6,[(D(!0),k(yt,null,Ae(d.documentos,f=>(D(),k("li",{key:f.id,style:{"margin-left":"10px"}},[y("div",g6,[y("span",null,[y("a",{class:vs(["doc-filename",{reajustada:r.isDocReajustada(f)}]),onClick:Rt(p=>r.openDocumento(f.file),["stop","prevent"]),href:"#"},q(r.formatFilename(f.filename,!0)),11,m6),y("span",v6,[r.isDocReajustada(f)?(D(),k(yt,{key:0},[t[14]||(t[14]=bt(" Qde: ")),y("s",null,q(f.quantidade),1),bt(" "+q(f.qdeReajustada),1)],64)):(D(),k(yt,{key:1},[bt(" Qde: "+q(f.quantidade),1)],64))])]),r.isDocReajustada(f)&&f.obsReajuste?(D(),k("div",b6," ("+q(f.obsReajuste)+") ",1)):ot("",!0)])]))),128))])):ot("",!0)])]))),128))])):ot("",!0)],512),[[wr,r.isOpen(u.id)]])]))),128)),c.tarefas&&c.tarefas.length?(D(),k("ul",y6,[(D(!0),k(yt,null,Ae(c.tarefas,u=>(D(),k("li",{key:u.id},[y("div",{class:"tarefa",onClick:Rt(d=>r.openTarefa(u),["stop"])},[bt(q(u.nome)+" ("+q(u.ponto)+" pts) ",1),u.documentos&&u.documentos.length?(D(),k("ul",S6,[(D(!0),k(yt,null,Ae(u.documentos,d=>(D(),k("li",{key:d.id,style:{"margin-left":"10px"}},[y("div",A6,[y("span",null,[y("a",{class:vs(["doc-filename",{reajustada:r.isDocReajustada(d)}]),onClick:Rt(f=>r.openDocumento(d.file),["stop","prevent"]),href:"#"},q(r.formatFilename(d.filename,!0)),11,w6),y("span",T6,[r.isDocReajustada(d)?(D(),k(yt,{key:0},[t[15]||(t[15]=bt(" Qde: ")),y("s",null,q(d.quantidade),1),bt(" "+q(d.qdeReajustada),1)],64)):(D(),k(yt,{key:1},[bt(" Qde: "+q(d.quantidade),1)],64))])]),r.isDocReajustada(d)&&d.obsReajuste?(D(),k("div",C6," ("+q(d.obsReajuste)+") ",1)):ot("",!0)])]))),128))])):ot("",!0)],8,E6)]))),128))])):ot("",!0)],512),[[wr,r.isOpen(c.id)]])]))),128))],512),[[wr,r.isOpen(l.id)]])])]))),128)),i.isModalDocOpen?(D(),k("div",{key:0,class:"modal modal-doc",onClick:t[2]||(t[2]=Rt((...l)=>r.closeModalDoc&&r.closeModalDoc(...l),["self"]))},[y("div",x6,[y("div",_6,[t[16]||(t[16]=y("h1",null,"Documento",-1)),y("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=Rt((...l)=>r.closeModalDoc&&r.closeModalDoc(...l),["stop"]))},"Fechar")]),t[17]||(t[17]=y("hr",{class:"section-divider"},null,-1)),y("iframe",{src:i.pdfUrl},null,8,P6)])])):ot("",!0),i.isModalTarefaOpen?(D(),k("div",{key:1,class:"modal modal-tarefa",onClick:t[9]||(t[9]=Rt((...l)=>r.closeModalTarefa&&r.closeModalTarefa(...l),["self"]))},[y("div",I6,[i.tarefaSelecionada&&i.tarefaSelecionada.descricao?(D(),k("div",R6,[t[18]||(t[18]=y("strong",null,"Descrio da Tarefa:",-1)),y("div",O6,q(i.tarefaSelecionada.descricao),1)])):ot("",!0),y("div",M6,[y("div",N6,[y("form",{onSubmit:t[8]||(t[8]=Rt(l=>r.submitForm(),["prevent"])),enctype:"multipart/form-data"},[y("div",D6,[t[20]||(t[20]=y("label",{for:"inputArquivo"},"Arquivo:",-1)),y("label",L6,[i.isEditMode?ot("",!0):(D(),k("input",{key:0,type:"file",ref:"inputArquivo",id:"inputArquivo",onChange:t[3]||(t[3]=l=>r.handleFileChange(l)),disabled:i.isEditMode},null,40,k6)),y("span",null,[t[19]||(t[19]=y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[y("path",{fill:"#007bff",d:"M12 16.5c-.41 0-.75-.34-.75-.75V7.81l-2.22 2.22a.75.75 0 0 1-1.06-1.06l3.5-3.5a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 1 1-1.06 1.06L12.75 7.81v7.94c0 .41-.34.75-.75.75ZM6 19.25a.75.75 0 0 1 0-1.5h12a.75.75 0 0 1 0 1.5H6Z"})],-1)),y("span",null,q(i.formData.file?i.formData.file.name:"Selecionar arquivo"),1)])])]),y("div",F6,[y("label",{for:i.formData.quantidade}," Quantidade (mx: "+q(((o=i.tarefaSelecionada)==null?void 0:o.maximo)||"-")+") ",9,U6),Gt(y("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>i.formData.quantidade=l),id:i.formData.quantidade,required:"",min:"1",max:(a=i.tarefaSelecionada)!=null&&a.maximo?i.tarefaSelecionada.maximo-r.totalEnviadoExcetoEdit:null},null,8,B6),[[ae,i.formData.quantidade]])]),y("div",j6,[y("label",{for:i.formData.descricao},"Descrio:",8,H6),Gt(y("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.formData.descricao=l),id:i.formData.descricao},null,8,V6),[[ae,i.formData.descricao]])]),i.avisoMaximo?(D(),k("div",$6,q(i.avisoMaximo),1)):ot("",!0),y("div",G6,[y("button",z6,q(i.isEditMode?"Alterar":"Enviar"),1),i.isEditMode?(D(),k("button",{key:0,type:"button",onClick:t[6]||(t[6]=(...l)=>r.cancelEdit&&r.cancelEdit(...l))},"Cancelar")):ot("",!0),y("button",{type:"button",onClick:t[7]||(t[7]=Rt((...l)=>r.closeModalTarefa&&r.closeModalTarefa(...l),["stop"]))},"Fechar")])],32)]),t[24]||(t[24]=y("div",{class:"vertical-divider"},null,-1)),y("div",X6,[t[23]||(t[23]=y("h4",{class:"section-title"},"Documentos Enviados",-1)),y("div",W6,[i.uploadedDocuments&&i.uploadedDocuments.length?(D(),k("div",K6,[(D(!0),k(yt,null,Ae(i.uploadedDocuments,(l,c)=>(D(),k("div",{key:c,class:"uploaded-document"},[y("div",Y6,[y("div",q6,[y("span",null,[y("a",{class:vs(["download doc-filename",{reajustada:r.isDocReajustada(l)}]),onClick:Rt(u=>r.openDocumento(l.file),["stop","prevent"]),href:"#",title:r.formatFilename(l.filename,!1)},q(r.formatFilename(l.filename,!0)),11,J6),y("span",Q6,[r.isDocReajustada(l)?(D(),k(yt,{key:0},[t[21]||(t[21]=bt(" Qde: ")),y("s",null,q(l.quantidade),1),bt(" "+q(l.qdeReajustada),1)],64)):(D(),k(yt,{key:1},[bt(" Qde: "+q(l.quantidade),1)],64))])]),r.isDocReajustada(l)&&l.obsReajuste?(D(),k("div",Z6," ("+q(l.obsReajuste)+") ",1)):ot("",!0)])]),t[22]||(t[22]=y("div",{class:"vertical-action-divider"},null,-1)),y("div",t$,[y("button",{class:"btn edit-btn btn-sm",onClick:u=>r.editDocument(l)}," Alterar ",8,e$),y("button",{class:"btn delete-btn btn-sm",onClick:u=>r.abrirConfirmacaoExcluir(l.id)}," Excluir ",8,s$)])]))),128))])):(D(),k("div",n$,"Nenhum documento enviado."))])])])])])):ot("",!0),i.modalConfirmacao.visivel?(D(),k("div",{key:2,class:"modal modal-log",onClick:t[12]||(t[12]=Rt((...l)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...l),["self"]))},[y("div",i$,[y("div",r$,[y("h3",null,q(i.modalConfirmacao.titulo),1)]),t[25]||(t[25]=y("hr",{class:"section-divider"},null,-1)),y("div",null,[y("p",null,q(i.modalConfirmacao.mensagem),1)]),y("div",o$,[y("button",{class:"btn-acoes salvar-btn",onClick:t[10]||(t[10]=(...l)=>r.confirmarAcaoExcluir&&r.confirmarAcaoExcluir(...l))},q(i.modalConfirmacao.textoConfirmar),1),y("button",{class:"btn-acoes cancelar-btn",onClick:t[11]||(t[11]=(...l)=>r.fecharModalConfirmacao&&r.fecharModalConfirmacao(...l))},"Cancelar")])])])):ot("",!0),i.toast.show?(D(),k("div",{key:3,class:vs(["custom-toast",i.toast.type])},q(i.toast.message),3)):ot("",!0)])):ot("",!0)}const l$=Is(LV,[["render",a$],["__scopeId","data-v-9629955e"]]),c$={name:"AtivarConta",data(){return{status:"",errorMsg:""}},async mounted(){var i,r;const{uid:s,uidb64:t,token:e}=this.$route.params,n=s||t;try{await ne.get(`/activate/${n}/${e}/`),this.status="success"}catch(o){this.status="error",this.errorMsg=((r=(i=o.response)==null?void 0:i.data)==null?void 0:r.detail)||"Falha na ativao da conta. O link pode estar expirado ou invlido."}}},u$={class:"ativar-conta-page"},h$={key:0,class:"ativacao-msg success"},d$={key:1,class:"ativacao-msg error"},f$={key:2,class:"ativacao-msg"};function p$(s,t,e,n,i,r){return D(),k("div",u$,[i.status==="success"?(D(),k("div",h$,t[0]||(t[0]=[y("h2",null,"Conta ativada com sucesso!",-1),y("p",null,"Sua conta foi ativada. Agora voc pode acessar normalmente.",-1)]))):i.status==="error"?(D(),k("div",d$,[t[1]||(t[1]=y("h2",null,"Erro na ativao",-1)),y("p",null,q(i.errorMsg),1)])):(D(),k("div",f$,t[2]||(t[2]=[y("p",null,"Validando seu link de ativao...",-1)])))])}const R1=Is(c$,[["render",p$],["__scopeId","data-v-b3da2c1f"]]),g$=[{path:"/",component:P1},{path:"/home",name:"Home",component:P1},{path:"/processo",name:"ListarProcesso",component:Kk},{path:"/processo/novo",name:"NovoProcesso",component:R0},{path:"/processo/editar/:id",name:"EditarProcesso",component:R0,props:!0},{path:"/processo/:processoId/arvore",name:"ItemizacaoTarefaTree",component:bH,props:!0},{path:"/usuario-processo",name:"ListarUsuarioProcesso",component:L2},{path:"/usuario-processo/novo",name:"NovoUsuarioProcesso",component:O0},{path:"/usuario-processo/editar/:id",name:"EditarUsuarioProcesso",component:O0,props:!0},{path:"/usuario-processo-docs",name:"DocsUsuarioProcesso",component:GU},{path:"/usuario-user/novo",name:"NovoUsuarioUser",component:I1},{path:"/usuario-user/editar/:id",name:"EditarUsuarioUser",component:I1,props:!0},{path:"/usuario-processo-user",name:"ListarUsuarioProcessoUser",component:DV},{path:"/usuario-processo-docs-user",name:"DocsUsuarioProcessoUser",component:l$},{path:"/ativar-conta/:uid/:token",name:"AtivarConta",component:R1},{path:"/activate/:uidb64/:token",name:"ActivateUser",component:R1,props:!0}],HP=xk({history:ek(),routes:g$});HP.beforeEach((s,t,e)=>{s.matched.some(n=>n.meta.requiresAuth)?localStorage.getItem("access_token")?e():e("/login"):e()});const nA=Qg(TL);nA.use(AD());nA.use(HP);nA.mount("#app");
